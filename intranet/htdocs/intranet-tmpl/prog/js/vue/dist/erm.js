(()=>{var e={493:function(e,t,n){"use strict";let a;n.r(t),n.d(t,{WITH_DIRECTIVES:()=>S,RESOLVE_FILTER:()=>C,isBuiltInType:()=>eg,isMemberExpressionNode:()=>eC,FRAGMENT:()=>s,processSlotOutlet:()=>nn,warnDeprecation:()=>eW,isFunctionType:()=>tT,SET_BLOCK_TRACKING:()=>q,createConditionalExpression:()=>es,NORMALIZE_STYLE:()=>P,createRoot:()=>Q,createSimpleExpression:()=>ea,toValidAssetId:()=>eU,transform:()=>tm,createReturnStatement:()=>ef,TO_DISPLAY_STRING:()=>D,createInterpolation:()=>ei,transformStyle:()=>nB,UNREF:()=>H,injectProp:()=>eF,parse:()=>nY,RESOLVE_DIRECTIVE:()=>w,createObjectExpression:()=>et,findDir:()=>eD,isMemberExpressionBrowser:()=>ew,RENDER_LIST:()=>N,createCompoundExpression:()=>er,isStaticExp:()=>eh,RENDER_SLOT:()=>V,V_MODEL_SELECT:()=>nw,createObjectProperty:()=>en,createSequenceExpression:()=>em,advancePositionWithMutation:()=>ex,getVNodeHelper:()=>eL,hasDynamicKeyVBind:()=>eP,createFunctionExpression:()=>el,transformOn:()=>ni,RESOLVE_DYNAMIC_COMPONENT:()=>A,traverseNode:()=>tf,isVSlot:()=>eR,KEEP_ALIVE:()=>u,CREATE_TEXT:()=>y,V_MODEL_DYNAMIC:()=>nC,createCompilerError:()=>l,trackSlotScopes:()=>tG,MERGE_PROPS:()=>T,hasScopeRef:()=>function e(t,n){if(!t||0===Object.keys(n).length)return!1;switch(t.type){case 1:for(let a=0;a<t.props.length;a++){let i=t.props[a];if(7===i.type&&(e(i.arg,n)||e(i.exp,n)))return!0}return t.children.some(t=>e(t,n));case 11:if(e(t.source,n))return!0;return t.children.some(t=>e(t,n));case 9:return t.branches.some(t=>e(t,n));case 10:if(e(t.condition,n))return!0;return t.children.some(t=>e(t,n));case 4:return!t.isStatic&&ey(t.content)&&!!n[t.content];case 8:return t.children.some(t=>(0,i.isObject)(t)&&e(t,n));case 5:case 12:return e(t.content,n);default:return!1}},isMemberExpression:()=>eS,CREATE_ELEMENT_BLOCK:()=>f,PUSH_SCOPE_ID:()=>F,generateCodeFrame:()=>i.generateCodeFrame,createAssignmentExpression:()=>e_,CREATE_COMMENT:()=>b,V_ON_WITH_MODIFIERS:()=>nS,DOMDirectiveTransforms:()=>nz,getConstantType:()=>ts,baseParse:()=>e0,parserOptions:()=>nT,baseCompile:()=>nb,transformBind:()=>nr,V_MODEL_RADIO:()=>nk,advancePositionWithClone:()=>eV,createArrayExpression:()=>ee,CREATE_BLOCK:()=>m,V_SHOW:()=>nV,assert:()=>e$,IS_REF:()=>Y,TRANSITION_GROUP:()=>n$,isText:()=>eO,getInnerRange:()=>eN,V_MODEL_CHECKBOX:()=>nE,TO_HANDLER_KEY:()=>j,checkCompatEnabled:()=>eZ,generate:()=>tb,isReferencedIdentifier:()=>tN,findProp:()=>eT,trackVForSlotScopes:()=>tQ,walkFunctionParams:()=>tx,GUARD_REACTIVE_PROPS:()=>R,walkIdentifiers:()=>tS,getMemoedVNodeCall:()=>ez,CREATE_VNODE:()=>h,isSimpleIdentifier:()=>ey,compile:()=>nH,createVNodeCall:()=>X,walkBlockDeclarations:()=>t$,CAMELIZE:()=>M,createTransformContext:()=>t_,V_MODEL_TEXT:()=>nA,RESOLVE_COMPONENT:()=>E,TO_HANDLERS:()=>I,buildProps:()=>t5,transformElement:()=>t3,createCacheExpression:()=>ec,isStaticProperty:()=>tB,createBlockStatement:()=>ed,createForLoopParams:()=>tZ,transformExpression:()=>tO,OPEN_BLOCK:()=>_,V_ON_WITH_KEYS:()=>nN,noopDirectiveTransform:()=>ny,SUSPENSE:()=>d,getVNodeBlockHelper:()=>ej,isTemplateNode:()=>eI,resolveComponentType:()=>t4,CAPITALIZE:()=>L,extractIdentifiers:()=>tD,CREATE_STATIC:()=>k,isSlotOutlet:()=>eM,WITH_CTX:()=>z,WITH_MEMO:()=>J,processExpression:()=>tR,buildSlots:()=>t0,isCoreComponent:()=>ev,createIfStatement:()=>ep,CREATE_SLOTS:()=>x,createStructuralDirectiveTransform:()=>th,CREATE_ELEMENT_VNODE:()=>g,makeBlock:()=>eH,TRANSITION:()=>nx,createCallExpression:()=>eo,POP_SCOPE_ID:()=>U,processIf:()=>tM,registerRuntimeHelpers:()=>W,IS_MEMO_SAME:()=>K,helperNameMap:()=>Z,isInDestructureAssignment:()=>tV,createDOMCompilerError:()=>nO,locStub:()=>G,createTemplateLiteral:()=>eu,isStaticPropertyKey:()=>tP,getBaseTransformPreset:()=>nv,NORMALIZE_PROPS:()=>O,processFor:()=>tU,BASE_TRANSITION:()=>p,isStaticArgOf:()=>eB,NORMALIZE_CLASS:()=>B,DOMNodeTransforms:()=>nU,transformModel:()=>nd,buildDirectiveArgs:()=>t6,TELEPORT:()=>c});var i=n("3577");function r(e){throw e}function o(e){}function l(e,t,n,a){let i=SyntaxError(String(e));return i.code=e,i.loc=t,i}let s=Symbol(""),c=Symbol(""),d=Symbol(""),u=Symbol(""),p=Symbol(""),_=Symbol(""),m=Symbol(""),f=Symbol(""),h=Symbol(""),g=Symbol(""),b=Symbol(""),y=Symbol(""),k=Symbol(""),E=Symbol(""),A=Symbol(""),w=Symbol(""),C=Symbol(""),S=Symbol(""),N=Symbol(""),V=Symbol(""),x=Symbol(""),D=Symbol(""),T=Symbol(""),B=Symbol(""),P=Symbol(""),O=Symbol(""),R=Symbol(""),I=Symbol(""),M=Symbol(""),L=Symbol(""),j=Symbol(""),q=Symbol(""),F=Symbol(""),U=Symbol(""),z=Symbol(""),H=Symbol(""),Y=Symbol(""),J=Symbol(""),K=Symbol(""),Z={[s]:"Fragment",[c]:"Teleport",[d]:"Suspense",[u]:"KeepAlive",[p]:"BaseTransition",[_]:"openBlock",[m]:"createBlock",[f]:"createElementBlock",[h]:"createVNode",[g]:"createElementVNode",[b]:"createCommentVNode",[y]:"createTextVNode",[k]:"createStaticVNode",[E]:"resolveComponent",[A]:"resolveDynamicComponent",[w]:"resolveDirective",[C]:"resolveFilter",[S]:"withDirectives",[N]:"renderList",[V]:"renderSlot",[x]:"createSlots",[D]:"toDisplayString",[T]:"mergeProps",[B]:"normalizeClass",[P]:"normalizeStyle",[O]:"normalizeProps",[R]:"guardReactiveProps",[I]:"toHandlers",[M]:"camelize",[L]:"capitalize",[j]:"toHandlerKey",[q]:"setBlockTracking",[F]:"pushScopeId",[U]:"popScopeId",[z]:"withCtx",[H]:"unref",[Y]:"isRef",[J]:"withMemo",[K]:"isMemoSame"};function W(e){Object.getOwnPropertySymbols(e).forEach(t=>{Z[t]=e[t]})}let G={source:"",start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}};function Q(e,t=G){return{type:0,children:e,helpers:[],components:[],directives:[],hoists:[],imports:[],cached:0,temps:0,codegenNode:void 0,loc:t}}function X(e,t,n,a,i,r,o,l=!1,s=!1,c=!1,d=G){return e&&(l?(e.helper(_),e.helper(ej(e.inSSR,c))):e.helper(eL(e.inSSR,c)),o&&e.helper(S)),{type:13,tag:t,props:n,children:a,patchFlag:i,dynamicProps:r,directives:o,isBlock:l,disableTracking:s,isComponent:c,loc:d}}function ee(e,t=G){return{type:17,loc:t,elements:e}}function et(e,t=G){return{type:15,loc:t,properties:e}}function en(e,t){return{type:16,loc:G,key:(0,i.isString)(e)?ea(e,!0):e,value:t}}function ea(e,t=!1,n=G,a=0){return{type:4,loc:n,content:e,isStatic:t,constType:t?3:a}}function ei(e,t){return{type:5,loc:t,content:(0,i.isString)(e)?ea(e,!1,t):e}}function er(e,t=G){return{type:8,loc:t,children:e}}function eo(e,t=[],n=G){return{type:14,loc:n,callee:e,arguments:t}}function el(e,t,n=!1,a=!1,i=G){return{type:18,params:e,returns:t,newline:n,isSlot:a,loc:i}}function es(e,t,n,a=!0){return{type:19,test:e,consequent:t,alternate:n,newline:a,loc:G}}function ec(e,t,n=!1){return{type:20,index:e,value:t,isVNode:n,loc:G}}function ed(e){return{type:21,body:e,loc:G}}function eu(e){return{type:22,elements:e,loc:G}}function ep(e,t,n){return{type:23,test:e,consequent:t,alternate:n,loc:G}}function e_(e,t){return{type:24,left:e,right:t,loc:G}}function em(e){return{type:25,expressions:e,loc:G}}function ef(e){return{type:26,returns:e,loc:G}}let eh=e=>4===e.type&&e.isStatic,eg=(e,t)=>e===t||e===(0,i.hyphenate)(t);function ev(e){if(eg(e,"Teleport"))return c;if(eg(e,"Suspense"))return d;if(eg(e,"KeepAlive"))return u;else if(eg(e,"BaseTransition"))return p}let eb=/^\d|[^\$\w]/,ey=e=>!eb.test(e),ek=/[A-Za-z_$\xA0-\uFFFF]/,eE=/[\.\?\w$\xA0-\uFFFF]/,eA=/\s+[.[]\s*|\s*[.[]\s+/g,ew=e=>{e=e.trim().replace(eA,e=>e.trim());let t=0,n=[],a=0,i=0,r=null;for(let o=0;o<e.length;o++){let l=e.charAt(o);switch(t){case 0:if("["===l)n.push(t),t=1,a++;else if("("===l)n.push(t),t=2,i++;else if(!(0===o?ek:eE).test(l))return!1;break;case 1:"'"===l||'"'===l||"`"===l?(n.push(t),t=3,r=l):"["===l?a++:"]"===l&&!--a&&(t=n.pop());break;case 2:if("'"===l||'"'===l||"`"===l)n.push(t),t=3,r=l;else if("("===l)i++;else if(")"===l){if(o===e.length-1)return!1;!--i&&(t=n.pop())}break;case 3:l===r&&(t=n.pop(),r=null)}}return!a&&!i},eC=i.NOOP,eS=ew;function eN(e,t,n){let a={source:e.source.slice(t,t+n),start:eV(e.start,e.source,t),end:e.end};return null!=n&&(a.end=eV(e.start,e.source,t+n)),a}function eV(e,t,n=t.length){return ex((0,i.extend)({},e),t,n)}function ex(e,t,n=t.length){let a=0,i=-1;for(let e=0;e<n;e++)10===t.charCodeAt(e)&&(a++,i=e);return e.offset+=n,e.line+=a,e.column=-1===i?e.column+n:n-i,e}function e$(e,t){if(!e)throw Error(t||"unexpected compiler condition")}function eD(e,t,n=!1){for(let a=0;a<e.props.length;a++){let r=e.props[a];if(7===r.type&&(n||r.exp)&&((0,i.isString)(t)?r.name===t:t.test(r.name)))return r}}function eT(e,t,n=!1,a=!1){for(let i=0;i<e.props.length;i++){let r=e.props[i];if(6===r.type){if(n)continue;if(r.name===t&&(r.value||a))return r}else if("bind"===r.name&&(r.exp||a)&&eB(r.arg,t))return r}}function eB(e,t){return!!(e&&eh(e)&&e.content===t)}function eP(e){return e.props.some(e=>7===e.type&&"bind"===e.name&&(!e.arg||4!==e.arg.type||!e.arg.isStatic))}function eO(e){return 5===e.type||2===e.type}function eR(e){return 7===e.type&&"slot"===e.name}function eI(e){return 1===e.type&&3===e.tagType}function eM(e){return 1===e.type&&2===e.tagType}function eL(e,t){return e||t?h:g}function ej(e,t){return e||t?m:f}let eq=new Set([O,R]);function eF(e,t,n){let a,r;let o=13===e.type?e.props:e.arguments[2],l=[];if(o&&!(0,i.isString)(o)&&14===o.type){let e=function e(t,n=[]){if(t&&!(0,i.isString)(t)&&14===t.type){let a=t.callee;if(!(0,i.isString)(a)&&eq.has(a))return e(t.arguments[0],n.concat(t))}return[t,n]}(o);o=e[0],r=(l=e[1])[l.length-1]}if(null==o||(0,i.isString)(o))a=et([t]);else if(14===o.type){let e=o.arguments[0];(0,i.isString)(e)||15!==e.type?o.callee===I?a=eo(n.helper(T),[et([t]),o]):o.arguments.unshift(et([t])):e.properties.unshift(t),a||(a=o)}else if(15===o.type){let e=!1;if(4===t.key.type){let n=t.key.content;e=o.properties.some(e=>4===e.key.type&&e.key.content===n)}!e&&o.properties.unshift(t),a=o}else a=eo(n.helper(T),[et([t]),o]),r&&r.callee===R&&(r=l[l.length-2]);13===e.type?r?r.arguments[0]=a:e.props=a:r?r.arguments[0]=a:e.arguments[2]=a}function eU(e,t){return`_${t}_${e.replace(/[^\w]/g,(t,n)=>"-"===t?"_":e.charCodeAt(n).toString())}`}function ez(e){return 14===e.type&&e.callee===J?e.arguments[1].returns:e}function eH(e,{helper:t,removeHelper:n,inSSR:a}){!e.isBlock&&(e.isBlock=!0,n(eL(a,e.isComponent)),t(_),t(ej(a,e.isComponent)))}let eY={COMPILER_IS_ON_ELEMENT:{message:'Platform-native elements with "is" prop will no longer be treated as components in Vue 3 unless the "is" value is explicitly prefixed with "vue:".',link:"https://v3-migration.vuejs.org/breaking-changes/custom-elements-interop.html"},COMPILER_V_BIND_SYNC:{message:e=>`.sync modifier for v-bind has been removed. Use v-model with argument instead. \`v-bind:${e}.sync\` should be changed to \`v-model:${e}\`.`,link:"https://v3-migration.vuejs.org/breaking-changes/v-model.html"},COMPILER_V_BIND_PROP:{message:".prop modifier for v-bind has been removed and no longer necessary. Vue 3 will automatically set a binding as DOM property when appropriate."},COMPILER_V_BIND_OBJECT_ORDER:{message:'v-bind="obj" usage is now order sensitive and behaves like JavaScript object spread: it will now overwrite an existing non-mergeable attribute that appears before v-bind in the case of conflict. To retain 2.x behavior, move v-bind to make it the first attribute. You can also suppress this warning if the usage is intended.',link:"https://v3-migration.vuejs.org/breaking-changes/v-bind.html"},COMPILER_V_ON_NATIVE:{message:".native modifier for v-on has been removed as is no longer necessary.",link:"https://v3-migration.vuejs.org/breaking-changes/v-on-native-modifier-removed.html"},COMPILER_V_IF_V_FOR_PRECEDENCE:{message:"v-if / v-for precedence when used on the same element has changed in Vue 3: v-if now takes higher precedence and will no longer have access to v-for scope variables. It is best to avoid the ambiguity with <template> tags or use a computed property that filters v-for data source.",link:"https://v3-migration.vuejs.org/breaking-changes/v-if-v-for.html"},COMPILER_NATIVE_TEMPLATE:{message:"<template> with no special directives will render as a native template element instead of its inner content in Vue 3."},COMPILER_INLINE_TEMPLATE:{message:'"inline-template" has been removed in Vue 3.',link:"https://v3-migration.vuejs.org/breaking-changes/inline-template-attribute.html"},COMPILER_FILTER:{message:'filters have been removed in Vue 3. The "|" symbol will be treated as native JavaScript bitwise OR operator. Use method calls or computed properties instead.',link:"https://v3-migration.vuejs.org/breaking-changes/filters.html"}};function eJ(e,t){let n=t.options?t.options.compatConfig:t.compatConfig,a=n&&n[e];return"MODE"===e?a||3:a}function eK(e,t){let n=eJ("MODE",t),a=eJ(e,t);return 3===n?!0===a:!1!==a}function eZ(e,t,n,...a){let i=eK(e,t);return i}function eW(e,t,n,...a){if("suppress-warning"===eJ(e,t))return;let{message:i,link:r}=eY[e],o=SyntaxError(`(deprecation ${e}) ${"function"==typeof i?i(...a):i}${r?`
  Details: ${r}`:""}`);o.code=e,n&&(o.loc=n),t.onWarn(o)}let eG=/&(gt|lt|amp|apos|quot);/g,eQ={gt:">",lt:"<",amp:"&",apos:"'",quot:'"'},eX={delimiters:["{{","}}"],getNamespace:()=>0,getTextMode:()=>0,isVoidTag:i.NO,isPreTag:i.NO,isCustomElement:i.NO,decodeEntities:e=>e.replace(eG,(e,t)=>eQ[t]),onError:r,onWarn:o,comments:!1};function e0(e,t={}){let n=function(e,t){let n;let a=(0,i.extend)({},eX);for(n in t)a[n]=void 0===t[n]?eX[n]:t[n];return{options:a,column:1,line:1,offset:0,originalSource:e,source:e,inPre:!1,inVPre:!1,onWarn:a.onWarn}}(e,t),a=e7(n);return Q(e1(n,0,[]),e9(n,a))}function e1(e,t,n){let a=te(n),r=a?a.ns:0,o=[];for(;!function(e,t,n){let a=e.source;switch(t){case 0:if(tt(a,"</")){for(let e=n.length-1;e>=0;--e)if(to(a,n[e].tag))return!0}break;case 1:case 2:{let e=te(n);if(e&&to(a,e.tag))return!0;break}case 3:if(tt(a,"]]>"))return!0}return!a}(e,t,n);){let l,s=e.source;if(0===t||1===t){if(!e.inVPre&&tt(s,e.options.delimiters[0]))l=function(e,t){let[n,a]=e.options.delimiters,i=e.source.indexOf(a,n.length);if(-1===i){tr(e,25);return}let r=e7(e);tn(e,n.length);let o=e7(e),l=e7(e),s=i-n.length,c=e.source.slice(0,s),d=e6(e,s,t),u=d.trim(),p=d.indexOf(u);return p>0&&ex(o,c,p),ex(l,c,s-(d.length-u.length-p)),tn(e,a.length),{type:5,content:{type:4,isStatic:!1,constType:0,content:u,loc:e9(e,o,l)},loc:e9(e,r)}}(e,t);else if(0===t&&"<"===s[0]){if(1===s.length)tr(e,5,1);else if("!"===s[1])tt(s,"\x3c!--")?l=function(e){let t;let n=e7(e),a=/--(\!)?>/.exec(e.source);if(a){a.index<=3&&tr(e,0),a[1]&&tr(e,10),t=e.source.slice(4,a.index);let n=e.source.slice(0,a.index),i=1,r=0;for(;-1!==(r=n.indexOf("\x3c!--",i));)tn(e,r-i+1),r+4<n.length&&tr(e,16),i=r+1;tn(e,a.index+a[0].length-i+1)}else t=e.source.slice(4),tn(e,e.source.length),tr(e,7);return{type:3,content:t,loc:e9(e,n)}}(e):tt(s,"<!DOCTYPE")?l=e3(e):tt(s,"<![CDATA[")?0!==r?l=function(e,t){tn(e,9);let n=e1(e,3,t);return 0===e.source.length?tr(e,6):tn(e,3),n}(e,n):(tr(e,1),l=e3(e)):(tr(e,11),l=e3(e));else if("/"===s[1]){if(2===s.length)tr(e,5,2);else if(">"===s[2]){tr(e,14,2),tn(e,3);continue}else if(/[a-z]/i.test(s[2])){tr(e,23),e5(e,1,a);continue}else tr(e,12,2),l=e3(e)}else/[a-z]/i.test(s[1])?(l=function(e,t){let n=e.inPre,a=e.inVPre,i=te(t),r=e5(e,0,i),o=e.inPre&&!n,l=e.inVPre&&!a;if(r.isSelfClosing||e.options.isVoidTag(r.tag))return o&&(e.inPre=!1),l&&(e.inVPre=!1),r;t.push(r);let s=e.options.getTextMode(r,i),c=e1(e,s,t);t.pop();{let t=r.props.find(e=>6===e.type&&"inline-template"===e.name);if(t&&eZ("COMPILER_INLINE_TEMPLATE",e,t.loc)){let n=e9(e,r.loc.end);t.value={type:2,content:n.source,loc:n}}}if(r.children=c,to(e.source,r.tag))e5(e,1,i);else if(tr(e,24,0,r.loc.start),0===e.source.length&&"script"===r.tag.toLowerCase()){let t=c[0];t&&tt(t.loc.source,"\x3c!--")&&tr(e,8)}return r.loc=e9(e,r.loc.start),o&&(e.inPre=!1),l&&(e.inVPre=!1),r}(e,n),eK("COMPILER_NATIVE_TEMPLATE",e)&&l&&"template"===l.tag&&!l.props.some(e=>7===e.type&&e4(e.name))&&(l=l.children)):"?"===s[1]?(tr(e,21,1),l=e3(e)):tr(e,12,1)}}if(!l&&(l=function(e,t){let n=3===t?["]]>"]:["<",e.options.delimiters[0]],a=e.source.length;for(let t=0;t<n.length;t++){let i=e.source.indexOf(n[t],1);-1!==i&&a>i&&(a=i)}let i=e7(e);return{type:2,content:e6(e,a,t),loc:e9(e,i)}}(e,t)),(0,i.isArray)(l))for(let e=0;e<l.length;e++)e2(o,l[e]);else e2(o,l)}let l=!1;if(2!==t&&1!==t){let t="preserve"!==e.options.whitespace;for(let n=0;n<o.length;n++){let a=o[n];if(2===a.type){if(e.inPre)a.content=a.content.replace(/\r\n/g,"\n");else if(/[^\t\r\n\f ]/.test(a.content))t&&(a.content=a.content.replace(/[\t\r\n\f ]+/g," "));else{let e=o[n-1],i=o[n+1];!e||!i||t&&(3===e.type||3===i.type||1===e.type&&1===i.type&&/[\r\n]/.test(a.content))?(l=!0,o[n]=null):a.content=" "}}else 3===a.type&&!e.options.comments&&(l=!0,o[n]=null)}if(e.inPre&&a&&e.options.isPreTag(a.tag)){let e=o[0];e&&2===e.type&&(e.content=e.content.replace(/^\r?\n/,""))}}return l?o.filter(Boolean):o}function e2(e,t){if(2===t.type){let n=te(e);if(n&&2===n.type&&n.loc.end.offset===t.loc.start.offset){n.content+=t.content,n.loc.end=t.loc.end,n.loc.source+=t.loc.source;return}}e.push(t)}function e3(e){let t;let n=e7(e),a="?"===e.source[1]?1:2,i=e.source.indexOf(">");return -1===i?(t=e.source.slice(a),tn(e,e.source.length)):(t=e.source.slice(a,i),tn(e,i+1)),{type:3,content:t,loc:e9(e,n)}}let e4=(0,i.makeMap)("if,else,else-if,for,slot");function e5(e,t,n){let a=e7(e),r=/^<\/?([a-z][^\t\r\n\f />]*)/i.exec(e.source),o=r[1],l=e.options.getNamespace(o,n);tn(e,r[0].length),ta(e);let s=e7(e),c=e.source;e.options.isPreTag(o)&&(e.inPre=!0);let d=e8(e,t);0===t&&!e.inVPre&&d.some(e=>7===e.type&&"pre"===e.name)&&(e.inVPre=!0,(0,i.extend)(e,s),e.source=c,d=e8(e,t).filter(e=>"v-pre"!==e.name));let u=!1;if(0===e.source.length?tr(e,9):(u=tt(e.source,"/>"),1===t&&u&&tr(e,4),tn(e,u?2:1)),1===t)return;let p=0;return!e.inVPre&&("slot"===o?p=2:"template"===o?d.some(e=>7===e.type&&e4(e.name))&&(p=3):function(e,t,n){let a=n.options;if(a.isCustomElement(e))return!1;if("component"===e||/^[A-Z]/.test(e)||ev(e)||a.isBuiltInComponent&&a.isBuiltInComponent(e)||a.isNativeTag&&!a.isNativeTag(e))return!0;for(let e=0;e<t.length;e++){let a=t[e];if(6===a.type){if("is"===a.name&&a.value){if(a.value.content.startsWith("vue:"))return!0;if(eZ("COMPILER_IS_ON_ELEMENT",n,a.loc))return!0}}else{if("is"===a.name)return!0;if("bind"===a.name&&eB(a.arg,"is")&&eZ("COMPILER_IS_ON_ELEMENT",n,a.loc))return!0}}}(o,d,e)&&(p=1)),{type:1,ns:l,tag:o,tagType:p,props:d,isSelfClosing:u,children:[],loc:e9(e,a),codegenNode:void 0}}function e8(e,t){let n=[],a=new Set;for(;e.source.length>0&&!tt(e.source,">")&&!tt(e.source,"/>");){if(tt(e.source,"/")){tr(e,22),tn(e,1),ta(e);continue}1===t&&tr(e,3);let i=function(e,t){let n,a=e7(e),i=/^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(e.source)[0];t.has(i)&&tr(e,2),t.add(i),"="===i[0]&&tr(e,19);{let t;let n=/["'<]/g;for(;t=n.exec(i);)tr(e,17,t.index)}tn(e,i.length);/^[\t\r\n\f ]*=/.test(e.source)&&(ta(e),tn(e,1),ta(e),!(n=function(e){let t;let n=e7(e),a=e.source[0],i='"'===a||"'"===a;if(i){tn(e,1);let n=e.source.indexOf(a);-1===n?t=e6(e,e.source.length,4):(t=e6(e,n,4),tn(e,1))}else{let n;let a=/^[^\t\r\n\f >]+/.exec(e.source);if(!a)return;let i=/["'<=`]/g;for(;n=i.exec(a[0]);)tr(e,18,n.index);t=e6(e,a[0].length,4)}return{content:t,isQuoted:i,loc:e9(e,n)}}(e))&&tr(e,13));let r=e9(e,a);if(!e.inVPre&&/^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(i)){let t;let o=/(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(i),l=tt(i,"."),s=o[1]||(l||tt(i,":")?"bind":tt(i,"@")?"on":"slot");if(o[2]){let n="slot"===s,r=i.lastIndexOf(o[2]),l=e9(e,ti(e,a,r),ti(e,a,r+o[2].length+(n&&o[3]||"").length)),c=o[2],d=!0;c.startsWith("[")?(d=!1,c.endsWith("]")?c=c.slice(1,c.length-1):(tr(e,27),c=c.slice(1))):n&&(c+=o[3]||""),t={type:4,content:c,isStatic:d,constType:d?3:0,loc:l}}if(n&&n.isQuoted){let e=n.loc;e.start.offset++,e.start.column++,e.end=eV(e.start,n.content),e.source=e.source.slice(1,-1)}let c=o[3]?o[3].slice(1).split("."):[];return l&&c.push("prop"),"bind"===s&&t&&c.includes("sync")&&eZ("COMPILER_V_BIND_SYNC",e,r,t.loc.source)&&(s="model",c.splice(c.indexOf("sync"),1)),{type:7,name:s,exp:n&&{type:4,content:n.content,isStatic:!1,constType:0,loc:n.loc},arg:t,modifiers:c,loc:r}}return!e.inVPre&&tt(i,"v-")&&tr(e,26),{type:6,name:i,value:n&&{type:2,content:n.content,loc:n.loc},loc:r}}(e,a);6===i.type&&i.value&&"class"===i.name&&(i.value.content=i.value.content.replace(/\s+/g," ").trim()),0===t&&n.push(i),/^[^\t\r\n\f />]/.test(e.source)&&tr(e,15),ta(e)}return n}function e6(e,t,n){let a=e.source.slice(0,t);return(tn(e,t),2!==n&&3!==n&&a.includes("&"))?e.options.decodeEntities(a,4===n):a}function e7(e){let{column:t,line:n,offset:a}=e;return{column:t,line:n,offset:a}}function e9(e,t,n){return{start:t,end:n=n||e7(e),source:e.originalSource.slice(t.offset,n.offset)}}function te(e){return e[e.length-1]}function tt(e,t){return e.startsWith(t)}function tn(e,t){let{source:n}=e;ex(e,n,t),e.source=n.slice(t)}function ta(e){let t=/^[\t\r\n\f ]+/.exec(e.source);t&&tn(e,t[0].length)}function ti(e,t,n){return eV(t,e.originalSource.slice(t.offset,n),n)}function tr(e,t,n,a=e7(e)){n&&(a.offset+=n,a.column+=n),e.options.onError(l(t,{start:a,end:a,source:""}))}function to(e,t){return tt(e,"</")&&e.slice(2,2+t.length).toLowerCase()===t.toLowerCase()&&/[\t\r\n\f />]/.test(e[2+t.length]||">")}function tl(e,t){let{children:n}=e;return 1===n.length&&1===t.type&&!eM(t)}function ts(e,t){let{constantCache:n}=t;switch(e.type){case 1:if(0!==e.tagType)return 0;let a=n.get(e);if(void 0!==a)return a;let r=e.codegenNode;if(13!==r.type||r.isBlock&&"svg"!==e.tag&&"foreignObject"!==e.tag)return 0;if(tp(r))return n.set(e,0),0;{let a=3,i=td(e,t);if(0===i)return n.set(e,0),0;i<a&&(a=i);for(let i=0;i<e.children.length;i++){let r=ts(e.children[i],t);if(0===r)return n.set(e,0),0;r<a&&(a=r)}if(a>1)for(let i=0;i<e.props.length;i++){let r=e.props[i];if(7===r.type&&"bind"===r.name&&r.exp){let i=ts(r.exp,t);if(0===i)return n.set(e,0),0;i<a&&(a=i)}}if(r.isBlock){for(let t=0;t<e.props.length;t++)if(7===e.props[t].type)return n.set(e,0),0;t.removeHelper(_),t.removeHelper(ej(t.inSSR,r.isComponent)),r.isBlock=!1,t.helper(eL(t.inSSR,r.isComponent))}return n.set(e,a),a}case 2:case 3:return 3;case 9:case 11:case 10:default:return 0;case 5:case 12:return ts(e.content,t);case 4:return e.constType;case 8:let o=3;for(let n=0;n<e.children.length;n++){let a=e.children[n];if((0,i.isString)(a)||(0,i.isSymbol)(a))continue;let r=ts(a,t);if(0===r)return 0;r<o&&(o=r)}return o}}let tc=new Set([B,P,O,R]);function td(e,t){let n=3,a=tu(e);if(a&&15===a.type){let{properties:e}=a;for(let a=0;a<e.length;a++){let r;let{key:o,value:l}=e[a],s=ts(o,t);if(0===s)return s;if(s<n&&(n=s),0===(r=4===l.type?ts(l,t):14===l.type?function e(t,n){if(14===t.type&&!(0,i.isString)(t.callee)&&tc.has(t.callee)){let a=t.arguments[0];if(4===a.type)return ts(a,n);if(14===a.type)return e(a,n)}return 0}(l,t):0))return r;r<n&&(n=r)}}return n}function tu(e){let t=e.codegenNode;if(13===t.type)return t.props}function tp(e){let t=e.patchFlag;return t?parseInt(t,10):void 0}function t_(e,{filename:t="",prefixIdentifiers:n=!1,hoistStatic:a=!1,cacheHandlers:l=!1,nodeTransforms:s=[],directiveTransforms:c={},transformHoist:d=null,isBuiltInComponent:u=i.NOOP,isCustomElement:p=i.NOOP,expressionPlugins:_=[],scopeId:m=null,slotted:f=!0,ssr:h=!1,inSSR:g=!1,ssrCssVars:b="",bindingMetadata:y=i.EMPTY_OBJ,inline:k=!1,isTS:E=!1,onError:A=r,onWarn:w=o,compatConfig:C}){let S=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),N={selfName:S&&(0,i.capitalize)((0,i.camelize)(S[1])),prefixIdentifiers:n,hoistStatic:a,cacheHandlers:l,nodeTransforms:s,directiveTransforms:c,transformHoist:d,isBuiltInComponent:u,isCustomElement:p,expressionPlugins:_,scopeId:m,slotted:f,ssr:h,inSSR:g,ssrCssVars:b,bindingMetadata:y,inline:k,isTS:E,onError:A,onWarn:w,compatConfig:C,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],constantCache:new Map,temps:0,cached:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(e){let t=N.helpers.get(e)||0;return N.helpers.set(e,t+1),e},removeHelper(e){let t=N.helpers.get(e);if(t){let n=t-1;n?N.helpers.set(e,n):N.helpers.delete(e)}},helperString:e=>`_${Z[N.helper(e)]}`,replaceNode(e){N.parent.children[N.childIndex]=N.currentNode=e},removeNode(e){let t=N.parent.children,n=e?t.indexOf(e):N.currentNode?N.childIndex:-1;e&&e!==N.currentNode?N.childIndex>n&&(N.childIndex--,N.onNodeRemoved()):(N.currentNode=null,N.onNodeRemoved()),N.parent.children.splice(n,1)},onNodeRemoved:()=>{},addIdentifiers(e){},removeIdentifiers(e){},hoist(e){(0,i.isString)(e)&&(e=ea(e)),N.hoists.push(e);let t=ea(`_hoisted_${N.hoists.length}`,!1,e.loc,2);return t.hoisted=e,t},cache:(e,t=!1)=>ec(N.cached++,e,t)};return N.filters=new Set,N}function tm(e,t){let n=t_(e,t);if(tf(e,n),t.hoistStatic){var a;(function e(t,n,a=!1){let{children:r}=t,o=r.length,l=0;for(let t=0;t<r.length;t++){let i=r[t];if(1===i.type&&0===i.tagType){let e=a?0:ts(i,n);if(e>0){if(e>=2){i.codegenNode.patchFlag="-1",i.codegenNode=n.hoist(i.codegenNode),l++;continue}}else{let e=i.codegenNode;if(13===e.type){let t=tp(e);if((!t||512===t||1===t)&&td(i,n)>=2){let t=tu(i);t&&(e.props=n.hoist(t))}e.dynamicProps&&(e.dynamicProps=n.hoist(e.dynamicProps))}}}if(1===i.type){let t=1===i.tagType;t&&n.scopes.vSlot++,e(i,n),t&&n.scopes.vSlot--}else if(11===i.type)e(i,n,1===i.children.length);else if(9===i.type)for(let t=0;t<i.branches.length;t++)e(i.branches[t],n,1===i.branches[t].children.length)}l&&n.transformHoist&&n.transformHoist(r,n,t),l&&l===o&&1===t.type&&0===t.tagType&&t.codegenNode&&13===t.codegenNode.type&&(0,i.isArray)(t.codegenNode.children)&&(t.codegenNode.children=n.hoist(ee(t.codegenNode.children)))})(a=e,n,tl(a,a.children[0]))}!t.ssr&&function(e,t){let{helper:n}=t,{children:a}=e;if(1===a.length){let n=a[0];if(tl(e,n)&&n.codegenNode){let a=n.codegenNode;13===a.type&&eH(a,t),e.codegenNode=a}else e.codegenNode=n}else if(a.length>1){i.PatchFlagNames["64"];e.codegenNode=X(t,n(s),void 0,e.children,"64",void 0,void 0,!0,void 0,!1)}}(e,n),e.helpers=[...n.helpers.keys()],e.components=[...n.components],e.directives=[...n.directives],e.imports=n.imports,e.hoists=n.hoists,e.temps=n.temps,e.cached=n.cached,e.filters=[...n.filters]}function tf(e,t){t.currentNode=e;let{nodeTransforms:n}=t,a=[];for(let r=0;r<n.length;r++){let o=n[r](e,t);if(o&&((0,i.isArray)(o)?a.push(...o):a.push(o)),!t.currentNode)return;e=t.currentNode}switch(e.type){case 3:!t.ssr&&t.helper(b);break;case 5:!t.ssr&&t.helper(D);break;case 9:for(let n=0;n<e.branches.length;n++)tf(e.branches[n],t);break;case 10:case 11:case 1:case 0:!function(e,t){let n=0,a=()=>{n--};for(;n<e.children.length;n++){let r=e.children[n];!(0,i.isString)(r)&&(t.parent=e,t.childIndex=n,t.onNodeRemoved=a,tf(r,t))}}(e,t)}t.currentNode=e;let r=a.length;for(;r--;)a[r]()}function th(e,t){let n=(0,i.isString)(e)?t=>t===e:t=>e.test(t);return(e,a)=>{if(1===e.type){let{props:i}=e;if(3===e.tagType&&i.some(eR))return;let r=[];for(let o=0;o<i.length;o++){let l=i[o];if(7===l.type&&n(l.name)){i.splice(o,1),o--;let n=t(e,l,a);n&&r.push(n)}}return r}}}let tg="/*#__PURE__*/",tv=e=>`${Z[e]}: _${Z[e]}`;function tb(e,t={}){let n=function(e,{mode:t="function",prefixIdentifiers:n="module"===t,sourceMap:a=!1,filename:i="template.vue.html",scopeId:r=null,optimizeImports:o=!1,runtimeGlobalName:l="Vue",runtimeModuleName:s="vue",ssrRuntimeModuleName:c="vue/server-renderer",ssr:d=!1,isTS:u=!1,inSSR:p=!1}){let _={mode:t,prefixIdentifiers:n,sourceMap:a,filename:i,scopeId:r,optimizeImports:o,runtimeGlobalName:l,runtimeModuleName:s,ssrRuntimeModuleName:c,ssr:d,isTS:u,inSSR:p,source:e.loc.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper:e=>`_${Z[e]}`,push(e,t){_.code+=e},indent(){m(++_.indentLevel)},deindent(e=!1){e?--_.indentLevel:m(--_.indentLevel)},newline(){m(_.indentLevel)}};function m(e){_.push("\n"+"  ".repeat(e))}return _}(e,t);t.onContextCreated&&t.onContextCreated(n);let{mode:a,push:i,prefixIdentifiers:r,indent:o,deindent:l,newline:s,scopeId:c,ssr:d}=n,u=e.helpers.length>0,p=!r&&"module"!==a;(function(e,t){let{ssr:n,prefixIdentifiers:a,push:i,newline:r,runtimeModuleName:o,runtimeGlobalName:l,ssrRuntimeModuleName:s}=t;if(e.helpers.length>0&&(i(`const _Vue = ${l}
`),e.hoists.length)){let t=[h,g,b,y,k].filter(t=>e.helpers.includes(t)).map(tv).join(", ");i(`const { ${t} } = _Vue
`)}(function(e,t){if(!e.length)return;t.pure=!0;let{push:n,newline:a,helper:i,scopeId:r,mode:o}=t;a();for(let i=0;i<e.length;i++){let r=e[i];r&&(n(`const _hoisted_${i+1} = `),tA(r,t),a())}t.pure=!1})(e.hoists,t),r(),i("return ")})(e,n);let _=(d?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(i(`function ${d?"ssrRender":"render"}(${_}) {`),o(),p&&(i("with (_ctx) {"),o(),u&&(i(`const { ${e.helpers.map(tv).join(", ")} } = _Vue`),i(`
`),s())),e.components.length&&(ty(e.components,"component",n),(e.directives.length||e.temps>0)&&s()),e.directives.length&&(ty(e.directives,"directive",n),e.temps>0&&s()),e.filters&&e.filters.length&&(s(),ty(e.filters,"filter",n),s()),e.temps>0){i("let ");for(let t=0;t<e.temps;t++)i(`${t>0?", ":""}_temp${t}`)}return(e.components.length||e.directives.length||e.temps)&&(i(`
`),s()),!d&&i("return "),e.codegenNode?tA(e.codegenNode,n):i("null"),p&&(l(),i("}")),l(),i("}"),{ast:e,code:n.code,preamble:"",map:n.map?n.map.toJSON():void 0}}function ty(e,t,{helper:n,push:a,newline:i,isTS:r}){let o=n("filter"===t?C:"component"===t?E:w);for(let n=0;n<e.length;n++){let l=e[n],s=l.endsWith("__self");s&&(l=l.slice(0,-6)),a(`const ${eU(l,t)} = ${o}(${JSON.stringify(l)}${s?", true":""})${r?"!":""}`),n<e.length-1&&i()}}function tk(e,t){let n=e.length>3;t.push("["),n&&t.indent(),tE(e,t,n),n&&t.deindent(),t.push("]")}function tE(e,t,n=!1,a=!0){let{push:r,newline:o}=t;for(let l=0;l<e.length;l++){let s=e[l];(0,i.isString)(s)?r(s):(0,i.isArray)(s)?tk(s,t):tA(s,t),l<e.length-1&&(n?(a&&r(","),o()):a&&r(", "))}}function tA(e,t){if((0,i.isString)(e)){t.push(e);return}if((0,i.isSymbol)(e)){t.push(t.helper(e));return}switch(e.type){case 1:case 9:case 11:case 12:tA(e.codegenNode,t);break;case 2:(function(e,t){t.push(JSON.stringify(e.content),e)})(e,t);break;case 4:tw(e,t);break;case 5:(function(e,t){let{push:n,helper:a,pure:i}=t;i&&n(tg),n(`${a(D)}(`),tA(e.content,t),n(")")})(e,t);break;case 8:tC(e,t);break;case 3:(function(e,t){let{push:n,helper:a,pure:i}=t;i&&n(tg),n(`${a(b)}(${JSON.stringify(e.content)})`,e)})(e,t);break;case 13:(function(e,t){let{push:n,helper:a,pure:i}=t,{tag:r,props:o,children:l,patchFlag:s,dynamicProps:c,directives:d,isBlock:u,disableTracking:p,isComponent:m}=e;d&&n(a(S)+"("),u&&n(`(${a(_)}(${p?"true":""}), `),i&&n(tg),n(a(u?ej(t.inSSR,m):eL(t.inSSR,m))+"(",e),tE(function(e){let t=e.length;for(;t--&&null==e[t];);return e.slice(0,t+1).map(e=>e||"null")}([r,o,l,s,c]),t),n(")"),u&&n(")"),d&&(n(", "),tA(d,t),n(")"))})(e,t);break;case 14:(function(e,t){let{push:n,helper:a,pure:r}=t,o=(0,i.isString)(e.callee)?e.callee:a(e.callee);r&&n(tg),n(o+"(",e),tE(e.arguments,t),n(")")})(e,t);break;case 15:(function(e,t){let{push:n,indent:a,deindent:i,newline:r}=t,{properties:o}=e;if(!o.length){n("{}",e);return}let l=o.length>1;n(l?"{":"{ "),l&&a();for(let e=0;e<o.length;e++){let{key:a,value:i}=o[e];!function(e,t){let{push:n}=t;8===e.type?(n("["),tC(e,t),n("]")):n(e.isStatic?ey(e.content)?e.content:JSON.stringify(e.content):`[${e.content}]`,e)}(a,t),n(": "),tA(i,t),e<o.length-1&&(n(","),r())}l&&i(),n(l?"}":" }")})(e,t);break;case 17:(function(e,t){tk(e.elements,t)})(e,t);break;case 18:(function(e,t){let{push:n,indent:a,deindent:r}=t,{params:o,returns:l,body:s,newline:c,isSlot:d}=e;d&&n(`_${Z[z]}(`),n("(",e),(0,i.isArray)(o)?tE(o,t):o&&tA(o,t),n(") => "),(c||s)&&(n("{"),a()),l?(c&&n("return "),(0,i.isArray)(l)?tk(l,t):tA(l,t)):s&&tA(s,t),(c||s)&&(r(),n("}")),d&&(e.isNonScopedSlot&&n(", undefined, true"),n(")"))})(e,t);break;case 19:(function(e,t){let{test:n,consequent:a,alternate:i,newline:r}=e,{push:o,indent:l,deindent:s,newline:c}=t;if(4===n.type){let e=!ey(n.content);e&&o("("),tw(n,t),e&&o(")")}else o("("),tA(n,t),o(")");r&&l(),t.indentLevel++,r||o(" "),o("? "),tA(a,t),t.indentLevel--,r&&c(),r||o(" "),o(": ");let d=19===i.type;!d&&t.indentLevel++,tA(i,t),!d&&t.indentLevel--,r&&s(!0)})(e,t);break;case 20:(function(e,t){let{push:n,helper:a,indent:i,deindent:r,newline:o}=t;n(`_cache[${e.index}] || (`),e.isVNode&&(i(),n(`${a(q)}(-1),`),o()),n(`_cache[${e.index}] = `),tA(e.value,t),e.isVNode&&(n(","),o(),n(`${a(q)}(1),`),o(),n(`_cache[${e.index}]`),r()),n(")")})(e,t);break;case 21:tE(e.body,t,!0,!1)}}function tw(e,t){let{content:n,isStatic:a}=e;t.push(a?JSON.stringify(n):n,e)}function tC(e,t){for(let n=0;n<e.children.length;n++){let a=e.children[n];(0,i.isString)(a)?t.push(a):tA(a,t)}}function tS(e,t,n=!1,a=[],i=Object.create(null)){}function tN(e,t,n){return!1}function tV(e,t){if(e&&("ObjectProperty"===e.type||"ArrayPattern"===e.type)){let e=t.length;for(;e--;){let n=t[e];if("AssignmentExpression"===n.type)return!0;if("ObjectProperty"!==n.type&&!n.type.endsWith("Pattern"))break}}return!1}function tx(e,t){for(let n of e.params)for(let e of tD(n))t(e)}function t$(e,t){for(let n of e.body)if("VariableDeclaration"===n.type){if(n.declare)continue;for(let e of n.declarations)for(let n of tD(e.id))t(n)}else if("FunctionDeclaration"===n.type||"ClassDeclaration"===n.type){if(n.declare||!n.id)continue;t(n.id)}}function tD(e,t=[]){switch(e.type){case"Identifier":t.push(e);break;case"MemberExpression":let n=e;for(;"MemberExpression"===n.type;)n=n.object;t.push(n);break;case"ObjectPattern":for(let n of e.properties)"RestElement"===n.type?tD(n.argument,t):tD(n.value,t);break;case"ArrayPattern":e.elements.forEach(e=>{e&&tD(e,t)});break;case"RestElement":tD(e.argument,t);break;case"AssignmentPattern":tD(e.left,t)}return t}let tT=e=>/Function(?:Expression|Declaration)$|Method$/.test(e.type),tB=e=>e&&("ObjectProperty"===e.type||"ObjectMethod"===e.type)&&!e.computed,tP=(e,t)=>tB(t)&&t.key===e;RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments,typeof,void".split(",").join("\\b|\\b")+"\\b");let tO=(e,t)=>{if(5===e.type)e.content=tR(e.content,t);else if(1===e.type)for(let n=0;n<e.props.length;n++){let a=e.props[n];if(7===a.type&&"for"!==a.name){let e=a.exp,n=a.arg;e&&4===e.type&&!("on"===a.name&&n)&&(a.exp=tR(e,t,"slot"===a.name)),n&&4===n.type&&!n.isStatic&&(a.arg=tR(n,t))}}};function tR(e,t,n=!1,a=!1,i=Object.create(t.identifiers)){return e}let tI=th(/^(if|else|else-if)$/,(e,t,n)=>tM(e,t,n,(e,t,a)=>{let i=n.parent.children,r=i.indexOf(e),o=0;for(;r-- >=0;){let e=i[r];e&&9===e.type&&(o+=e.branches.length)}return()=>{a?e.codegenNode=tj(t,o,n):function(e){for(;;)if(19===e.type){if(19!==e.alternate.type)return e;e=e.alternate}else 20===e.type&&(e=e.value)}(e.codegenNode).alternate=tj(t,o+e.branches.length-1,n)}}));function tM(e,t,n,a){if("else"!==t.name&&(!t.exp||!t.exp.content.trim())){let a=t.exp?t.exp.loc:e.loc;n.onError(l(28,t.loc)),t.exp=ea("true",!1,a)}if("if"===t.name){let i=tL(e,t),r={type:9,loc:e.loc,branches:[i]};if(n.replaceNode(r),a)return a(r,i,!0)}else{let i=n.parent.children,r=i.indexOf(e);for(;r-- >=-1;){let o=i[r];if(o&&2===o.type&&!o.content.trim().length){n.removeNode(o);continue}if(o&&9===o.type){"else-if"===t.name&&void 0===o.branches[o.branches.length-1].condition&&n.onError(l(30,e.loc)),n.removeNode();let i=tL(e,t);o.branches.push(i);let r=a&&a(o,i,!1);tf(i,n),r&&r(),n.currentNode=null}else n.onError(l(30,e.loc));break}}}function tL(e,t){let n=3===e.tagType;return{type:10,loc:e.loc,condition:"else"===t.name?void 0:t.exp,children:n&&!eD(e,"for")?e.children:[e],userKey:eT(e,"key"),isTemplateIf:n}}function tj(e,t,n){return e.condition?es(e.condition,tq(e,t,n),eo(n.helper(b),['""',"true"])):tq(e,t,n)}function tq(e,t,n){let{helper:a}=n,r=en("key",ea(`${t}`,!1,G,2)),{children:o}=e,l=o[0];if(1!==o.length||1!==l.type){if(1===o.length&&11===l.type){let e=l.codegenNode;return eF(e,r,n),e}return i.PatchFlagNames["64"],X(n,a(s),et([r]),o,"64",void 0,void 0,!0,!1,!1,e.loc)}{let e=l.codegenNode,t=ez(e);return 13===t.type&&eH(t,n),eF(t,r,n),e}}let tF=th("for",(e,t,n)=>{let{helper:a,removeHelper:i}=n;return tU(e,t,n,t=>{let r=eo(a(N),[t.source]),o=eI(e),l=eD(e,"memo"),c=eT(e,"key"),d=c&&(6===c.type?ea(c.value.content,!0):c.exp),u=c?en("key",d):null,p=4===t.source.type&&t.source.constType>0,m=p?64:c?128:256;return t.codegenNode=X(n,a(s),void 0,r,m+"",void 0,void 0,!0,!p,!1,e.loc),()=>{let c;let{children:m}=t,f=1!==m.length||1!==m[0].type,h=eM(e)?e:o&&1===e.children.length&&eM(e.children[0])?e.children[0]:null;if(h?(c=h.codegenNode,o&&u&&eF(c,u,n)):f?c=X(n,a(s),u?et([u]):void 0,e.children,"64",void 0,void 0,!0,void 0,!1):(c=m[0].codegenNode,o&&u&&eF(c,u,n),!p!==c.isBlock&&(c.isBlock?(i(_),i(ej(n.inSSR,c.isComponent))):i(eL(n.inSSR,c.isComponent))),c.isBlock=!p,c.isBlock?(a(_),a(ej(n.inSSR,c.isComponent))):a(eL(n.inSSR,c.isComponent))),l){let e=el(tZ(t.parseResult,[ea("_cached")]));e.body=ed([er(["const _memo = (",l.exp,")"]),er(["if (_cached",...d?[" && _cached.key === ",d]:[],` && ${n.helperString(K)}(_cached, _memo)) return _cached`]),er(["const _item = ",c]),ea("_item.memo = _memo"),ea("return _item")]),r.arguments.push(e,ea("_cache"),ea(String(n.cached++)))}else r.arguments.push(el(tZ(t.parseResult),c,!0))}})});function tU(e,t,n,a){if(!t.exp){n.onError(l(31,t.loc));return}let i=tJ(t.exp,n);if(!i){n.onError(l(32,t.loc));return}let{addIdentifiers:r,removeIdentifiers:o,scopes:s}=n,{source:c,value:d,key:u,index:p}=i,_={type:11,loc:t.loc,source:c,valueAlias:d,keyAlias:u,objectIndexAlias:p,parseResult:i,children:eI(e)?e.children:[e]};n.replaceNode(_),s.vFor++;let m=a&&a(_);return()=>{s.vFor--,m&&m()}}let tz=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,tH=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,tY=/^\(|\)$/g;function tJ(e,t){let n=e.loc,a=e.content,i=a.match(tz);if(!i)return;let[,r,o]=i,l={source:tK(n,o.trim(),a.indexOf(o,r.length)),value:void 0,key:void 0,index:void 0},s=r.trim().replace(tY,"").trim(),c=r.indexOf(s),d=s.match(tH);if(d){let e;s=s.replace(tH,"").trim();let t=d[1].trim();if(t&&(e=a.indexOf(t,c+s.length),l.key=tK(n,t,e)),d[2]){let i=d[2].trim();i&&(l.index=tK(n,i,a.indexOf(i,l.key?e+t.length:c+s.length)))}}return s&&(l.value=tK(n,s,c)),l}function tK(e,t,n){return ea(t,!1,eN(e,n,t.length))}function tZ({value:e,key:t,index:n},a=[]){return function(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map((e,t)=>e||ea("_".repeat(t+1),!1))}([e,t,n,...a])}let tW=ea("undefined",!1),tG=(e,t)=>{if(1===e.type&&(1===e.tagType||3===e.tagType)){let n=eD(e,"slot");if(n)return n.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},tQ=(e,t)=>{let n;if(eI(e)&&e.props.some(eR)&&(n=eD(e,"for"))){let e=n.parseResult=tJ(n.exp,t);if(e){let{value:n,key:a,index:i}=e,{addIdentifiers:r,removeIdentifiers:o}=t;return n&&r(n),a&&r(a),i&&r(i),()=>{n&&o(n),a&&o(a),i&&o(i)}}}},tX=(e,t,n)=>el(e,t,!1,!0,t.length?t[0].loc:n);function t0(e,t,n=tX){t.helper(z);let{children:a,loc:i}=e,r=[],o=[],s=t.scopes.vSlot>0||t.scopes.vFor>0,c=eD(e,"slot",!0);if(c){let{arg:e,exp:t}=c;e&&!eh(e)&&(s=!0),r.push(en(e||ea("default",!0),n(t,a,i)))}let d=!1,u=!1,p=[],_=new Set,m=0;for(let e=0;e<a.length;e++){let i,f,h,g,b;let y=a[e];if(!eI(y)||!(i=eD(y,"slot",!0))){3!==y.type&&p.push(y);continue}if(c){t.onError(l(37,i.loc));break}d=!0;let{children:k,loc:E}=y,{arg:A=ea("default",!0),exp:w,loc:C}=i;eh(A)?f=A?A.content:"default":s=!0;let S=n(w,k,E);if(h=eD(y,"if"))s=!0,o.push(es(h.exp,t1(A,S,m++),tW));else if(g=eD(y,/^else(-if)?$/,!0)){let n,i=e;for(;i--&&3===(n=a[i]).type;);if(n&&eI(n)&&eD(n,"if")){a.splice(e,1),e--;let t=o[o.length-1];for(;19===t.alternate.type;)t=t.alternate;t.alternate=g.exp?es(g.exp,t1(A,S,m++),tW):t1(A,S,m++)}else t.onError(l(30,g.loc))}else if(b=eD(y,"for")){s=!0;let e=b.parseResult||tJ(b.exp,t);e?o.push(eo(t.helper(N),[e.source,el(tZ(e),t1(A,S),!0)])):t.onError(l(32,b.loc))}else{if(f){if(_.has(f)){t.onError(l(38,C));continue}_.add(f),"default"===f&&(u=!0)}r.push(en(A,S))}}if(!c){let e=(e,a)=>{let r=n(e,a,i);return t.compatConfig&&(r.isNonScopedSlot=!0),en("default",r)};d?p.length&&p.some(e=>(function e(t){return 2!==t.type&&12!==t.type||(2===t.type?!!t.content.trim():e(t.content))})(e))&&(u?t.onError(l(39,p[0].loc)):r.push(e(void 0,p))):r.push(e(void 0,a))}let f=s?2:function e(t){for(let n=0;n<t.length;n++){let a=t[n];switch(a.type){case 1:if(2===a.tagType||e(a.children))return!0;break;case 9:if(e(a.branches))return!0;break;case 10:case 11:if(e(a.children))return!0}}return!1}(e.children)?3:1,h=et(r.concat(en("_",ea(f+"",!1))),i);return o.length&&(h=eo(t.helper(x),[h,ee(o)])),{slots:h,hasDynamicSlots:s}}function t1(e,t,n){let a=[en("name",e),en("fn",t)];return null!=n&&a.push(en("key",ea(String(n),!0))),et(a)}let t2=new WeakMap,t3=(e,t)=>function(){let n,a,r,o,l,s;if(!(1===(e=t.currentNode).type&&(0===e.tagType||1===e.tagType)))return;let{tag:p,props:_}=e,m=1===e.tagType,f=m?t4(e,t):`"${p}"`,h=(0,i.isObject)(f)&&f.callee===A,g=0,b=h||f===c||f===d||!m&&("svg"===p||"foreignObject"===p);if(_.length>0){let a=t5(e,t,void 0,m,h);n=a.props,g=a.patchFlag,l=a.dynamicPropNames;let i=a.directives;s=i&&i.length?ee(i.map(e=>t6(e,t))):void 0,a.shouldUseBlock&&(b=!0)}if(e.children.length>0){if(f===u&&(b=!0,g|=1024),m&&f!==c&&f!==u){let{slots:n,hasDynamicSlots:i}=t0(e,t);a=n,i&&(g|=1024)}else if(1===e.children.length&&f!==c){let n=e.children[0],i=n.type,r=5===i||8===i;r&&0===ts(n,t)&&(g|=1),a=r||2===i?n:e.children}else a=e.children}0!==g&&(r=String(g),l&&l.length&&(o=function(e){let t="[";for(let n=0,a=e.length;n<a;n++)t+=JSON.stringify(e[n]),n<a-1&&(t+=", ");return t+"]"}(l))),e.codegenNode=X(t,f,n,a,r,o,s,!!b,!1,m,e.loc)};function t4(e,t,n=!1){let{tag:a}=e,i=t7(a),r=eT(e,"is");if(r){if(i||eK("COMPILER_IS_ON_ELEMENT",t)){let e=6===r.type?r.value&&ea(r.value.content,!0):r.exp;if(e)return eo(t.helper(A),[e])}else 6===r.type&&r.value.content.startsWith("vue:")&&(a=r.value.content.slice(4))}let o=!i&&eD(e,"is");if(o&&o.exp)return eo(t.helper(A),[o.exp]);let l=ev(a)||t.isBuiltInComponent(a);return l?(!n&&t.helper(l),l):(t.helper(E),t.components.add(a),eU(a,"component"))}function t5(e,t,n=e.props,a,r,o=!1){let s,{tag:c,loc:d,children:u}=e,p=[],_=[],m=[],f=u.length>0,h=!1,g=0,b=!1,y=!1,k=!1,E=!1,A=!1,w=!1,C=[],S=e=>{p.length&&(_.push(et(t8(p),d)),p=[]),e&&_.push(e)},N=({key:e,value:n})=>{if(eh(e)){let o=e.content,l=(0,i.isOn)(o);if(l&&(!a||r)&&"onclick"!==o.toLowerCase()&&"onUpdate:modelValue"!==o&&!(0,i.isReservedProp)(o)&&(E=!0),l&&(0,i.isReservedProp)(o)&&(w=!0),!(20===n.type||(4===n.type||8===n.type)&&ts(n,t)>0))"ref"===o?b=!0:"class"===o?y=!0:"style"===o?k=!0:"key"!==o&&!C.includes(o)&&C.push(o),a&&("class"===o||"style"===o)&&!C.includes(o)&&C.push(o)}else A=!0};for(let r=0;r<n.length;r++){let s=n[r];if(6===s.type){let{loc:e,name:n,value:a}=s;if("ref"===n&&(b=!0,t.scopes.vFor>0&&p.push(en(ea("ref_for",!0),ea("true")))),"is"===n&&(t7(c)||a&&a.content.startsWith("vue:")||eK("COMPILER_IS_ON_ELEMENT",t)))continue;p.push(en(ea(n,!0,eN(e,0,n.length)),ea(a?a.content:"",!0,a?a.loc:e)))}else{let{name:n,arg:r,exp:u,loc:g}=s,b="bind"===n,y="on"===n;if("slot"===n){!a&&t.onError(l(40,g));continue}if("once"===n||"memo"===n||"is"===n||b&&eB(r,"is")&&(t7(c)||eK("COMPILER_IS_ON_ELEMENT",t))||y&&o)continue;if((b&&eB(r,"key")||y&&f&&eB(r,"vue:before-update"))&&(h=!0),b&&eB(r,"ref")&&t.scopes.vFor>0&&p.push(en(ea("ref_for",!0),ea("true"))),!r&&(b||y)){if(A=!0,u){if(b){S();if(eK("COMPILER_V_BIND_OBJECT_ORDER",t)){_.unshift(u);continue}_.push(u)}else S({type:14,loc:g,callee:t.helper(I),arguments:a?[u]:[u,"true"]})}else t.onError(l(b?34:35,g));continue}let k=t.directiveTransforms[n];if(k){let{props:n,needRuntime:a}=k(s,e,t);o||n.forEach(N),y&&r&&!eh(r)?S(et(n,d)):p.push(...n),a&&(m.push(s),(0,i.isSymbol)(a)&&t2.set(s,a))}else!(0,i.isBuiltInDirective)(n)&&(m.push(s),f&&(h=!0))}}if(_.length?(S(),s=_.length>1?eo(t.helper(T),_,d):_[0]):p.length&&(s=et(t8(p),d)),A?g|=16:(y&&!a&&(g|=2),k&&!a&&(g|=4),C.length&&(g|=8),E&&(g|=32)),!h&&(0===g||32===g)&&(b||w||m.length>0)&&(g|=512),!t.inSSR&&s)switch(s.type){case 15:let V=-1,x=-1,D=!1;for(let e=0;e<s.properties.length;e++){let t=s.properties[e].key;eh(t)?"class"===t.content?V=e:"style"===t.content&&(x=e):!t.isHandlerKey&&(D=!0)}let M=s.properties[V],L=s.properties[x];D?s=eo(t.helper(O),[s]):(M&&!eh(M.value)&&(M.value=eo(t.helper(B),[M.value])),L&&(k||4===L.value.type&&"["===L.value.content.trim()[0]||17===L.value.type)&&(L.value=eo(t.helper(P),[L.value])));break;case 14:break;default:s=eo(t.helper(O),[eo(t.helper(R),[s])])}return{props:s,directives:m,patchFlag:g,dynamicPropNames:C,shouldUseBlock:h}}function t8(e){let t=new Map,n=[];for(let a=0;a<e.length;a++){let r=e[a];if(8===r.key.type||!r.key.isStatic){n.push(r);continue}let o=r.key.content,l=t.get(o);l?("style"===o||"class"===o||(0,i.isOn)(o))&&function(e,t){17===e.value.type?e.value.elements.push(t.value):e.value=ee([e.value,t.value],e.loc)}(l,r):(t.set(o,r),n.push(r))}return n}function t6(e,t){let n=[],a=t2.get(e);a?n.push(t.helperString(a)):(t.helper(w),t.directives.add(e.name),n.push(eU(e.name,"directive")));let{loc:i}=e;if(e.exp&&n.push(e.exp),e.arg&&(!e.exp&&n.push("void 0"),n.push(e.arg)),Object.keys(e.modifiers).length){!e.arg&&(!e.exp&&n.push("void 0"),n.push("void 0"));let t=ea("true",!1,i);n.push(et(e.modifiers.map(e=>en(e,t)),i))}return ee(n,e.loc)}function t7(e){return"component"===e||"Component"===e}let t9=/-(\w)/g,ne=(e=>{let t=Object.create(null);return n=>t[n]||(t[n]=e(n))})(e=>e.replace(t9,(e,t)=>t?t.toUpperCase():"")),nt=(e,t)=>{if(eM(e)){let{children:n,loc:a}=e,{slotName:i,slotProps:r}=nn(e,t),o=[t.prefixIdentifiers?"_ctx.$slots":"$slots",i,"{}","undefined","true"],l=2;r&&(o[2]=r,l=3),n.length&&(o[3]=el([],n,!1,!1,a),l=4),t.scopeId&&!t.slotted&&(l=5),o.splice(l),e.codegenNode=eo(t.helper(V),o,a)}};function nn(e,t){let n,a='"default"';let i=[];for(let t=0;t<e.props.length;t++){let n=e.props[t];6===n.type?n.value&&("name"===n.name?a=JSON.stringify(n.value.content):(n.name=ne(n.name),i.push(n))):"bind"===n.name&&eB(n.arg,"name")?n.exp&&(a=n.exp):("bind"===n.name&&n.arg&&eh(n.arg)&&(n.arg.content=ne(n.arg.content)),i.push(n))}if(i.length>0){let{props:a,directives:r}=t5(e,t,i,!1,!1);n=a,r.length&&t.onError(l(36,r[0].loc))}return{slotName:a,slotProps:n}}let na=/^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,ni=(e,t,n,a)=>{let r;let{loc:o,modifiers:s,arg:c}=e;if(!e.exp&&!s.length&&n.onError(l(35,o)),4===c.type){if(c.isStatic){let e=c.content;e.startsWith("vue:")&&(e=`vnode-${e.slice(4)}`),r=ea(1===t.tagType||e.startsWith("vnode")||!/[A-Z]/.test(e)?(0,i.toHandlerKey)((0,i.camelize)(e)):`on:${e}`,!0,c.loc)}else r=er([`${n.helperString(j)}(`,c,")"])}else(r=c).children.unshift(`${n.helperString(j)}(`),r.children.push(")");let d=e.exp;d&&!d.content.trim()&&(d=void 0);let u=n.cacheHandlers&&!d&&!n.inVOnce;if(d){let e=eS(d.content),t=!(e||na.test(d.content)),n=d.content.includes(";");(t||u&&e)&&(d=er([`${t?"$event":"(...args)"} => ${n?"{":"("}`,d,n?"}":")"]))}let p={props:[en(r,d||ea("() => {}",!1,o))]};return a&&(p=a(p)),u&&(p.props[0].value=n.cache(p.props[0].value)),p.props.forEach(e=>e.key.isHandlerKey=!0),p},nr=(e,t,n)=>{let{exp:a,modifiers:r,loc:o}=e,s=e.arg;return(4!==s.type?(s.children.unshift("("),s.children.push(') || ""')):!s.isStatic&&(s.content=`${s.content} || ""`),r.includes("camel")&&(4===s.type?s.isStatic?s.content=(0,i.camelize)(s.content):s.content=`${n.helperString(M)}(${s.content})`:(s.children.unshift(`${n.helperString(M)}(`),s.children.push(")"))),!n.inSSR&&(r.includes("prop")&&no(s,"."),r.includes("attr")&&no(s,"^")),a&&(4!==a.type||a.content.trim()))?{props:[en(s,a)]}:(n.onError(l(34,o)),{props:[en(s,ea("",!0,o))]})},no=(e,t)=>{4===e.type?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},nl=(e,t)=>{if(0===e.type||1===e.type||11===e.type||10===e.type)return()=>{let n,a=e.children;let i=!1;for(let e=0;e<a.length;e++){let t=a[e];if(eO(t)){i=!0;for(let i=e+1;i<a.length;i++){let r=a[i];if(eO(r))!n&&(n=a[e]=er([t],t.loc)),n.children.push(" + ",r),a.splice(i,1),i--;else{n=void 0;break}}}}if(!!i&&(1!==a.length||0!==e.type&&(1!==e.type||0!==e.tagType||!!e.props.find(e=>7===e.type&&!t.directiveTransforms[e.name])||"template"===e.tag)))for(let e=0;e<a.length;e++){let n=a[e];if(eO(n)||8===n.type){let i=[];(2!==n.type||" "!==n.content)&&i.push(n),!t.ssr&&0===ts(n,t)&&i.push("1"),a[e]={type:12,content:n,loc:n.loc,codegenNode:eo(t.helper(y),i)}}}}},ns=new WeakSet,nc=(e,t)=>{if(1===e.type&&eD(e,"once",!0)){if(!ns.has(e)&&!t.inVOnce)return ns.add(e),t.inVOnce=!0,t.helper(q),()=>{t.inVOnce=!1;let e=t.currentNode;e.codegenNode&&(e.codegenNode=t.cache(e.codegenNode,!0))}}},nd=(e,t,n)=>{let a;let{exp:i,arg:r}=e;if(!i)return n.onError(l(41,e.loc)),nu();let o=i.loc.source,s=4===i.type?i.content:o;n.bindingMetadata[o];if(!s.trim()||!eS(s))return n.onError(l(42,i.loc)),nu();let c=r||ea("modelValue",!0),d=r?eh(r)?`onUpdate:${r.content}`:er(['"onUpdate:" + ',r]):"onUpdate:modelValue",u=n.isTS?"($event: any)":"$event";a=er([`${u} => ((`,i,") = $event)"]);let p=[en(c,e.exp),en(d,a)];if(e.modifiers.length&&1===t.tagType){let t=e.modifiers.map(e=>(ey(e)?e:JSON.stringify(e))+": true").join(", "),n=r?eh(r)?`${r.content}Modifiers`:er([r,' + "Modifiers"']):"modelModifiers";p.push(en(n,ea(`{ ${t} }`,!1,e.loc,2)))}return nu(p)};function nu(e=[]){return{props:e}}let np=/[\w).+\-_$\]]/,n_=(e,t)=>{if(!!eK("COMPILER_FILTER",t))5===e.type&&nm(e.content,t),1===e.type&&e.props.forEach(e=>{7===e.type&&"for"!==e.name&&e.exp&&nm(e.exp,t)})};function nm(e,t){if(4===e.type)nf(e,t);else for(let n=0;n<e.children.length;n++){let a=e.children[n];"object"==typeof a&&(4===a.type?nf(a,t):8===a.type?nm(e,t):5===a.type&&nm(a.content,t))}}function nf(e,t){let n=e.content,a=!1,i=!1,r=!1,o=!1,l=0,s=0,c=0,d=0,u,p,_,m,f=[];for(_=0;_<n.length;_++)if(p=u,u=n.charCodeAt(_),a)39===u&&92!==p&&(a=!1);else if(i)34===u&&92!==p&&(i=!1);else if(r)96===u&&92!==p&&(r=!1);else if(o)47===u&&92!==p&&(o=!1);else if(124!==u||124===n.charCodeAt(_+1)||124===n.charCodeAt(_-1)||l||s||c){switch(u){case 34:i=!0;break;case 39:a=!0;break;case 96:r=!0;break;case 40:c++;break;case 41:c--;break;case 91:s++;break;case 93:s--;break;case 123:l++;break;case 125:l--}if(47===u){let e,t=_-1;for(;t>=0&&" "===(e=n.charAt(t));t--);(!e||!np.test(e))&&(o=!0)}}else void 0===m?(d=_+1,m=n.slice(0,_).trim()):h();function h(){f.push(n.slice(d,_).trim()),d=_+1}if(void 0===m?m=n.slice(0,_).trim():0!==d&&h(),f.length){for(_=0;_<f.length;_++)m=function(e,t,n){n.helper(C);let a=t.indexOf("(");if(a<0)return n.filters.add(t),`${eU(t,"filter")}(${e})`;{let i=t.slice(0,a),r=t.slice(a+1);return n.filters.add(i),`${eU(i,"filter")}(${e}${")"!==r?","+r:r}`}}(m,f[_],t);e.content=m}}let nh=new WeakSet,ng=(e,t)=>{if(1===e.type){let n=eD(e,"memo");if(!(!n||nh.has(e)))return nh.add(e),()=>{let a=e.codegenNode||t.currentNode.codegenNode;a&&13===a.type&&(1!==e.tagType&&eH(a,t),e.codegenNode=eo(t.helper(J),[n.exp,el(void 0,a),"_cache",String(t.cached++)]))}}};function nv(e){return[[nc,tI,ng,tF,n_,nt,t3,tG,nl],{on:ni,bind:nr,model:nd}]}function nb(e,t={}){let n=t.onError||r,a="module"===t.mode;!0===t.prefixIdentifiers?n(l(46)):a&&n(l(47));t.cacheHandlers&&n(l(48)),t.scopeId&&!a&&n(l(49));let o=(0,i.isString)(e)?e0(e,t):e,[s,c]=nv();return tm(o,(0,i.extend)({},t,{prefixIdentifiers:!1,nodeTransforms:[...s,...t.nodeTransforms||[]],directiveTransforms:(0,i.extend)({},c,t.directiveTransforms||{})})),tb(o,(0,i.extend)({},t,{prefixIdentifiers:!1}))}let ny=()=>({props:[]}),nk=Symbol(""),nE=Symbol(""),nA=Symbol(""),nw=Symbol(""),nC=Symbol(""),nS=Symbol(""),nN=Symbol(""),nV=Symbol(""),nx=Symbol(""),n$=Symbol("");W({[nk]:"vModelRadio",[nE]:"vModelCheckbox",[nA]:"vModelText",[nw]:"vModelSelect",[nC]:"vModelDynamic",[nS]:"withModifiers",[nN]:"withKeys",[nV]:"vShow",[nx]:"Transition",[n$]:"TransitionGroup"});let nD=(0,i.makeMap)("style,iframe,script,noscript",!0),nT={isVoidTag:i.isVoidTag,isNativeTag:e=>(0,i.isHTMLTag)(e)||(0,i.isSVGTag)(e),isPreTag:e=>"pre"===e,decodeEntities:function(e,t=!1){return(!a&&(a=document.createElement("div")),t)?(a.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,a.children[0].getAttribute("foo")):(a.innerHTML=e,a.textContent)},isBuiltInComponent:e=>eg(e,"Transition")?nx:eg(e,"TransitionGroup")?n$:void 0,getNamespace(e,t){let n=t?t.ns:0;if(t&&2===n){if("annotation-xml"===t.tag){if("svg"===e)return 1;t.props.some(e=>6===e.type&&"encoding"===e.name&&null!=e.value&&("text/html"===e.value.content||"application/xhtml+xml"===e.value.content))&&(n=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&"mglyph"!==e&&"malignmark"!==e&&(n=0)}else t&&1===n&&("foreignObject"===t.tag||"desc"===t.tag||"title"===t.tag)&&(n=0);if(0===n){if("svg"===e)return 1;if("math"===e)return 2}return n},getTextMode({tag:e,ns:t}){if(0===t){if("textarea"===e||"title"===e)return 1;if(nD(e))return 2}return 0}},nB=e=>{1===e.type&&e.props.forEach((t,n)=>{6===t.type&&"style"===t.name&&t.value&&(e.props[n]={type:7,name:"bind",arg:ea("style",!0,t.loc),exp:nP(t.value.content,t.loc),modifiers:[],loc:t.loc})})},nP=(e,t)=>ea(JSON.stringify((0,i.parseStringStyle)(e)),!1,t,3);function nO(e,t){return l(e,t,void 0)}let nR=(0,i.makeMap)("passive,once,capture"),nI=(0,i.makeMap)("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),nM=(0,i.makeMap)("left,right"),nL=(0,i.makeMap)("onkeyup,onkeydown,onkeypress",!0),nj=(e,t,n,a)=>{let i=[],r=[],o=[];for(let l=0;l<t.length;l++){let s=t[l];"native"===s&&eZ("COMPILER_V_ON_NATIVE",n,a)?o.push(s):nR(s)?o.push(s):nM(s)?eh(e)?nL(e.content)?i.push(s):r.push(s):(i.push(s),r.push(s)):nI(s)?r.push(s):i.push(s)}return{keyModifiers:i,nonKeyModifiers:r,eventOptionModifiers:o}},nq=(e,t)=>eh(e)&&"onclick"===e.content.toLowerCase()?ea(t,!0):4!==e.type?er(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,nF=(e,t)=>{1===e.type&&0===e.tagType&&("script"===e.tag||"style"===e.tag)&&(t.onError(nO(60,e.loc)),t.removeNode())},nU=[nB],nz={cloak:ny,html:(e,t,n)=>{let{exp:a,loc:i}=e;return!a&&n.onError(nO(50,i)),t.children.length&&(n.onError(nO(51,i)),t.children.length=0),{props:[en(ea("innerHTML",!0,i),a||ea("",!0))]}},text:(e,t,n)=>{let{exp:a,loc:i}=e;return!a&&n.onError(nO(52,i)),t.children.length&&(n.onError(nO(53,i)),t.children.length=0),{props:[en(ea("textContent",!0),a?ts(a,n)>0?a:eo(n.helperString(D),[a],i):ea("",!0))]}},model:(e,t,n)=>{let a=nd(e,t,n);if(!a.props.length||1===t.tagType)return a;e.arg&&n.onError(nO(55,e.arg.loc));let{tag:i}=t,r=n.isCustomElement(i);if("input"===i||"textarea"===i||"select"===i||r){let o=nA,l=!1;if("input"===i||r){let a=eT(t,"type");if(a){if(7===a.type)o=nC;else if(a.value)switch(a.value.content){case"radio":o=nk;break;case"checkbox":o=nE;break;case"file":l=!0,n.onError(nO(56,e.loc))}}else eP(t)&&(o=nC)}else"select"===i&&(o=nw);!l&&(a.needRuntime=n.helper(o))}else n.onError(nO(54,e.loc));return a.props=a.props.filter(e=>!(4===e.key.type&&"modelValue"===e.key.content)),a},on:(e,t,n)=>ni(e,t,n,t=>{let{modifiers:a}=e;if(!a.length)return t;let{key:r,value:o}=t.props[0],{keyModifiers:l,nonKeyModifiers:s,eventOptionModifiers:c}=nj(r,a,n,e.loc);if(s.includes("right")&&(r=nq(r,"onContextmenu")),s.includes("middle")&&(r=nq(r,"onMouseup")),s.length&&(o=eo(n.helper(nS),[o,JSON.stringify(s)])),l.length&&(!eh(r)||nL(r.content))&&(o=eo(n.helper(nN),[o,JSON.stringify(l)])),c.length){let e=c.map(i.capitalize).join("");r=eh(r)?ea(`${r.content}${e}`,!0):er(["(",r,`) + "${e}"`])}return{props:[en(r,o)]}}),show:(e,t,n)=>{let{exp:a,loc:i}=e;return!a&&n.onError(nO(58,i)),{props:[],needRuntime:n.helper(nV)}}};function nH(e,t={}){return nb(e,(0,i.extend)({},nT,t,{nodeTransforms:[nF,...nU,...t.nodeTransforms||[]],directiveTransforms:(0,i.extend)({},nz,t.directiveTransforms||{}),transformHoist:null}))}function nY(e,t={}){return e0(e,(0,i.extend)({},nT,t))}},1196:function(e,t,n){"use strict";let a,i,r,o,l,s;n.r(t),n.d(t,{onErrorCaptured:()=>nv,defineAsyncComponent:()=>t6,vModelText:()=>ro,createVNode:()=>aB,createHydrationRenderer:()=>aa,Teleport:()=>ap,mergeProps:()=>aF,Suspense:()=>tB,readonly:()=>ex,toHandlerKey:()=>d.toHandlerKey,renderSlot:()=>n$,Fragment:()=>a_,onUpdated:()=>np,toDisplayString:()=>d.toDisplayString,markRaw:()=>eI,normalizeClass:()=>d.normalizeClass,provide:()=>tL,compatUtils:()=>iE,isRef:()=>eF,toRaw:()=>eR,toRef:()=>e1,isReadonly:()=>eB,transformVNodeArgs:()=>aV,popScopeId:()=>tw,computed:()=>ie,resolveTransitionHooks:()=>t0,isRuntimeOnly:()=>a2,unref:()=>eK,useAttrs:()=>il,vModelCheckbox:()=>rl,nextTick:()=>tl,getCurrentScope:()=>m,vShow:()=>rE,createApp:()=>r$,setDevtoolsHook:()=>function e(t,n){var a,i;(r=t)?(r.enabled=!0,tf.forEach(({event:e,args:t})=>r.emit(e,...t)),tf=[]):"undefined"==typeof window||!window.HTMLElement||(null===(i=null===(a=window.navigator)||void 0===a?void 0:a.userAgent)||void 0===i?void 0:i.includes("jsdom"))?(th=!0,tf=[]):((n.__VUE_DEVTOOLS_HOOK_REPLAY__=n.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(t=>{e(t,n)}),setTimeout(()=>{!r&&(n.__VUE_DEVTOOLS_HOOK_REPLAY__=null,th=!0,tf=[])},3e3))},watch:()=>tH,withKeys:()=>rk,guardReactiveProps:()=>aP,createSSRApp:()=>rD,setTransitionHooks:()=>t3,normalizeProps:()=>d.normalizeProps,EffectScope:()=>u,onDeactivated:()=>na,shallowReactive:()=>eV,vModelRadio:()=>rc,renderList:()=>nV,handleError:()=>e6,callWithErrorHandling:()=>e5,createElementBlock:()=>aw,proxyRefs:()=>eW,toHandlers:()=>nD,useTransitionState:()=>tW,resolveComponent:()=>nE,capitalize:()=>d.capitalize,withDirectives:()=>nb,withAsyncContext:()=>iu,normalizeStyle:()=>d.normalizeStyle,KeepAlive:()=>ne,watchEffect:()=>tq,ssrContextKey:()=>i_,render:()=>rV,inject:()=>tj,Static:()=>ah,shallowRef:()=>ez,createTextVNode:()=>aR,Comment:()=>af,Transition:()=>iH,effect:()=>x,onBeforeMount:()=>nc,onServerPrefetch:()=>nf,onBeforeUpdate:()=>nu,toRefs:()=>eX,version:()=>ib,withModifiers:()=>rb,ref:()=>eU,getTransitionRawChildren:()=>t4,withScopeId:()=>tC,resolveDirective:()=>nC,onRenderTriggered:()=>nh,pushScopeId:()=>tA,isVNode:()=>aS,isShallow:()=>eP,createBlock:()=>aC,reactive:()=>eN,useCssModule:()=>ij,createCommentVNode:()=>aM,TransitionGroup:()=>i9,createSlots:()=>nx,camelize:()=>d.camelize,shallowReadonly:()=>e$,VueElement:()=>iL,resolveFilter:()=>ik,ssrUtils:()=>iy,withMemo:()=>ig,withCtx:()=>tS,resolveDynamicComponent:()=>nw,devtools:()=>r,isMemoSame:()=>iv,customRef:()=>eQ,isReactive:()=>eT,createStaticVNode:()=>aI,useCssVars:()=>iq,defineExpose:()=>ii,onScopeDispose:()=>f,callWithAsyncErrorHandling:()=>e8,hydrate:()=>rx,openBlock:()=>ab,useSSRContext:()=>im,useSlots:()=>io,createElementVNode:()=>aT,onMounted:()=>nd,withDefaults:()=>ir,watchPostEffect:()=>tF,registerRuntimeCompiler:()=>a1,createRenderer:()=>an,isProxy:()=>eO,BaseTransition:()=>tQ,defineSSRCustomElement:()=>iI,onUnmounted:()=>nm,onActivated:()=>nn,Text:()=>am,stop:()=>D,onBeforeUnmount:()=>n_,warn:()=>e4,getCurrentInstance:()=>aK,mergeDefaults:()=>ic,defineComponent:()=>t5,defineCustomElement:()=>iR,vModelSelect:()=>rd,watchSyncEffect:()=>tU,vModelDynamic:()=>rm,h:()=>ip,queuePostFlushCb:()=>td,createPropsRestProxy:()=>id,triggerRef:()=>eJ,initCustomFormatter:()=>ih,initDirectivesForSSR:()=>rP,ReactiveEffect:()=>N,cloneVNode:()=>aO,defineEmits:()=>ia,effectScope:()=>p,onRenderTracked:()=>ng,defineProps:()=>it,setBlockTracking:()=>aE});var c,d=n("3577");class u{constructor(e=!1){this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=a,!e&&a&&(this.index=(a.scopes||(a.scopes=[])).push(this)-1)}run(e){if(this.active){let t=a;try{return a=this,e()}finally{a=t}}}on(){a=this}off(){a=this.parent}stop(e){if(this.active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){let e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0,this.active=!1}}}function p(e){return new u(e)}function _(e,t=a){t&&t.active&&t.effects.push(e)}function m(){return a}function f(e){a&&a.cleanups.push(e)}let h=e=>{let t=new Set(e);return t.w=0,t.n=0,t},g=e=>(e.w&w)>0,b=e=>(e.n&w)>0,y=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=w},k=e=>{let{deps:t}=e;if(t.length){let n=0;for(let a=0;a<t.length;a++){let i=t[a];g(i)&&!b(i)?i.delete(e):t[n++]=i,i.w&=~w,i.n&=~w}t.length=n}},E=new WeakMap,A=0,w=1,C=Symbol(""),S=Symbol("");class N{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,_(this,n)}run(){if(!this.active)return this.fn();let e=i,t=T;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=i,i=this,T=!0,w=1<<++A,A<=30?y(this):V(this),this.fn()}finally{A<=30&&k(this),w=1<<--A,i=this.parent,T=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){i===this?this.deferStop=!0:this.active&&(V(this),this.onStop&&this.onStop(),this.active=!1)}}function V(e){let{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}function x(e,t){e.effect&&(e=e.effect.fn);let n=new N(e);t&&((0,d.extend)(n,t),t.scope&&_(n,t.scope)),(!t||!t.lazy)&&n.run();let a=n.run.bind(n);return a.effect=n,a}function D(e){e.effect.stop()}let T=!0,B=[];function P(){B.push(T),T=!1}function O(){let e=B.pop();T=void 0===e||e}function R(e,t,n){if(T&&i){let t=E.get(e);!t&&E.set(e,t=new Map);let a=t.get(n);!a&&t.set(n,a=h());I(a,void 0)}}function I(e,t){let n=!1;A<=30?!b(e)&&(e.n|=w,n=!g(e)):n=!e.has(i),n&&(e.add(i),i.deps.push(e))}function M(e,t,n,a,i,r){let o=E.get(e);if(!o)return;let l=[];if("clear"===t)l=[...o.values()];else if("length"===n&&(0,d.isArray)(e))o.forEach((e,t)=>{("length"===t||t>=a)&&l.push(e)});else switch(void 0!==n&&l.push(o.get(n)),t){case"add":(0,d.isArray)(e)?(0,d.isIntegerKey)(n)&&l.push(o.get("length")):(l.push(o.get(C)),(0,d.isMap)(e)&&l.push(o.get(S)));break;case"delete":!(0,d.isArray)(e)&&(l.push(o.get(C)),(0,d.isMap)(e)&&l.push(o.get(S)));break;case"set":(0,d.isMap)(e)&&l.push(o.get(C))}if(1===l.length)l[0]&&L(l[0]);else{let e=[];for(let t of l)t&&e.push(...t);L(h(e))}}function L(e,t){let n=(0,d.isArray)(e)?e:[...e];for(let e of n)e.computed&&j(e,t);for(let e of n)!e.computed&&j(e,t)}function j(e,t){(e!==i||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}let q=(0,d.makeMap)("__proto__,__v_isRef,__isVue"),F=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>"arguments"!==e&&"caller"!==e).map(e=>Symbol[e]).filter(d.isSymbol)),U=K(),z=K(!1,!0),H=K(!0),Y=K(!0,!0),J=function(){let e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...e){let n=eR(this);for(let e=0,t=this.length;e<t;e++)R(n,"get",e+"");let a=n[t](...e);return -1===a||!1===a?n[t](...e.map(eR)):a}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...e){P();let n=eR(this)[t].apply(this,e);return O(),n}}),e}();function K(e=!1,t=!1){return function(n,a,i){if("__v_isReactive"===a)return!e;if("__v_isReadonly"===a)return e;if("__v_isShallow"===a)return t;else if("__v_raw"===a&&i===(e?t?eS:eC:t?ew:eA).get(n))return n;let r=(0,d.isArray)(n);if(!e&&r&&(0,d.hasOwn)(J,a))return Reflect.get(J,a,i);let o=Reflect.get(n,a,i);return((0,d.isSymbol)(a)?F.has(a):q(a))?o:(!e&&R(n,"get",a),t)?o:eF(o)?r&&(0,d.isIntegerKey)(a)?o:o.value:(0,d.isObject)(o)?e?ex(o):eN(o):o}}let Z=G(),W=G(!0);function G(e=!1){return function(t,n,a,i){let r=t[n];if(eB(r)&&eF(r)&&!eF(a))return!1;if(!e&&(!eP(a)&&!eB(a)&&(r=eR(r),a=eR(a)),!(0,d.isArray)(t)&&eF(r)&&!eF(a)))return r.value=a,!0;let o=(0,d.isArray)(t)&&(0,d.isIntegerKey)(n)?Number(n)<t.length:(0,d.hasOwn)(t,n),l=Reflect.set(t,n,a,i);return t===eR(i)&&(o?(0,d.hasChanged)(a,r)&&M(t,"set",n,a,r):M(t,"add",n,a)),l}}let Q={get:U,set:Z,deleteProperty:function(e,t){let n=(0,d.hasOwn)(e,t),a=e[t],i=Reflect.deleteProperty(e,t);return i&&n&&M(e,"delete",t,void 0,a),i},has:function(e,t){let n=Reflect.has(e,t);return(!(0,d.isSymbol)(t)||!F.has(t))&&R(e,"has",t),n},ownKeys:function(e){return R(e,"iterate",(0,d.isArray)(e)?"length":C),Reflect.ownKeys(e)}},X={get:H,set:(e,t)=>!0,deleteProperty:(e,t)=>!0},ee=(0,d.extend)({},Q,{get:z,set:W}),et=(0,d.extend)({},X,{get:Y}),en=e=>e,ea=e=>Reflect.getPrototypeOf(e);function ei(e,t,n=!1,a=!1){let i=eR(e=e.__v_raw),r=eR(t);!n&&(t!==r&&R(i,"get",t),R(i,"get",r));let{has:o}=ea(i),l=a?en:n?eL:eM;return o.call(i,t)?l(e.get(t)):o.call(i,r)?l(e.get(r)):void(e!==i&&e.get(t))}function er(e,t=!1){let n=this.__v_raw,a=eR(n),i=eR(e);return!t&&(e!==i&&R(a,"has",e),R(a,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function eo(e,t=!1){return e=e.__v_raw,t||R(eR(e),"iterate",C),Reflect.get(e,"size",e)}function el(e){e=eR(e);let t=eR(this);return!ea(t).has.call(t,e)&&(t.add(e),M(t,"add",e,e)),this}function es(e,t){t=eR(t);let n=eR(this),{has:a,get:i}=ea(n),r=a.call(n,e);r||(e=eR(e),r=a.call(n,e));let o=i.call(n,e);return n.set(e,t),r?(0,d.hasChanged)(t,o)&&M(n,"set",e,t,o):M(n,"add",e,t),this}function ec(e){let t=eR(this),{has:n,get:a}=ea(t),i=n.call(t,e);i||(e=eR(e),i=n.call(t,e));let r=a?a.call(t,e):void 0,o=t.delete(e);return i&&M(t,"delete",e,void 0,r),o}function ed(){let e=eR(this),t=0!==e.size,n=e.clear();return t&&M(e,"clear",void 0,void 0,void 0),n}function eu(e,t){return function(n,a){let i=this,r=i.__v_raw,o=eR(r),l=t?en:e?eL:eM;return e||R(o,"iterate",C),r.forEach((e,t)=>n.call(a,l(e),l(t),i))}}function ep(e,t,n){return function(...a){let i=this.__v_raw,r=eR(i),o=(0,d.isMap)(r),l="entries"===e||e===Symbol.iterator&&o,s=i[e](...a),c=n?en:t?eL:eM;return t||R(r,"iterate","keys"===e&&o?S:C),{next(){let{value:e,done:t}=s.next();return t?{value:e,done:t}:{value:l?[c(e[0]),c(e[1])]:c(e),done:t}},[Symbol.iterator](){return this}}}}function e_(e){return function(...t){return"delete"!==e&&this}}let[em,ef,eh,eg]=function(){let e={get(e){return ei(this,e)},get size(){return eo(this)},has:er,add:el,set:es,delete:ec,clear:ed,forEach:eu(!1,!1)},t={get(e){return ei(this,e,!1,!0)},get size(){return eo(this)},has:er,add:el,set:es,delete:ec,clear:ed,forEach:eu(!1,!0)},n={get(e){return ei(this,e,!0)},get size(){return eo(this,!0)},has(e){return er.call(this,e,!0)},add:e_("add"),set:e_("set"),delete:e_("delete"),clear:e_("clear"),forEach:eu(!0,!1)},a={get(e){return ei(this,e,!0,!0)},get size(){return eo(this,!0)},has(e){return er.call(this,e,!0)},add:e_("add"),set:e_("set"),delete:e_("delete"),clear:e_("clear"),forEach:eu(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=ep(i,!1,!1),n[i]=ep(i,!0,!1),t[i]=ep(i,!1,!0),a[i]=ep(i,!0,!0)}),[e,n,t,a]}();function ev(e,t){let n=t?e?eg:eh:e?ef:em;return(t,a,i)=>{if("__v_isReactive"===a)return!e;if("__v_isReadonly"===a)return e;if("__v_raw"===a)return t;return Reflect.get((0,d.hasOwn)(n,a)&&a in t?n:t,a,i)}}let eb={get:ev(!1,!1)},ey={get:ev(!1,!0)},ek={get:ev(!0,!1)},eE={get:ev(!0,!0)},eA=new WeakMap,ew=new WeakMap,eC=new WeakMap,eS=new WeakMap;function eN(e){return eB(e)?e:eD(e,!1,Q,eb,eA)}function eV(e){return eD(e,!1,ee,ey,ew)}function ex(e){return eD(e,!0,X,ek,eC)}function e$(e){return eD(e,!0,et,eE,eS)}function eD(e,t,n,a,i){var r;if(!(0,d.isObject)(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;let o=i.get(e);if(o)return o;let l=(r=e).__v_skip||!Object.isExtensible(r)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((0,d.toRawType)(r));if(0===l)return e;let s=new Proxy(e,2===l?a:n);return i.set(e,s),s}function eT(e){return eB(e)?eT(e.__v_raw):!!(e&&e.__v_isReactive)}function eB(e){return!!(e&&e.__v_isReadonly)}function eP(e){return!!(e&&e.__v_isShallow)}function eO(e){return eT(e)||eB(e)}function eR(e){let t=e&&e.__v_raw;return t?eR(t):e}function eI(e){return(0,d.def)(e,"__v_skip",!0),e}let eM=e=>(0,d.isObject)(e)?eN(e):e,eL=e=>(0,d.isObject)(e)?ex(e):e;function ej(e){if(T&&i){e=eR(e);I(e.dep||(e.dep=h()))}}function eq(e,t){(e=eR(e)).dep&&L(e.dep)}function eF(e){return!!(e&&!0===e.__v_isRef)}function eU(e){return eH(e,!1)}function ez(e){return eH(e,!0)}function eH(e,t){return eF(e)?e:new eY(e,t)}class eY{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:eR(e),this._value=t?e:eM(e)}get value(){return ej(this),this._value}set value(e){let t=this.__v_isShallow||eP(e)||eB(e);e=t?e:eR(e),(0,d.hasChanged)(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:eM(e),eq(this,e))}}function eJ(e){eq(e,void 0)}function eK(e){return eF(e)?e.value:e}let eZ={get:(e,t,n)=>eK(Reflect.get(e,t,n)),set:(e,t,n,a)=>{let i=e[t];return eF(i)&&!eF(n)?(i.value=n,!0):Reflect.set(e,t,n,a)}};function eW(e){return eT(e)?e:new Proxy(e,eZ)}class eG{constructor(e){this.dep=void 0,this.__v_isRef=!0;let{get:t,set:n}=e(()=>ej(this),()=>eq(this));this._get=t,this._set=n}get value(){return this._get()}set value(e){this._set(e)}}function eQ(e){return new eG(e)}function eX(e){let t=(0,d.isArray)(e)?Array(e.length):{};for(let n in e)t[n]=e1(e,n);return t}class e0{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0}get value(){let e=this._object[this._key];return void 0===e?this._defaultValue:e}set value(e){this._object[this._key]=e}}function e1(e,t,n){let a=e[t];return eF(a)?a:new e0(e,t,n)}class e2{constructor(e,t,n,a){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this[c]=!1,this._dirty=!0,this.effect=new N(e,()=>{!this._dirty&&(this._dirty=!0,eq(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!a,this.__v_isReadonly=n}get value(){let e=eR(this);return ej(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}c="__v_isReadonly";let e3=[];function e4(e,...t){P();let n=e3.length?e3[e3.length-1].component:null,a=n&&n.appContext.config.warnHandler,i=function(){let e=e3[e3.length-1];if(!e)return[];let t=[];for(;e;){let n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});let a=e.component&&e.component.parent;e=a&&a.vnode}return t}();if(a)e5(a,n,11,[e+t.join(""),n&&n.proxy,i.map(({vnode:e})=>`at <${a9(n,e.type)}>`).join("\n"),i]);else{let n=[`[Vue warn]: ${e}`,...t];i.length&&n.push(`
`,...function(e){let t=[];return e.forEach((e,n)=>{t.push(...0===n?[]:[`
`],...function({vnode:e,recurseCount:t}){let n=t>0?`... (${t} recursive calls)`:"",a=!!e.component&&null==e.component.parent,i=` at <${a9(e.component,e.type,a)}`,r=">"+n;return e.props?[i,...function(e){let t=[],n=Object.keys(e);return n.slice(0,3).forEach(n=>{t.push(...function e(t,n,a){if((0,d.isString)(n))return n=JSON.stringify(n),a?n:[`${t}=${n}`];if("number"==typeof n||"boolean"==typeof n||null==n)return a?n:[`${t}=${n}`];if(eF(n))return n=e(t,eR(n.value),!0),a?n:[`${t}=Ref<`,n,">"];else if((0,d.isFunction)(n))return[`${t}=fn${n.name?`<${n.name}>`:""}`];else return n=eR(n),a?n:[`${t}=`,n]}(n,e[n]))}),n.length>3&&t.push(" ..."),t}(e.props),r]:[i+r]}(e))}),t}(i)),console.warn(...n)}O()}function e5(e,t,n,a){let i;try{i=a?e(...a):e()}catch(e){e6(e,t,n)}return i}function e8(e,t,n,a){if((0,d.isFunction)(e)){let i=e5(e,t,n,a);return i&&(0,d.isPromise)(i)&&i.catch(e=>{e6(e,t,n)}),i}let i=[];for(let r=0;r<e.length;r++)i.push(e8(e[r],t,n,a));return i}function e6(e,t,n,a=!0){let i=t?t.vnode:null;if(t){let a=t.parent,i=t.proxy;for(;a;){let t=a.ec;if(t){for(let a=0;a<t.length;a++)if(!1===t[a](e,i,n))return}a=a.parent}let r=t.appContext.config.errorHandler;if(r){e5(r,null,10,[e,i,n]);return}}(function(e,t,n,a=!0){console.error(e)})(e,n,i,a)}let e7=!1,e9=!1,te=[],tt=0,tn=[],ta=null,ti=0,tr=Promise.resolve(),to=null;function tl(e){let t=to||tr;return e?t.then(this?e.bind(this):e):t}function ts(e){(!te.length||!te.includes(e,e7&&e.allowRecurse?tt+1:tt))&&(null==e.id?te.push(e):te.splice(function(e){let t=tt+1,n=te.length;for(;t<n;){let a=t+n>>>1;t_(te[a])<e?t=a+1:n=a}return t}(e.id),0,e),tc())}function tc(){!e7&&!e9&&(e9=!0,to=tr.then(function e(t){e9=!1,e7=!0;te.sort(tm),d.NOOP;try{for(tt=0;tt<te.length;tt++){let e=te[tt];e&&!1!==e.active&&e5(e,null,14)}}finally{tt=0,te.length=0,tp(t),e7=!1,to=null,(te.length||tn.length)&&e(t)}}))}function td(e){(0,d.isArray)(e)?tn.push(...e):(!ta||!ta.includes(e,e.allowRecurse?ti+1:ti))&&tn.push(e),tc()}function tu(e,t=e7?tt+1:0){for(;t<te.length;t++){let e=te[t];e&&e.pre&&(te.splice(t,1),t--,e())}}function tp(e){if(tn.length){let e=[...new Set(tn)];if(tn.length=0,ta){ta.push(...e);return}ta=e;for(ta.sort((e,t)=>t_(e)-t_(t)),ti=0;ti<ta.length;ti++)ta[ti]();ta=null,ti=0}}let t_=e=>null==e.id?1/0:e.id,tm=(e,t)=>{let n=t_(e)-t_(t);if(0===n){if(e.pre&&!t.pre)return -1;if(t.pre&&!e.pre)return 1}return n},tf=[],th=!1;function tg(e,...t){r?r.emit(e,...t):!th&&tf.push({event:e,args:t})}function tv(e,t,...n){let a;if(e.isUnmounted)return;let i=e.vnode.props||d.EMPTY_OBJ,r=n,o=t.startsWith("update:"),l=o&&t.slice(7);if(l&&l in i){let{number:e,trim:t}=i[`${"modelValue"===l?"model":l}Modifiers`]||d.EMPTY_OBJ;t&&(r=n.map(e=>e.trim())),e&&(r=n.map(d.toNumber))}let s=i[a=(0,d.toHandlerKey)(t)]||i[a=(0,d.toHandlerKey)((0,d.camelize)(t))];!s&&o&&(s=i[a=(0,d.toHandlerKey)((0,d.hyphenate)(t))]),s&&e8(s,e,6,r);let c=i[a+"Once"];if(c){if(e.emitted){if(e.emitted[a])return}else e.emitted={};e.emitted[a]=!0,e8(c,e,6,r)}}function tb(e,t){return!!(e&&(0,d.isOn)(t))&&(t=t.slice(2).replace(/Once$/,""),(0,d.hasOwn)(e,t[0].toLowerCase()+t.slice(1))||(0,d.hasOwn)(e,(0,d.hyphenate)(t))||(0,d.hasOwn)(e,t))}let ty=null,tk=null;function tE(e){let t=ty;return ty=e,tk=e&&e.type.__scopeId||null,t}function tA(e){tk=e}function tw(){tk=null}let tC=e=>tS;function tS(e,t=ty,n){if(!t||e._n)return e;let a=(...n)=>{let i;a._d&&function(e){ak+=e}(-1);let r=tE(t);try{i=e(...n)}finally{tE(r),a._d&&function(e){ak+=e}(1)}return i};return a._n=!0,a._c=!0,a._d=!0,a}function tN(e){let t,n;let{type:a,vnode:i,proxy:r,withProxy:o,props:l,propsOptions:[s],slots:c,attrs:u,emit:p,render:_,renderCache:m,data:f,setupState:h,ctx:g,inheritAttrs:b}=e,y=tE(e);try{if(4&i.shapeFlag){let e=o||r;t=aL(_.call(e,e,m,l,h,f,g)),n=u}else t=aL(a.length>1?a(l,{attrs:u,slots:c,emit:p}):a(l,null)),n=a.props?u:tV(u)}catch(n){ag.length=0,e6(n,e,1),t=aB(af)}let k=t;if(n&&!1!==b){let e=Object.keys(n),{shapeFlag:t}=k;e.length&&7&t&&(s&&e.some(d.isModelListener)&&(n=tx(n,s)),k=aO(k,n))}return i.dirs&&((k=aO(k)).dirs=k.dirs?k.dirs.concat(i.dirs):i.dirs),i.transition&&(k.transition=i.transition),t=k,tE(y),t}let tV=e=>{let t;for(let n in e)("class"===n||"style"===n||(0,d.isOn)(n))&&((t||(t={}))[n]=e[n]);return t},tx=(e,t)=>{let n={};for(let a in e)(!(0,d.isModelListener)(a)||!(a.slice(9) in t))&&(n[a]=e[a]);return n};function t$(e,t,n){let a=Object.keys(t);if(a.length!==Object.keys(e).length)return!0;for(let i=0;i<a.length;i++){let r=a[i];if(t[r]!==e[r]&&!tb(n,r))return!0}return!1}function tD({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}let tT=e=>e.__isSuspense,tB={name:"Suspense",__isSuspense:!0,process(e,t,n,a,i,r,o,l,s,c){null==e?function(e,t,n,a,i,r,o,l,s){let{p:c,o:{createElement:d}}=s,u=d("div"),p=e.suspense=tO(e,i,a,t,u,n,r,o,l,s);c(null,p.pendingBranch=e.ssContent,u,null,a,p,r,o),p.deps>0?(tP(e,"onPending"),tP(e,"onFallback"),c(null,e.ssFallback,t,n,a,null,r,o),tM(p,e.ssFallback)):p.resolve()}(t,n,a,i,r,o,l,s,c):function(e,t,n,a,i,r,o,l,{p:s,um:c,o:{createElement:d}}){let u=t.suspense=e.suspense;u.vnode=t,t.el=e.el;let p=t.ssContent,_=t.ssFallback,{activeBranch:m,pendingBranch:f,isInFallback:h,isHydrating:g}=u;if(f)u.pendingBranch=p,aN(p,f)?(s(f,p,u.hiddenContainer,null,i,u,r,o,l),u.deps<=0?u.resolve():h&&(s(m,_,n,a,i,null,r,o,l),tM(u,_))):(u.pendingId++,g?(u.isHydrating=!1,u.activeBranch=f):c(f,i,u),u.deps=0,u.effects.length=0,u.hiddenContainer=d("div"),h?(s(null,p,u.hiddenContainer,null,i,u,r,o,l),u.deps<=0?u.resolve():(s(m,_,n,a,i,null,r,o,l),tM(u,_))):m&&aN(p,m)?(s(m,p,n,a,i,u,r,o,l),u.resolve(!0)):(s(null,p,u.hiddenContainer,null,i,u,r,o,l),u.deps<=0&&u.resolve()));else if(m&&aN(p,m))s(m,p,n,a,i,u,r,o,l),tM(u,p);else if(tP(t,"onPending"),u.pendingBranch=p,u.pendingId++,s(null,p,u.hiddenContainer,null,i,u,r,o,l),u.deps<=0)u.resolve();else{let{timeout:e,pendingId:t}=u;e>0?setTimeout(()=>{u.pendingId===t&&u.fallback(_)},e):0===e&&u.fallback(_)}}(e,t,n,a,i,o,l,s,c)},hydrate:function(e,t,n,a,i,r,o,l,s){let c=t.suspense=tO(t,a,n,e.parentNode,document.createElement("div"),null,i,r,o,l,!0),d=s(e,c.pendingBranch=t.ssContent,n,c,r,o);return 0===c.deps&&c.resolve(),d},create:tO,normalize:function(e){let{shapeFlag:t,children:n}=e,a=32&t;e.ssContent=tR(a?n.default:n),e.ssFallback=a?tR(n.fallback):aB(af)}};function tP(e,t){let n=e.props&&e.props[t];(0,d.isFunction)(n)&&n()}function tO(e,t,n,a,i,r,o,l,s,c,u=!1){let{p:p,m:_,um:m,n:f,o:{parentNode:h,remove:g}}=c,b=(0,d.toNumber)(e.props&&e.props.timeout),y={vnode:e,parent:t,parentComponent:n,isSVG:o,container:a,hiddenContainer:i,anchor:r,deps:0,pendingId:0,timeout:"number"==typeof b?b:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:u,isUnmounted:!1,effects:[],resolve(e=!1){let{vnode:t,activeBranch:n,pendingBranch:a,pendingId:i,effects:r,parentComponent:o,container:l}=y;if(y.isHydrating)y.isHydrating=!1;else if(!e){let e=n&&a.transition&&"out-in"===a.transition.mode;e&&(n.transition.afterLeave=()=>{i===y.pendingId&&_(a,l,t,0)});let{anchor:t}=y;n&&(t=f(n),m(n,o,y,!0)),!e&&_(a,l,t,0)}tM(y,a),y.pendingBranch=null,y.isInFallback=!1;let s=y.parent,c=!1;for(;s;){if(s.pendingBranch){s.effects.push(...r),c=!0;break}s=s.parent}!c&&td(r),y.effects=[],tP(t,"onResolve")},fallback(e){if(!y.pendingBranch)return;let{vnode:t,activeBranch:n,parentComponent:a,container:i,isSVG:r}=y;tP(t,"onFallback");let o=f(n),c=()=>{if(!!y.isInFallback)p(null,e,i,o,a,null,r,l,s),tM(y,e)},d=e.transition&&"out-in"===e.transition.mode;d&&(n.transition.afterLeave=c),y.isInFallback=!0,m(n,a,null,!0),!d&&c()},move(e,t,n){y.activeBranch&&_(y.activeBranch,e,t,n),y.container=e},next:()=>y.activeBranch&&f(y.activeBranch),registerDep(e,t){let n=!!y.pendingBranch;n&&y.deps++;let a=e.vnode.el;e.asyncDep.catch(t=>{e6(t,e,0)}).then(i=>{if(e.isUnmounted||y.isUnmounted||y.pendingId!==e.suspenseId)return;e.asyncResolved=!0;let{vnode:r}=e;a0(e,i,!1),a&&(r.el=a);let l=!a&&e.subTree.el;t(e,r,h(a||e.subTree.el),a?null:f(e.subTree),y,o,s),l&&g(l),tD(e,r.el);n&&0==--y.deps&&y.resolve()})},unmount(e,t){y.isUnmounted=!0,y.activeBranch&&m(y.activeBranch,n,e,t),y.pendingBranch&&m(y.pendingBranch,n,e,t)}};return y}function tR(e){let t;if((0,d.isFunction)(e)){let n=ak&&e._c;n&&(e._d=!1,ab()),e=e(),n&&(e._d=!0,t=av,ay())}if((0,d.isArray)(e)){let t=function(e){let t;for(let n=0;n<e.length;n++){let a=e[n];if(!aS(a))return;if(a.type!==af||"v-if"===a.children){if(t)return;t=a}}return t}(e);e=t}return e=aL(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(t=>t!==e)),e}function tI(e,t){t&&t.pendingBranch?(0,d.isArray)(e)?t.effects.push(...e):t.effects.push(e):td(e)}function tM(e,t){e.activeBranch=t;let{vnode:n,parentComponent:a}=e,i=n.el=t.el;a&&a.subTree===n&&(a.vnode.el=i,tD(a,i))}function tL(e,t){if(aJ){let n=aJ.provides,a=aJ.parent&&aJ.parent.provides;a===n&&(n=aJ.provides=Object.create(a)),n[e]=t}}function tj(e,t,n=!1){let a=aJ||ty;if(a){let i=null==a.parent?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&(0,d.isFunction)(t)?t.call(a.proxy):t}}function tq(e,t){return tY(e,null,t)}function tF(e,t){return tY(e,null,{flush:"post"})}function tU(e,t){return tY(e,null,{flush:"sync"})}let tz={};function tH(e,t,n){return tY(e,t,n)}function tY(e,t,{immediate:n,deep:a,flush:i,onTrack:r,onTrigger:o}=d.EMPTY_OBJ){let l,s,c;let u=aJ,p=!1,_=!1;if(eF(e)?(l=()=>e.value,p=eP(e)):eT(e)?(l=()=>e,a=!0):(0,d.isArray)(e)?(_=!0,p=e.some(e=>eT(e)||eP(e)),l=()=>e.map(e=>{if(eF(e))return e.value;if(eT(e))return tZ(e);if((0,d.isFunction)(e))return e5(e,u,2)})):l=(0,d.isFunction)(e)?t?()=>e5(e,u,2):()=>{if(!u||!u.isUnmounted)return s&&s(),e8(e,u,3,[m])}:d.NOOP,t&&a){let e=l;l=()=>tZ(e())}let m=e=>{s=g.onStop=()=>{e5(e,u,4)}};if(aQ)return m=d.NOOP,t?n&&e8(t,u,3,[l(),_?[]:void 0,m]):l(),d.NOOP;let f=_?[]:tz,h=()=>{if(!!g.active)if(t){let e=g.run();(a||p||(_?e.some((e,t)=>(0,d.hasChanged)(e,f[t])):(0,d.hasChanged)(e,f)))&&(s&&s(),e8(t,u,3,[e,f===tz?void 0:f,m]),f=e)}else g.run()};h.allowRecurse=!!t,"sync"===i?c=h:"post"===i?c=()=>at(h,u&&u.suspense):(h.pre=!0,u&&(h.id=u.uid),c=()=>ts(h));let g=new N(l,c);return t?n?h():f=g.run():"post"===i?at(g.run.bind(g),u&&u.suspense):g.run(),()=>{g.stop(),u&&u.scope&&(0,d.remove)(u.scope.effects,g)}}function tJ(e,t,n){let a;let i=this.proxy,r=(0,d.isString)(e)?e.includes(".")?tK(i,e):()=>i[e]:e.bind(i,i);(0,d.isFunction)(t)?a=t:(a=t.handler,n=t);let o=aJ;aZ(this);let l=tY(r,a.bind(i),n);return o?aZ(o):aW(),l}function tK(e,t){let n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function tZ(e,t){if(!(0,d.isObject)(e)||e.__v_skip||(t=t||new Set).has(e))return e;if(t.add(e),eF(e))tZ(e.value,t);else if((0,d.isArray)(e))for(let n=0;n<e.length;n++)tZ(e[n],t);else if((0,d.isSet)(e)||(0,d.isMap)(e))e.forEach(e=>{tZ(e,t)});else if((0,d.isPlainObject)(e))for(let n in e)tZ(e[n],t);return e}function tW(){let e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return nd(()=>{e.isMounted=!0}),n_(()=>{e.isUnmounting=!0}),e}let tG=[Function,Array],tQ={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:tG,onEnter:tG,onAfterEnter:tG,onEnterCancelled:tG,onBeforeLeave:tG,onLeave:tG,onAfterLeave:tG,onLeaveCancelled:tG,onBeforeAppear:tG,onAppear:tG,onAfterAppear:tG,onAppearCancelled:tG},setup(e,{slots:t}){let n;let a=aK(),i=tW();return()=>{let r=t.default&&t4(t.default(),!0);if(!r||!r.length)return;let o=r[0];if(r.length>1){let e=!1;for(let e of r)if(e.type!==af){o=e;break}}let l=eR(e),{mode:s}=l;if(i.isLeaving)return t1(o);let c=t2(o);if(!c)return t1(o);let d=t0(c,l,i,a);t3(c,d);let u=a.subTree,p=u&&t2(u),_=!1,{getTransitionKey:m}=c.type;if(m){let e=m();void 0===n?n=e:e!==n&&(n=e,_=!0)}if(p&&p.type!==af&&(!aN(c,p)||_)){let e=t0(p,l,i,a);if(t3(p,e),"out-in"===s)return i.isLeaving=!0,e.afterLeave=()=>{i.isLeaving=!1,a.update()},t1(o);"in-out"===s&&c.type!==af&&(e.delayLeave=(e,t,n)=>{tX(i,p)[String(p.key)]=p,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=n})}return o}}};function tX(e,t){let{leavingVNodes:n}=e,a=n.get(t.type);return!a&&(a=Object.create(null),n.set(t.type,a)),a}function t0(e,t,n,a){let{appear:i,mode:r,persisted:o=!1,onBeforeEnter:l,onEnter:s,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:p,onLeave:_,onAfterLeave:m,onLeaveCancelled:f,onBeforeAppear:h,onAppear:g,onAfterAppear:b,onAppearCancelled:y}=t,k=String(e.key),E=tX(n,e),A=(e,t)=>{e&&e8(e,a,9,t)},w=(e,t)=>{let n=t[1];A(e,t),(0,d.isArray)(e)?e.every(e=>e.length<=1)&&n():e.length<=1&&n()},C={mode:r,persisted:o,beforeEnter(t){let a=l;if(!n.isMounted){if(!i)return;a=h||l}t._leaveCb&&t._leaveCb(!0);let r=E[k];r&&aN(e,r)&&r.el._leaveCb&&r.el._leaveCb(),A(a,[t])},enter(e){let t=s,a=c,r=u;if(!n.isMounted){if(!i)return;t=g||s,a=b||c,r=y||u}let o=!1,l=e._enterCb=t=>{!o&&(o=!0,t?A(r,[e]):A(a,[e]),C.delayedLeave&&C.delayedLeave(),e._enterCb=void 0)};t?w(t,[e,l]):l()},leave(t,a){let i=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return a();A(p,[t]);let r=!1,o=t._leaveCb=n=>{!r&&(r=!0,a(),n?A(f,[t]):A(m,[t]),t._leaveCb=void 0,E[i]===e&&delete E[i])};E[i]=e,_?w(_,[t,o]):o()},clone:e=>t0(e,t,n,a)};return C}function t1(e){if(t9(e))return(e=aO(e)).children=null,e}function t2(e){return t9(e)?e.children?e.children[0]:void 0:e}function t3(e,t){6&e.shapeFlag&&e.component?t3(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function t4(e,t=!1,n){let a=[],i=0;for(let r=0;r<e.length;r++){let o=e[r],l=null==n?o.key:String(n)+String(null!=o.key?o.key:r);o.type===a_?(128&o.patchFlag&&i++,a=a.concat(t4(o.children,t,l))):(t||o.type!==af)&&a.push(null!=l?aO(o,{key:l}):o)}if(i>1)for(let e=0;e<a.length;e++)a[e].patchFlag=-2;return a}function t5(e){return(0,d.isFunction)(e)?{setup:e,name:e.name}:e}let t8=e=>!!e.type.__asyncLoader;function t6(e){let t;(0,d.isFunction)(e)&&(e={loader:e});let{loader:n,loadingComponent:a,errorComponent:i,delay:r=200,timeout:o,suspensible:l=!0,onError:s}=e,c=null,u=0,p=()=>(u++,c=null,_()),_=()=>{let e;return c||(e=c=n().catch(e=>{if(e=e instanceof Error?e:Error(String(e)),s)return new Promise((t,n)=>{s(e,()=>t(p()),()=>n(e),u+1)});throw e}).then(n=>e!==c&&c?c:(n&&(n.__esModule||"Module"===n[Symbol.toStringTag])&&(n=n.default),t=n,n)))};return t5({name:"AsyncComponentWrapper",__asyncLoader:_,get __asyncResolved(){return t},setup(){let e=aJ;if(t)return()=>t7(t,e);let n=t=>{c=null,e6(t,e,13,!i)};if(l&&e.suspense||aQ)return _().then(t=>()=>t7(t,e)).catch(e=>(n(e),()=>i?aB(i,{error:e}):null));let s=eU(!1),d=eU(),u=eU(!!r);return r&&setTimeout(()=>{u.value=!1},r),null!=o&&setTimeout(()=>{if(!s.value&&!d.value){let e=Error(`Async component timed out after ${o}ms.`);n(e),d.value=e}},o),_().then(()=>{s.value=!0,e.parent&&t9(e.parent.vnode)&&ts(e.parent.update)}).catch(e=>{n(e),d.value=e}),()=>{if(s.value&&t)return t7(t,e);if(d.value&&i)return aB(i,{error:d.value});if(a&&!u.value)return aB(a)}}})}function t7(e,{vnode:{ref:t,props:n,children:a,shapeFlag:i},parent:r}){let o=aB(e,n,a);return o.ref=t,o}let t9=e=>e.type.__isKeepAlive,ne={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){let n=aK(),a=n.ctx;if(!a.renderer)return()=>{let e=t.default&&t.default();return e&&1===e.length?e[0]:e};let i=new Map,r=new Set,o=null,l=n.suspense,{renderer:{p:s,m:c,um:u,o:{createElement:p}}}=a,_=p("div");function m(e){nr(e),u(e,n,l,!0)}function f(e){i.forEach((t,n)=>{let a=a7(t.type);a&&(!e||!e(a))&&h(n)})}function h(e){let t=i.get(e);o&&t.type===o.type?o&&nr(o):m(t),i.delete(e),r.delete(e)}a.activate=(e,t,n,a,i)=>{let r=e.component;c(e,t,n,0,l),s(r.vnode,e,t,n,r,l,a,e.slotScopeIds,i),at(()=>{r.isDeactivated=!1,r.a&&(0,d.invokeArrayFns)(r.a);let t=e.props&&e.props.onVnodeMounted;t&&aU(t,r.parent,e)},l)},a.deactivate=e=>{let t=e.component;c(e,_,null,1,l),at(()=>{t.da&&(0,d.invokeArrayFns)(t.da);let n=e.props&&e.props.onVnodeUnmounted;n&&aU(n,t.parent,e),t.isDeactivated=!0},l)},tY(()=>[e.include,e.exclude],([e,t])=>{e&&f(t=>nt(e,t)),t&&f(e=>!nt(t,e))},{flush:"post",deep:!0});let g=null,b=()=>{null!=g&&i.set(g,no(n.subTree))};return nd(b),np(b),n_(()=>{i.forEach(e=>{let{subTree:t,suspense:a}=n,i=no(t);if(e.type===i.type){nr(i);let e=i.component.da;e&&at(e,a);return}m(e)})}),()=>{if(g=null,!t.default)return null;let n=t.default(),a=n[0];if(n.length>1)return o=null,n;if(!aS(a)||!(4&a.shapeFlag)&&!(128&a.shapeFlag))return o=null,a;let l=no(a),s=l.type,c=a7(t8(l)?l.type.__asyncResolved||{}:s),{include:d,exclude:u,max:p}=e;if(d&&(!c||!nt(d,c))||u&&c&&nt(u,c))return o=l,a;let _=null==l.key?s:l.key,m=i.get(_);return l.el&&(l=aO(l),128&a.shapeFlag&&(a.ssContent=l)),g=_,m?(l.el=m.el,l.component=m.component,l.transition&&t3(l,l.transition),l.shapeFlag|=512,r.delete(_),r.add(_)):(r.add(_),p&&r.size>parseInt(p,10)&&h(r.values().next().value)),l.shapeFlag|=256,o=l,tT(a.type)?a:l}}};function nt(e,t){if((0,d.isArray)(e))return e.some(e=>nt(e,t));if((0,d.isString)(e))return e.split(",").includes(t);if(e.test)return e.test(t);return!1}function nn(e,t){ni(e,"a",t)}function na(e,t){ni(e,"da",t)}function ni(e,t,n=aJ){let a=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(nl(t,a,n),n){let e=n.parent;for(;e&&e.parent;)t9(e.parent.vnode)&&function(e,t,n,a){let i=nl(t,e,a,!0);nm(()=>{(0,d.remove)(a[t],i)},n)}(a,t,n,e),e=e.parent}}function nr(e){let t=e.shapeFlag;256&t&&(t-=256),512&t&&(t-=512),e.shapeFlag=t}function no(e){return 128&e.shapeFlag?e.ssContent:e}function nl(e,t,n=aJ,a=!1){if(n){let i=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;P(),aZ(n);let i=e8(t,n,e,a);return aW(),O(),i});return a?i.unshift(r):i.push(r),r}}let ns=e=>(t,n=aJ)=>(!aQ||"sp"===e)&&nl(e,(...e)=>t(...e),n),nc=ns("bm"),nd=ns("m"),nu=ns("bu"),np=ns("u"),n_=ns("bum"),nm=ns("um"),nf=ns("sp"),nh=ns("rtg"),ng=ns("rtc");function nv(e,t=aJ){nl("ec",e,t)}function nb(e,t){let n=ty;if(null===n)return e;let a=a5(n)||n.proxy,i=e.dirs||(e.dirs=[]);for(let e=0;e<t.length;e++){let[n,r,o,l=d.EMPTY_OBJ]=t[e];(0,d.isFunction)(n)&&(n={mounted:n,updated:n}),n.deep&&tZ(r),i.push({dir:n,instance:a,value:r,oldValue:void 0,arg:o,modifiers:l})}return e}function ny(e,t,n,a){let i=e.dirs,r=t&&t.dirs;for(let o=0;o<i.length;o++){let l=i[o];r&&(l.oldValue=r[o].value);let s=l.dir[a];s&&(P(),e8(s,n,8,[e.el,l,e,t]),O())}}let nk="components";function nE(e,t){return nS(nk,e,!0,t)||e}let nA=Symbol();function nw(e){return(0,d.isString)(e)?nS(nk,e,!1)||e:e||nA}function nC(e){return nS("directives",e)}function nS(e,t,n=!0,a=!1){let i=ty||aJ;if(i){let n=i.type;if(e===nk){let e=a7(n,!1);if(e&&(e===t||e===(0,d.camelize)(t)||e===(0,d.capitalize)((0,d.camelize)(t))))return n}let r=nN(i[e]||n[e],t)||nN(i.appContext[e],t);return!r&&a?n:r}}function nN(e,t){return e&&(e[t]||e[(0,d.camelize)(t)]||e[(0,d.capitalize)((0,d.camelize)(t))])}function nV(e,t,n,a){let i;let r=n&&n[a];if((0,d.isArray)(e)||(0,d.isString)(e)){i=Array(e.length);for(let n=0,a=e.length;n<a;n++)i[n]=t(e[n],n,void 0,r&&r[n])}else if("number"==typeof e){i=Array(e);for(let n=0;n<e;n++)i[n]=t(n+1,n,void 0,r&&r[n])}else if((0,d.isObject)(e)){if(e[Symbol.iterator])i=Array.from(e,(e,n)=>t(e,n,void 0,r&&r[n]));else{let n=Object.keys(e);i=Array(n.length);for(let a=0,o=n.length;a<o;a++){let o=n[a];i[a]=t(e[o],o,a,r&&r[a])}}}else i=[];return n&&(n[a]=i),i}function nx(e,t){for(let n=0;n<t.length;n++){let a=t[n];if((0,d.isArray)(a))for(let t=0;t<a.length;t++)e[a[t].name]=a[t].fn;else a&&(e[a.name]=a.key?(...e)=>{let t=a.fn(...e);return t&&(t.key=a.key),t}:a.fn)}return e}function n$(e,t,n={},a,i){if(ty.isCE||ty.parent&&t8(ty.parent)&&ty.parent.isCE)return aB("slot","default"===t?null:{name:t},a&&a());let r=e[t];r&&r._c&&(r._d=!1),ab();let o=r&&function e(t){return t.some(t=>!aS(t)||!!(t.type!==af&&(t.type!==a_||e(t.children)))||!1)?t:null}(r(n)),l=aC(a_,{key:n.key||o&&o.key||`_${t}`},o||(a?a():[]),o&&1===e._?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),r&&r._c&&(r._d=!0),l}function nD(e,t){let n={};for(let a in e)n[t&&/[A-Z]/.test(a)?`on:${a}`:(0,d.toHandlerKey)(a)]=e[a];return n}let nT=e=>e?aG(e)?a5(e)||e.proxy:nT(e.parent):null,nB=(0,d.extend)(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>nT(e.parent),$root:e=>nT(e.root),$emit:e=>e.emit,$options:e=>nM(e),$forceUpdate:e=>e.f||(e.f=()=>ts(e.update)),$nextTick:e=>e.n||(e.n=tl.bind(e.proxy)),$watch:e=>tJ.bind(e)}),nP={get({_:e},t){let n,a,i;let{ctx:r,setupState:o,data:l,props:s,accessCache:c,type:u,appContext:p}=e;if("$"!==t[0]){let a=c[t];if(void 0!==a)switch(a){case 1:return o[t];case 2:return l[t];case 4:return r[t];case 3:return s[t]}else{if(o!==d.EMPTY_OBJ&&(0,d.hasOwn)(o,t))return c[t]=1,o[t];if(l!==d.EMPTY_OBJ&&(0,d.hasOwn)(l,t))return c[t]=2,l[t];if((n=e.propsOptions[0])&&(0,d.hasOwn)(n,t))return c[t]=3,s[t];if(r!==d.EMPTY_OBJ&&(0,d.hasOwn)(r,t))return c[t]=4,r[t];nR&&(c[t]=0)}}let _=nB[t];if(_)return"$attrs"===t&&R(e,"get",t),_(e);if((a=u.__cssModules)&&(a=a[t]))return a;if(r!==d.EMPTY_OBJ&&(0,d.hasOwn)(r,t))return c[t]=4,r[t];else if(i=p.config.globalProperties,(0,d.hasOwn)(i,t))return i[t]},set({_:e},t,n){let{data:a,setupState:i,ctx:r}=e;if(i!==d.EMPTY_OBJ&&(0,d.hasOwn)(i,t))return i[t]=n,!0;if(a!==d.EMPTY_OBJ&&(0,d.hasOwn)(a,t))return a[t]=n,!0;if((0,d.hasOwn)(e.props,t))return!1;return!("$"===t[0]&&t.slice(1) in e)&&(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:a,appContext:i,propsOptions:r}},o){let l;return!!n[o]||e!==d.EMPTY_OBJ&&(0,d.hasOwn)(e,o)||t!==d.EMPTY_OBJ&&(0,d.hasOwn)(t,o)||(l=r[0])&&(0,d.hasOwn)(l,o)||(0,d.hasOwn)(a,o)||(0,d.hasOwn)(nB,o)||(0,d.hasOwn)(i.config.globalProperties,o)},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:(0,d.hasOwn)(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}},nO=(0,d.extend)({},nP,{get(e,t){if(t!==Symbol.unscopables)return nP.get(e,t,e)},has(e,t){let n="_"!==t[0]&&!(0,d.isGloballyWhitelisted)(t);return n}}),nR=!0;function nI(e,t,n){e8((0,d.isArray)(e)?e.map(e=>e.bind(t.proxy)):e.bind(t.proxy),t,n)}function nM(e){let t;let n=e.type,{mixins:a,extends:i}=n,{mixins:r,optionsCache:o,config:{optionMergeStrategies:l}}=e.appContext,s=o.get(n);return s?t=s:r.length||a||i?(t={},r.length&&r.forEach(e=>nL(t,e,l,!0)),nL(t,n,l)):t=n,(0,d.isObject)(n)&&o.set(n,t),t}function nL(e,t,n,a=!1){let{mixins:i,extends:r}=t;for(let o in r&&nL(e,r,n,!0),i&&i.forEach(t=>nL(e,t,n,!0)),t)if(a&&"expose"===o);else{let a=nj[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}let nj={data:nq,props:nz,emits:nz,methods:nz,computed:nz,beforeCreate:nU,created:nU,beforeMount:nU,mounted:nU,beforeUpdate:nU,updated:nU,beforeDestroy:nU,beforeUnmount:nU,destroyed:nU,unmounted:nU,activated:nU,deactivated:nU,errorCaptured:nU,serverPrefetch:nU,components:nz,directives:nz,watch:function(e,t){if(!e)return t;if(!t)return e;let n=(0,d.extend)(Object.create(null),e);for(let a in t)n[a]=nU(e[a],t[a]);return n},provide:nq,inject:function(e,t){return nz(nF(e),nF(t))}};function nq(e,t){return t?e?function(){return(0,d.extend)((0,d.isFunction)(e)?e.call(this,this):e,(0,d.isFunction)(t)?t.call(this,this):t)}:t:e}function nF(e){if((0,d.isArray)(e)){let t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function nU(e,t){return e?[...new Set([].concat(e,t))]:t}function nz(e,t){return e?(0,d.extend)((0,d.extend)(Object.create(null),e),t):t}function nH(e,t,n,a){let i;let[r,o]=e.propsOptions,l=!1;if(t)for(let s in t){let c;if((0,d.isReservedProp)(s))continue;let u=t[s];r&&(0,d.hasOwn)(r,c=(0,d.camelize)(s))?o&&o.includes(c)?(i||(i={}))[c]=u:n[c]=u:!tb(e.emitsOptions,s)&&(!(s in a)||u!==a[s])&&(a[s]=u,l=!0)}if(o){let t=eR(n),a=i||d.EMPTY_OBJ;for(let i=0;i<o.length;i++){let l=o[i];n[l]=nY(r,t,l,a[l],e,!(0,d.hasOwn)(a,l))}}return l}function nY(e,t,n,a,i,r){let o=e[n];if(null!=o){let e=(0,d.hasOwn)(o,"default");if(e&&void 0===a){let e=o.default;if(o.type!==Function&&(0,d.isFunction)(e)){let{propsDefaults:r}=i;n in r?a=r[n]:(aZ(i),a=r[n]=e.call(null,t),aW())}else a=e}o[0]&&(r&&!e?a=!1:o[1]&&(""===a||a===(0,d.hyphenate)(n))&&(a=!0))}return a}function nJ(e){return"$"!==e[0]||!1}function nK(e){let t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:null===e?"null":""}function nZ(e,t){return nK(e)===nK(t)}function nW(e,t){if((0,d.isArray)(t))return t.findIndex(t=>{var n,a;return n=t,a=e,nK(n)===nK(a)});if((0,d.isFunction)(t)){var n,a;return(n=t,a=e,nK(n)===nK(a))?0:-1}return -1}let nG=e=>"_"===e[0]||"$stable"===e,nQ=e=>(0,d.isArray)(e)?e.map(aL):[aL(e)],nX=(e,t,n)=>{if(t._n)return t;let a=tS((...e)=>nQ(t(...e)),n);return a._c=!1,a},n0=(e,t,n)=>{let a=e._ctx;for(let n in e){if(nG(n))continue;let i=e[n];if((0,d.isFunction)(i))t[n]=nX(n,i,a);else if(null!=i){let e=nQ(i);t[n]=()=>e}}},n1=(e,t)=>{let n=nQ(t);e.slots.default=()=>n},n2=(e,t)=>{if(32&e.vnode.shapeFlag){let n=t._;n?(e.slots=eR(t),(0,d.def)(t,"_",n)):n0(t,e.slots={})}else e.slots={},t&&n1(e,t);(0,d.def)(e.slots,ax,1)},n3=(e,t,n)=>{let{vnode:a,slots:i}=e,r=!0,o=d.EMPTY_OBJ;if(32&a.shapeFlag){let e=t._;e?n&&1===e?r=!1:((0,d.extend)(i,t),!n&&1===e&&delete i._):(r=!t.$stable,n0(t,i)),o=t}else t&&(n1(e,t),o={default:1});if(r)for(let e in i)!nG(e)&&!(e in o)&&delete i[e]};function n4(){return{app:null,config:{isNativeTag:d.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let n5=0;function n8(e,t,n,a,i=!1){if((0,d.isArray)(e)){e.forEach((e,r)=>n8(e,t&&((0,d.isArray)(t)?t[r]:t),n,a,i));return}if(t8(a)&&!i)return;let r=4&a.shapeFlag?a5(a.component)||a.component.proxy:a.el,o=i?null:r,{i:l,r:s}=e,c=t&&t.r,u=l.refs===d.EMPTY_OBJ?l.refs={}:l.refs,p=l.setupState;if(null!=c&&c!==s&&((0,d.isString)(c)?(u[c]=null,(0,d.hasOwn)(p,c)&&(p[c]=null)):eF(c)&&(c.value=null)),(0,d.isFunction)(s))e5(s,l,12,[o,u]);else{let t=(0,d.isString)(s),a=eF(s);if(t||a){let l=()=>{if(e.f){let n=t?(0,d.hasOwn)(p,s)?p[s]:u[s]:s.value;i?(0,d.isArray)(n)&&(0,d.remove)(n,r):(0,d.isArray)(n)?!n.includes(r)&&n.push(r):t?(u[s]=[r],(0,d.hasOwn)(p,s)&&(p[s]=u[s])):(s.value=[r],e.k&&(u[e.k]=s.value))}else t?(u[s]=o,(0,d.hasOwn)(p,s)&&(p[s]=o)):a&&(s.value=o,e.k&&(u[e.k]=o))};o?(l.id=-1,at(l,n)):l()}}}let n6=!1,n7=e=>/svg/.test(e.namespaceURI)&&"foreignObject"!==e.tagName,n9=e=>8===e.nodeType;function ae(e){let{mt:t,p:n,o:{patchProp:a,createText:i,nextSibling:r,parentNode:o,remove:l,insert:s,createComment:c}}=e,u=(n,a,l,c,d,g=!1)=>{let b=n9(n)&&"["===n.data,y=()=>f(n,a,l,c,d,b),{type:k,ref:E,shapeFlag:A,patchFlag:w}=a,C=n.nodeType;a.el=n,-2===w&&(g=!1,a.dynamicChildren=null);let S=null;switch(k){case am:3!==C?""===a.children?(s(a.el=i(""),o(n),n),S=n):S=y():(n.data!==a.children&&(n6=!0,n.data=a.children),S=r(n));break;case af:S=8!==C||b?y():r(n);break;case ah:if(b&&(C=(n=r(n)).nodeType),1===C||3===C){S=n;let e=!a.children.length;for(let t=0;t<a.staticCount;t++)e&&(a.children+=1===S.nodeType?S.outerHTML:S.data),t===a.staticCount-1&&(a.anchor=S),S=r(S);return b?r(S):S}y();break;case a_:S=b?m(n,a,l,c,d,g):y();break;default:if(1&A)S=1!==C||a.type.toLowerCase()!==n.tagName.toLowerCase()?y():p(n,a,l,c,d,g);else if(6&A){a.slotScopeIds=d;let e=o(n);if(t(a,e,null,l,c,n7(e),g),(S=b?h(n):r(n))&&n9(S)&&"teleport end"===S.data&&(S=r(S)),t8(a)){let t;b?(t=aB(a_)).anchor=S?S.previousSibling:e.lastChild:t=3===n.nodeType?aR(""):aB("div"),t.el=n,a.component.subTree=t}}else 64&A?S=8!==C?y():a.type.hydrate(n,a,l,c,d,g,e,_):128&A&&(S=a.type.hydrate(n,a,l,c,n7(o(n)),d,g,e,u))}return null!=E&&n8(E,null,c,a),S},p=(e,t,n,i,r,o)=>{o=o||!!t.dynamicChildren;let{type:s,props:c,patchFlag:u,shapeFlag:p,dirs:m}=t,f="input"===s&&m||"option"===s;if(f||-1!==u){let s;if(m&&ny(t,null,n,"created"),c){if(f||!o||48&u)for(let t in c)(f&&t.endsWith("value")||(0,d.isOn)(t)&&!(0,d.isReservedProp)(t))&&a(e,t,null,c[t],!1,void 0,n);else c.onClick&&a(e,"onClick",null,c.onClick,!1,void 0,n)}if((s=c&&c.onVnodeBeforeMount)&&aU(s,n,t),m&&ny(t,null,n,"beforeMount"),((s=c&&c.onVnodeMounted)||m)&&tI(()=>{s&&aU(s,n,t),m&&ny(t,null,n,"mounted")},i),16&p&&!(c&&(c.innerHTML||c.textContent))){let a=_(e.firstChild,t,e,n,i,r,o);for(;a;){n6=!0;let e=a;a=a.nextSibling,l(e)}}else 8&p&&e.textContent!==t.children&&(n6=!0,e.textContent=t.children)}return e.nextSibling},_=(e,t,a,i,r,o,l)=>{l=l||!!t.dynamicChildren;let s=t.children,c=s.length;for(let t=0;t<c;t++){let c=l?s[t]:s[t]=aL(s[t]);if(e)e=u(e,c,i,r,o,l);else{if(c.type===am&&!c.children)continue;n6=!0;n(null,c,a,null,i,r,n7(a),o)}}return e},m=(e,t,n,a,i,l)=>{let{slotScopeIds:d}=t;d&&(i=i?i.concat(d):d);let u=o(e),p=_(r(e),t,u,n,a,i,l);return p&&n9(p)&&"]"===p.data?r(t.anchor=p):(n6=!0,s(t.anchor=c("]"),u,p),p)},f=(e,t,a,i,s,c)=>{if(n6=!0,t.el=null,c){let t=h(e);for(;;){let n=r(e);if(n&&n!==t)l(n);else break}}let d=r(e),u=o(e);return l(e),n(null,t,u,d,a,i,n7(u),s),d},h=e=>{let t=0;for(;e;)if((e=r(e))&&n9(e)&&("["===e.data&&t++,"]"===e.data)){if(0===t)return r(e);t--}return e};return[(e,t)=>{if(!t.hasChildNodes()){n(null,e,t),tp(),t._vnode=e;return}n6=!1,u(t.firstChild,e,null,null,null),tp(),t._vnode=e,n6&&console.error("Hydration completed but contains mismatches.")},u]}let at=tI;function an(e){return ai(e)}function aa(e){return ai(e,ae)}function ai(e,t){var n,a;let i,r;(0,d.getGlobalThis)().__VUE__=!0;let{insert:o,remove:l,patchProp:s,createElement:c,createText:u,createComment:p,setText:_,setElementText:m,parentNode:f,nextSibling:h,setScopeId:g=d.NOOP,insertStaticContent:b}=e,y=(e,t,n,a=null,i=null,r=null,o=!1,l=null,s=!!t.dynamicChildren)=>{if(e===t)return;e&&!aN(e,t)&&(a=X(e),K(e,i,r,!0),e=null),-2===t.patchFlag&&(s=!1,t.dynamicChildren=null);let{type:c,ref:d,shapeFlag:u}=t;switch(c){case am:k(e,t,n,a);break;case af:E(e,t,n,a);break;case ah:null==e&&A(t,n,a,o);break;case a_:I(e,t,n,a,i,r,o,l,s);break;default:1&u?S(e,t,n,a,i,r,o,l,s):6&u?L(e,t,n,a,i,r,o,l,s):64&u?c.process(e,t,n,a,i,r,o,l,s,et):128&u&&c.process(e,t,n,a,i,r,o,l,s,et)}null!=d&&i&&n8(d,e&&e.ref,r,t||e,!t)},k=(e,t,n,a)=>{if(null==e)o(t.el=u(t.children),n,a);else{let n=t.el=e.el;t.children!==e.children&&_(n,t.children)}},E=(e,t,n,a)=>{null==e?o(t.el=p(t.children||""),n,a):t.el=e.el},A=(e,t,n,a)=>{[e.el,e.anchor]=b(e.children,t,n,a,e.el,e.anchor)},w=({el:e,anchor:t},n,a)=>{let i;for(;e&&e!==t;)i=h(e),o(e,n,a),e=i;o(t,n,a)},C=({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=h(e),l(e),e=n;l(t)},S=(e,t,n,a,i,r,o,l,s)=>{o=o||"svg"===t.type,null==e?V(t,n,a,i,r,o,l,s):T(e,t,i,r,o,l,s)},V=(e,t,n,a,i,r,l,u)=>{let p,_;let{type:f,props:h,shapeFlag:g,transition:b,dirs:y}=e;if(p=e.el=c(e.type,r,h&&h.is,h),8&g?m(p,e.children):16&g&&D(e.children,p,null,a,i,r&&"foreignObject"!==f,l,u),y&&ny(e,null,a,"created"),h){for(let t in h)"value"!==t&&!(0,d.isReservedProp)(t)&&s(p,t,null,h[t],r,e.children,a,i,Q);"value"in h&&s(p,"value",null,h.value),(_=h.onVnodeBeforeMount)&&aU(_,a,e)}x(p,e,e.scopeId,l,a);y&&ny(e,null,a,"beforeMount");let k=(!i||i&&!i.pendingBranch)&&b&&!b.persisted;k&&b.beforeEnter(p),o(p,t,n),((_=h&&h.onVnodeMounted)||k||y)&&at(()=>{_&&aU(_,a,e),k&&b.enter(p),y&&ny(e,null,a,"mounted")},i)},x=(e,t,n,a,i)=>{if(n&&g(e,n),a)for(let t=0;t<a.length;t++)g(e,a[t]);if(i){let n=i.subTree;if(t===n){let t=i.vnode;x(e,t,t.scopeId,t.slotScopeIds,i.parent)}}},D=(e,t,n,a,i,r,o,l,s=0)=>{for(let c=s;c<e.length;c++)y(null,e[c]=l?aj(e[c]):aL(e[c]),t,n,a,i,r,o,l)},T=(e,t,n,a,i,r,o)=>{let l;let c=t.el=e.el,{patchFlag:u,dynamicChildren:p,dirs:_}=t;u|=16&e.patchFlag;let f=e.props||d.EMPTY_OBJ,h=t.props||d.EMPTY_OBJ;n&&ar(n,!1),(l=h.onVnodeBeforeUpdate)&&aU(l,n,t,e),_&&ny(t,e,n,"beforeUpdate"),n&&ar(n,!0);let g=i&&"foreignObject"!==t.type;if(p?B(e.dynamicChildren,p,c,n,a,g,r):!o&&z(e,t,c,null,n,a,g,r,!1),u>0){if(16&u)R(c,t,f,h,n,a,i);else if(2&u&&f.class!==h.class&&s(c,"class",null,h.class,i),4&u&&s(c,"style",f.style,h.style,i),8&u){let r=t.dynamicProps;for(let t=0;t<r.length;t++){let o=r[t],l=f[o],d=h[o];(d!==l||"value"===o)&&s(c,o,l,d,i,e.children,n,a,Q)}}1&u&&e.children!==t.children&&m(c,t.children)}else!o&&null==p&&R(c,t,f,h,n,a,i);((l=h.onVnodeUpdated)||_)&&at(()=>{l&&aU(l,n,t,e),_&&ny(t,e,n,"updated")},a)},B=(e,t,n,a,i,r,o)=>{for(let l=0;l<t.length;l++){let s=e[l],c=t[l],d=s.el&&(s.type===a_||!aN(s,c)||70&s.shapeFlag)?f(s.el):n;y(s,c,d,null,a,i,r,o,!0)}},R=(e,t,n,a,i,r,o)=>{if(n!==a){if(n!==d.EMPTY_OBJ)for(let l in n)!(0,d.isReservedProp)(l)&&!(l in a)&&s(e,l,n[l],null,o,t.children,i,r,Q);for(let l in a){if((0,d.isReservedProp)(l))continue;let c=a[l],u=n[l];c!==u&&"value"!==l&&s(e,l,u,c,o,t.children,i,r,Q)}"value"in a&&s(e,"value",n.value,a.value)}},I=(e,t,n,a,i,r,l,s,c)=>{let d=t.el=e?e.el:u(""),p=t.anchor=e?e.anchor:u(""),{patchFlag:_,dynamicChildren:m,slotScopeIds:f}=t;if(f&&(s=s?s.concat(f):f),null==e)o(d,n,a),o(p,n,a),D(t.children,n,p,i,r,l,s,c);else if(_>0&&64&_&&m&&e.dynamicChildren){B(e.dynamicChildren,m,n,i,r,l,s);(null!=t.key||i&&t===i.subTree)&&ao(e,t,!0)}else z(e,t,n,p,i,r,l,s,c)},L=(e,t,n,a,i,r,o,l,s)=>{t.slotScopeIds=l,null==e?512&t.shapeFlag?i.ctx.activate(t,n,a,o,s):j(t,n,a,i,r,o,s):q(e,t,s)},j=(e,t,n,a,i,r,o)=>{let l=e.component=aY(e,a,i);t9(e)&&(l.ctx.renderer=et);aX(l);if(l.asyncDep){i&&i.registerDep(l,F),!e.el&&E(null,l.subTree=aB(af),t,n);return}F(l,e,t,n,i,r,o)},q=(e,t,n)=>{let a=t.component=e.component;if(function(e,t,n){let{props:a,children:i,component:r}=e,{props:o,children:l,patchFlag:s}=t,c=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&s>=0){if(1024&s)return!0;if(16&s)return a?t$(a,o,c):!!o;if(8&s){let e=t.dynamicProps;for(let t=0;t<e.length;t++){let n=e[t];if(o[n]!==a[n]&&!tb(c,n))return!0}}}else return(!!i||!!l)&&(!l||!l.$stable)||a!==o&&(a?!o||t$(a,o,c):!!o);return!1}(e,t,n)){if(a.asyncDep&&!a.asyncResolved){U(a,t,n);return}a.next=t,!function(e){let t=te.indexOf(e);t>tt&&te.splice(t,1)}(a.update),a.update()}else t.el=e.el,a.vnode=t},F=(e,t,n,a,i,o,l)=>{let s=e.effect=new N(()=>{if(e.isMounted){let t,{next:n,bu:a,u:r,parent:s,vnode:c}=e,u=n;ar(e,!1),n?(n.el=c.el,U(e,n,l)):n=c,a&&(0,d.invokeArrayFns)(a),(t=n.props&&n.props.onVnodeBeforeUpdate)&&aU(t,s,n,c),ar(e,!0);let p=tN(e),_=e.subTree;e.subTree=p;y(_,p,f(_.el),X(_),e,i,o);n.el=p.el,null===u&&tD(e,p.el),r&&at(r,i),(t=n.props&&n.props.onVnodeUpdated)&&at(()=>aU(t,s,n,c),i)}else{let l;let{el:s,props:c}=t,{bm:u,m:p,parent:_}=e,m=t8(t);if(ar(e,!1),u&&(0,d.invokeArrayFns)(u),!m&&(l=c&&c.onVnodeBeforeMount)&&aU(l,_,t),ar(e,!0),s&&r){let n=()=>{e.subTree=tN(e);r(s,e.subTree,e,i,null)};m?t.type.__asyncLoader().then(()=>!e.isUnmounted&&n()):n()}else{let r=e.subTree=tN(e);y(null,r,n,a,e,i,o);t.el=r.el}if(p&&at(p,i),!m&&(l=c&&c.onVnodeMounted)){let e=t;at(()=>aU(l,_,e),i)}(256&t.shapeFlag||_&&t8(_.vnode)&&256&_.vnode.shapeFlag)&&e.a&&at(e.a,i),e.isMounted=!0;t=n=a=null}},()=>ts(c),e.scope),c=e.update=()=>s.run();c.id=e.uid,ar(e,!0);c()},U=(e,t,n)=>{t.component=e;let a=e.vnode.props;e.vnode=t,e.next=null,!function(e,t,n,a){let{props:i,attrs:r,vnode:{patchFlag:o}}=e,l=eR(i),[s]=e.propsOptions,c=!1;if((a||o>0)&&!(16&o)){if(8&o){let n=e.vnode.dynamicProps;for(let a=0;a<n.length;a++){let o=n[a];if(tb(e.emitsOptions,o))continue;let u=t[o];if(s){if((0,d.hasOwn)(r,o))u!==r[o]&&(r[o]=u,c=!0);else{let t=(0,d.camelize)(o);i[t]=nY(s,l,t,u,e,!1)}}else u!==r[o]&&(r[o]=u,c=!0)}}}else{let a;for(let o in nH(e,t,i,r)&&(c=!0),l)(!t||!(0,d.hasOwn)(t,o)&&((a=(0,d.hyphenate)(o))===o||!(0,d.hasOwn)(t,a)))&&(s?n&&(void 0!==n[o]||void 0!==n[a])&&(i[o]=nY(s,l,o,void 0,e,!0)):delete i[o]);if(r!==l)for(let e in r)(!t||!(0,d.hasOwn)(t,e))&&(delete r[e],c=!0)}c&&M(e,"set","$attrs")}(e,t.props,a,n),n3(e,t.children,n),P(),tu(),O()},z=(e,t,n,a,i,r,o,l,s=!1)=>{let c=e&&e.children,d=e?e.shapeFlag:0,u=t.children,{patchFlag:p,shapeFlag:_}=t;if(p>0){if(128&p){Y(c,u,n,a,i,r,o,l,s);return}if(256&p){H(c,u,n,a,i,r,o,l,s);return}}8&_?(16&d&&Q(c,i,r),u!==c&&m(n,u)):16&d?16&_?Y(c,u,n,a,i,r,o,l,s):Q(c,i,r,!0):(8&d&&m(n,""),16&_&&D(u,n,a,i,r,o,l,s))},H=(e,t,n,a,i,r,o,l,s)=>{let c;e=e||d.EMPTY_ARR,t=t||d.EMPTY_ARR;let u=e.length,p=t.length,_=Math.min(u,p);for(c=0;c<_;c++){let a=t[c]=s?aj(t[c]):aL(t[c]);y(e[c],a,n,null,i,r,o,l,s)}u>p?Q(e,i,r,!0,!1,_):D(t,n,a,i,r,o,l,s,_)},Y=(e,t,n,a,i,r,o,l,s)=>{let c=0,u=t.length,p=e.length-1,_=u-1;for(;c<=p&&c<=_;){let a=e[c],d=t[c]=s?aj(t[c]):aL(t[c]);if(aN(a,d))y(a,d,n,null,i,r,o,l,s);else break;c++}for(;c<=p&&c<=_;){let a=e[p],c=t[_]=s?aj(t[_]):aL(t[_]);if(aN(a,c))y(a,c,n,null,i,r,o,l,s);else break;p--,_--}if(c>p){if(c<=_){let e=_+1,d=e<u?t[e].el:a;for(;c<=_;)y(null,t[c]=s?aj(t[c]):aL(t[c]),n,d,i,r,o,l,s),c++}}else if(c>_)for(;c<=p;)K(e[c],i,r,!0),c++;else{let m;let f=c,h=c,g=new Map;for(c=h;c<=_;c++){let e=t[c]=s?aj(t[c]):aL(t[c]);null!=e.key&&g.set(e.key,c)}let b=0,k=_-h+1,E=!1,A=0,w=Array(k);for(c=0;c<k;c++)w[c]=0;for(c=f;c<=p;c++){let a;let d=e[c];if(b>=k){K(d,i,r,!0);continue}if(null!=d.key)a=g.get(d.key);else for(m=h;m<=_;m++)if(0===w[m-h]&&aN(d,t[m])){a=m;break}void 0===a?K(d,i,r,!0):(w[a-h]=c+1,a>=A?A=a:E=!0,y(d,t[a],n,null,i,r,o,l,s),b++)}let C=E?function(e){let t,n,a,i,r;let o=e.slice(),l=[0],s=e.length;for(t=0;t<s;t++){let s=e[t];if(0!==s){if(e[n=l[l.length-1]]<s){o[t]=n,l.push(t);continue}for(a=0,i=l.length-1;a<i;)e[l[r=a+i>>1]]<s?a=r+1:i=r;s<e[l[a]]&&(a>0&&(o[t]=l[a-1]),l[a]=t)}}for(a=l.length,i=l[a-1];a-- >0;)l[a]=i,i=o[i];return l}(w):d.EMPTY_ARR;for(m=C.length-1,c=k-1;c>=0;c--){let e=h+c,d=t[e],p=e+1<u?t[e+1].el:a;0===w[c]?y(null,d,n,p,i,r,o,l,s):E&&(m<0||c!==C[m]?J(d,n,p,2):m--)}}},J=(e,t,n,a,i=null)=>{let{el:r,type:l,transition:s,children:c,shapeFlag:d}=e;if(6&d){J(e.component.subTree,t,n,a);return}if(128&d){e.suspense.move(t,n,a);return}if(64&d){l.move(e,t,n,et);return}if(l===a_){o(r,t,n);for(let e=0;e<c.length;e++)J(c[e],t,n,a);o(e.anchor,t,n);return}if(l===ah){w(e,t,n);return}if(2!==a&&1&d&&s){if(0===a)s.beforeEnter(r),o(r,t,n),at(()=>s.enter(r),i);else{let{leave:e,delayLeave:a,afterLeave:i}=s,l=()=>o(r,t,n),c=()=>{e(r,()=>{l(),i&&i()})};a?a(r,l,c):c()}}else o(r,t,n)},K=(e,t,n,a=!1,i=!1)=>{let r;let{type:o,props:l,ref:s,children:c,dynamicChildren:d,shapeFlag:u,patchFlag:p,dirs:_}=e;if(null!=s&&n8(s,null,n,e,!0),256&u){t.ctx.deactivate(e);return}let m=1&u&&_,f=!t8(e);if(f&&(r=l&&l.onVnodeBeforeUnmount)&&aU(r,t,e),6&u)G(e.component,n,a);else{if(128&u){e.suspense.unmount(n,a);return}m&&ny(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,n,i,et,a):d&&(o!==a_||p>0&&64&p)?Q(d,t,n,!1,!0):(o===a_&&384&p||!i&&16&u)&&Q(c,t,n),a&&Z(e)}(f&&(r=l&&l.onVnodeUnmounted)||m)&&at(()=>{r&&aU(r,t,e),m&&ny(e,null,t,"unmounted")},n)},Z=e=>{let{type:t,el:n,anchor:a,transition:i}=e;if(t===a_){W(n,a);return}if(t===ah){C(e);return}let r=()=>{l(n),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&e.shapeFlag&&i&&!i.persisted){let{leave:t,delayLeave:a}=i,o=()=>t(n,r);a?a(e.el,r,o):o()}else r()},W=(e,t)=>{let n;for(;e!==t;)n=h(e),l(e),e=n;l(t)},G=(e,t,n)=>{let{bum:a,scope:i,update:r,subTree:o,um:l}=e;a&&(0,d.invokeArrayFns)(a),i.stop(),r&&(r.active=!1,K(o,e,t,n)),l&&at(l,t),at(()=>{e.isUnmounted=!0},t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},Q=(e,t,n,a=!1,i=!1,r=0)=>{for(let o=r;o<e.length;o++)K(e[o],t,n,a,i)},X=e=>6&e.shapeFlag?X(e.component.subTree):128&e.shapeFlag?e.suspense.next():h(e.anchor||e.el),ee=(e,t,n)=>{null==e?t._vnode&&K(t._vnode,null,null,!0):y(t._vnode||null,e,t,null,null,null,n),tu(),tp(),t._vnode=e},et={p:y,um:K,m:J,r:Z,mt:j,mc:D,pc:z,pbc:B,n:X,o:e};return t&&([i,r]=t(et)),{render:ee,hydrate:i,createApp:(n=ee,a=i,function(e,t=null){!(0,d.isFunction)(e)&&(e=Object.assign({},e)),null!=t&&!(0,d.isObject)(t)&&(t=null);let i=n4(),r=new Set,o=!1,l=i.app={_uid:n5++,_component:e,_props:t,_container:null,_context:i,_instance:null,version:ib,get config(){return i.config},set config(v){},use:(e,...t)=>(r.has(e)||(e&&(0,d.isFunction)(e.install)?(r.add(e),e.install(l,...t)):(0,d.isFunction)(e)&&(r.add(e),e(l,...t))),l),mixin:e=>(i.mixins.includes(e)||i.mixins.push(e),l),component:(e,t)=>t?(i.components[e]=t,l):i.components[e],directive:(e,t)=>t?(i.directives[e]=t,l):i.directives[e],mount(r,s,c){if(o);else{let d=aB(e,t);return d.appContext=i,s&&a?a(d,r):n(d,r,c),o=!0,l._container=r,r.__vue_app__=l,a5(d.component)||d.component.proxy}},unmount(){if(o){n(null,l._container);delete l._container.__vue_app__}},provide:(e,t)=>(i.provides[e]=t,l)};return l})}}function ar({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function ao(e,t,n=!1){let a=e.children,i=t.children;if((0,d.isArray)(a)&&(0,d.isArray)(i))for(let e=0;e<a.length;e++){let t=a[e],r=i[e];1&r.shapeFlag&&!r.dynamicChildren&&((r.patchFlag<=0||32===r.patchFlag)&&((r=i[e]=aj(i[e])).el=t.el),!n&&ao(t,r))}}let al=e=>e.__isTeleport,as=e=>e&&(e.disabled||""===e.disabled),ac=e=>"undefined"!=typeof SVGElement&&e instanceof SVGElement,ad=(e,t)=>{let n=e&&e.to;if(!(0,d.isString)(n))return n;if(!t)return null;{let e=t(n);return e}};function au(e,t,n,{o:{insert:a},m:i},r=2){0===r&&a(e.targetAnchor,t,n);let{el:o,anchor:l,shapeFlag:s,children:c,props:d}=e,u=2===r;if(u&&a(o,t,n),(!u||as(d))&&16&s)for(let e=0;e<c.length;e++)i(c[e],t,n,2);u&&a(l,t,n)}let ap={__isTeleport:!0,process(e,t,n,a,i,r,o,l,s,c){let{mc:d,pc:u,pbc:p,o:{insert:_,querySelector:m,createText:f,createComment:h}}=c,g=as(t.props),{shapeFlag:b,children:y,dynamicChildren:k}=t;if(null==e){let e=t.el=f(""),c=t.anchor=f("");_(e,n,a),_(c,n,a);let u=t.target=ad(t.props,m),p=t.targetAnchor=f("");u&&(_(p,u),o=o||ac(u));let h=(e,t)=>{16&b&&d(y,e,t,i,r,o,l,s)};g?h(n,c):u&&h(u,p)}else{t.el=e.el;let a=t.anchor=e.anchor,d=t.target=e.target,_=t.targetAnchor=e.targetAnchor,f=as(e.props),h=f?n:d;if(o=o||ac(d),k?(p(e.dynamicChildren,k,h,i,r,o,l),ao(e,t,!0)):!s&&u(e,t,h,f?a:_,i,r,o,l,!1),g)!f&&au(t,n,a,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){let e=t.target=ad(t.props,m);e&&au(t,e,null,c,0)}else f&&au(t,d,_,c,1)}},remove(e,t,n,a,{um:i,o:{remove:r}},o){let{shapeFlag:l,children:s,anchor:c,targetAnchor:d,target:u,props:p}=e;if(u&&r(d),(o||!as(p))&&(r(c),16&l))for(let e=0;e<s.length;e++){let a=s[e];i(a,t,n,!0,!!a.dynamicChildren)}},move:au,hydrate:function(e,t,n,a,i,r,{o:{nextSibling:o,parentNode:l,querySelector:s}},c){let d=t.target=ad(t.props,s);if(d){let s=d._lpa||d.firstChild;if(16&t.shapeFlag){if(as(t.props))t.anchor=c(o(e),t,l(e),n,a,i,r),t.targetAnchor=s;else{t.anchor=o(e);let l=s;for(;l;)if((l=o(l))&&8===l.nodeType&&"teleport anchor"===l.data){t.targetAnchor=l,d._lpa=t.targetAnchor&&o(t.targetAnchor);break}c(s,t,d,n,a,i,r)}}}return t.anchor&&o(t.anchor)}},a_=Symbol(void 0),am=Symbol(void 0),af=Symbol(void 0),ah=Symbol(void 0),ag=[],av=null;function ab(e=!1){ag.push(av=e?null:[])}function ay(){ag.pop(),av=ag[ag.length-1]||null}let ak=1;function aE(e){ak+=e}function aA(e){return e.dynamicChildren=ak>0?av||d.EMPTY_ARR:null,ay(),ak>0&&av&&av.push(e),e}function aw(e,t,n,a,i,r){return aA(aT(e,t,n,a,i,r,!0))}function aC(e,t,n,a,i){return aA(aB(e,t,n,a,i,!0))}function aS(e){return!!e&&!0===e.__v_isVNode}function aN(e,t){return e.type===t.type&&e.key===t.key}function aV(e){}let ax="__vInternal",a$=({key:e})=>null!=e?e:null,aD=({ref:e,ref_key:t,ref_for:n})=>null!=e?(0,d.isString)(e)||eF(e)||(0,d.isFunction)(e)?{i:ty,r:e,k:t,f:!!n}:e:null;function aT(e,t=null,n=null,a=0,i=null,r=e===a_?0:1,o=!1,l=!1){let s={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&a$(t),ref:t&&aD(t),scopeId:tk,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:a,dynamicProps:i,dynamicChildren:null,appContext:null};return l?(aq(s,n),128&r&&e.normalize(s)):n&&(s.shapeFlag|=(0,d.isString)(n)?8:16),ak>0&&!o&&av&&(s.patchFlag>0||6&r)&&32!==s.patchFlag&&av.push(s),s}let aB=function(e,t=null,n=null,a=0,i=null,r=!1){if((!e||e===nA)&&(e=af),aS(e)){let a=aO(e,t,!0);return n&&aq(a,n),ak>0&&!r&&av&&(6&a.shapeFlag?av[av.indexOf(e)]=a:av.push(a)),a.patchFlag|=-2,a}if(function(e){return(0,d.isFunction)(e)&&"__vccOpts"in e}(e)&&(e=e.__vccOpts),t){let{class:e,style:n}=t=aP(t);e&&!(0,d.isString)(e)&&(t.class=(0,d.normalizeClass)(e)),(0,d.isObject)(n)&&(eO(n)&&!(0,d.isArray)(n)&&(n=(0,d.extend)({},n)),t.style=(0,d.normalizeStyle)(n))}let o=(0,d.isString)(e)?1:tT(e)?128:al(e)?64:(0,d.isObject)(e)?4:(0,d.isFunction)(e)?2:0;return aT(e,t,n,a,i,o,r,!0)};function aP(e){return e?eO(e)||ax in e?(0,d.extend)({},e):e:null}function aO(e,t,n=!1){let{props:a,ref:i,patchFlag:r,children:o}=e,l=t?aF(a||{},t):a;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&a$(l),ref:t&&t.ref?n&&i?(0,d.isArray)(i)?i.concat(aD(t)):[i,aD(t)]:aD(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==a_?-1===r?16:16|r:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&aO(e.ssContent),ssFallback:e.ssFallback&&aO(e.ssFallback),el:e.el,anchor:e.anchor}}function aR(e=" ",t=0){return aB(am,null,e,t)}function aI(e,t){let n=aB(ah,null,e);return n.staticCount=t,n}function aM(e="",t=!1){return t?(ab(),aC(af,null,e)):aB(af,null,e)}function aL(e){if(null==e||"boolean"==typeof e)return aB(af);if((0,d.isArray)(e))return aB(a_,null,e.slice());if("object"==typeof e)return aj(e);else return aB(am,null,String(e))}function aj(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:aO(e)}function aq(e,t){let n=0,{shapeFlag:a}=e;if(null==t)t=null;else if((0,d.isArray)(t))n=16;else if("object"==typeof t){if(65&a){let n=t.default;n&&(n._c&&(n._d=!1),aq(e,n()),n._c&&(n._d=!0));return}{n=32;let a=t._;a||ax in t?3===a&&ty&&(1===ty.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=ty}}else(0,d.isFunction)(t)?(t={default:t,_ctx:ty},n=32):(t=String(t),64&a?(n=16,t=[aR(t)]):n=8);e.children=t,e.shapeFlag|=n}function aF(...e){let t={};for(let n=0;n<e.length;n++){let a=e[n];for(let e in a)if("class"===e)t.class!==a.class&&(t.class=(0,d.normalizeClass)([t.class,a.class]));else if("style"===e)t.style=(0,d.normalizeStyle)([t.style,a.style]);else if((0,d.isOn)(e)){let n=t[e],i=a[e];i&&n!==i&&!((0,d.isArray)(n)&&n.includes(i))&&(t[e]=n?[].concat(n,i):i)}else""!==e&&(t[e]=a[e])}return t}function aU(e,t,n,a=null){e8(e,t,7,[n,a])}let az=n4(),aH=0;function aY(e,t,n){let a=e.type,i=(t?t.appContext:e.appContext)||az,r={uid:aH++,vnode:e,type:a,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new u(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:function e(t,n,a=!1){let i=n.propsCache,r=i.get(t);if(r)return r;let o=t.props,l={},s=[],c=!1;if(!(0,d.isFunction)(t)){let i=t=>{c=!0;let[a,i]=e(t,n,!0);(0,d.extend)(l,a),i&&s.push(...i)};!a&&n.mixins.length&&n.mixins.forEach(i),t.extends&&i(t.extends),t.mixins&&t.mixins.forEach(i)}if(!o&&!c)return(0,d.isObject)(t)&&i.set(t,d.EMPTY_ARR),d.EMPTY_ARR;if((0,d.isArray)(o))for(let e=0;e<o.length;e++){let t=(0,d.camelize)(o[e]);nJ(t)&&(l[t]=d.EMPTY_OBJ)}else if(o)for(let e in o){let t=(0,d.camelize)(e);if(nJ(t)){let n=o[e],a=l[t]=(0,d.isArray)(n)||(0,d.isFunction)(n)?{type:n}:n;if(a){let e=nW(Boolean,a.type),n=nW(String,a.type);a[0]=e>-1,a[1]=n<0||e<n,(e>-1||(0,d.hasOwn)(a,"default"))&&s.push(t)}}}let u=[l,s];return(0,d.isObject)(t)&&i.set(t,u),u}(a,i),emitsOptions:function e(t,n,a=!1){let i=n.emitsCache,r=i.get(t);if(void 0!==r)return r;let o=t.emits,l={},s=!1;if(!(0,d.isFunction)(t)){let i=t=>{let a=e(t,n,!0);a&&(s=!0,(0,d.extend)(l,a))};!a&&n.mixins.length&&n.mixins.forEach(i),t.extends&&i(t.extends),t.mixins&&t.mixins.forEach(i)}return o||s?((0,d.isArray)(o)?o.forEach(e=>l[e]=null):(0,d.extend)(l,o),(0,d.isObject)(t)&&i.set(t,l),l):((0,d.isObject)(t)&&i.set(t,null),null)}(a,i),emit:null,emitted:null,propsDefaults:d.EMPTY_OBJ,inheritAttrs:a.inheritAttrs,ctx:d.EMPTY_OBJ,data:d.EMPTY_OBJ,props:d.EMPTY_OBJ,attrs:d.EMPTY_OBJ,slots:d.EMPTY_OBJ,refs:d.EMPTY_OBJ,setupState:d.EMPTY_OBJ,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=tv.bind(null,r),e.ce&&e.ce(r),r}let aJ=null,aK=()=>aJ||ty,aZ=e=>{aJ=e,e.scope.on()},aW=()=>{aJ&&aJ.scope.off(),aJ=null};function aG(e){return 4&e.vnode.shapeFlag}let aQ=!1;function aX(e,t=!1){aQ=t;let{props:n,children:a}=e.vnode,i=aG(e);!function(e,t,n,a=!1){let i={},r={};for(let n in(0,d.def)(r,ax,1),e.propsDefaults=Object.create(null),nH(e,t,i,r),e.propsOptions[0])!(n in i)&&(i[n]=void 0);n?e.props=a?i:eV(i):e.type.props?e.props=i:e.props=r,e.attrs=r}(e,n,i,t),n2(e,a);let r=i?function(e,t){let n=e.type;e.accessCache=Object.create(null),e.proxy=eI(new Proxy(e.ctx,nP));let{setup:a}=n;if(a){let n=e.setupContext=a.length>1?a4(e):null;aZ(e),P();let i=e5(a,e,0,[e.props,n]);if(O(),aW(),(0,d.isPromise)(i)){if(i.then(aW,aW),t)return i.then(n=>{a0(e,n,t)}).catch(t=>{e6(t,e,0)});e.asyncDep=i}else a0(e,i,t)}else a3(e,t)}(e,t):void 0;return aQ=!1,r}function a0(e,t,n){(0,d.isFunction)(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:(0,d.isObject)(t)&&(e.setupState=eW(t)),a3(e,n)}function a1(e){o=e,l=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,nO))}}let a2=()=>!o;function a3(e,t,n){let a=e.type;if(!e.render){if(!t&&o&&!a.render){let t=a.template||nM(e).template;if(t){let{isCustomElement:n,compilerOptions:i}=e.appContext.config,{delimiters:r,compilerOptions:l}=a,s=(0,d.extend)((0,d.extend)({isCustomElement:n,delimiters:r},i),l);a.render=o(t,s)}}e.render=a.render||d.NOOP,l&&l(e)}aZ(e),P(),!function(e){let t=nM(e),n=e.proxy,a=e.ctx;nR=!1,t.beforeCreate&&nI(t.beforeCreate,e,"bc");let{data:i,computed:r,methods:o,watch:l,provide:s,inject:c,created:u,beforeMount:p,mounted:_,beforeUpdate:m,updated:f,activated:h,deactivated:g,beforeDestroy:b,beforeUnmount:y,destroyed:k,unmounted:E,render:A,renderTracked:w,renderTriggered:C,errorCaptured:S,serverPrefetch:N,expose:V,inheritAttrs:x,components:D,directives:T,filters:B}=t;if(c&&function(e,t,n=d.NOOP,a=!1){for(let n in(0,d.isArray)(e)&&(e=nF(e)),e){let i;let r=e[n];eF(i=(0,d.isObject)(r)?"default"in r?tj(r.from||n,r.default,!0):tj(r.from||n):tj(r))&&a?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:e=>i.value=e}):t[n]=i}}(c,a,null,e.appContext.config.unwrapInjectedRef),o)for(let e in o){let t=o[e];(0,d.isFunction)(t)&&(a[e]=t.bind(n))}if(i){let t=i.call(n,n);if((0,d.isObject)(t))e.data=eN(t)}if(nR=!0,r)for(let e in r){let t=r[e],i=(0,d.isFunction)(t)?t.bind(n,n):(0,d.isFunction)(t.get)?t.get.bind(n,n):d.NOOP,o=ie({get:i,set:!(0,d.isFunction)(t)&&(0,d.isFunction)(t.set)?t.set.bind(n):d.NOOP});Object.defineProperty(a,e,{enumerable:!0,configurable:!0,get:()=>o.value,set:e=>o.value=e})}if(l)for(let e in l)(function e(t,n,a,i){var r,o;let l=i.includes(".")?tK(a,i):()=>a[i];if((0,d.isString)(t)){let e=n[t];if((0,d.isFunction)(e)){;tY(l,e,void 0)}}else if((0,d.isFunction)(t)){;tY(l,t.bind(a),void 0)}else if((0,d.isObject)(t)){if((0,d.isArray)(t))t.forEach(t=>e(t,n,a,i));else{let e=(0,d.isFunction)(t.handler)?t.handler.bind(a):n[t.handler];if((0,d.isFunction)(e))tY(l,e,t)}}else;})(l[e],a,n,e);if(s){let e=(0,d.isFunction)(s)?s.call(n):s;Reflect.ownKeys(e).forEach(t=>{tL(t,e[t])})}function P(e,t){(0,d.isArray)(t)?t.forEach(t=>e(t.bind(n))):t&&e(t.bind(n))}if(u&&nI(u,e,"c"),P(nc,p),P(nd,_),P(nu,m),P(np,f),P(nn,h),P(na,g),P(nv,S),P(ng,w),P(nh,C),P(n_,y),P(nm,E),P(nf,N),(0,d.isArray)(V)){if(V.length){let t=e.exposed||(e.exposed={});V.forEach(e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})})}else!e.exposed&&(e.exposed={})}A&&e.render===d.NOOP&&(e.render=A),null!=x&&(e.inheritAttrs=x),D&&(e.components=D),T&&(e.directives=T)}(e),O(),aW()}function a4(e){let t;return{get attrs(){var n;return t||(t=new Proxy((n=e).attrs,{get:(e,t)=>(R(n,"get","$attrs"),e[t])}))},slots:e.slots,emit:e.emit,expose:t=>{e.exposed=t||{}}}}function a5(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(eW(eI(e.exposed)),{get:(t,n)=>n in t?t[n]:n in nB?nB[n](e):void 0}))}let a8=/(?:^|[-_])(\w)/g,a6=e=>e.replace(a8,e=>e.toUpperCase()).replace(/[-_]/g,"");function a7(e,t=!0){return(0,d.isFunction)(e)?e.displayName||e.name:e.name||t&&e.__name}function a9(e,t,n=!1){let a=a7(t);if(!a&&t.__file){let e=t.__file.match(/([^/\\]+)\.\w+$/);e&&(a=e[1])}if(!a&&e&&e.parent){let n=e=>{for(let n in e)if(e[n]===t)return n};a=n(e.components||e.parent.type.components)||n(e.appContext.components)}return a?a6(a):n?"App":"Anonymous"}let ie=(e,t)=>(function(e,t,n=!1){let a,i;let r=(0,d.isFunction)(e);r?(a=e,i=d.NOOP):(a=e.get,i=e.set);let o=new e2(a,i,r||!i,n);return o})(e,0,aQ);function it(){return null}function ia(){return null}function ii(e){}function ir(e,t){return null}function io(){return is().slots}function il(){return is().attrs}function is(){let e=aK();return e.setupContext||(e.setupContext=a4(e))}function ic(e,t){let n=(0,d.isArray)(e)?e.reduce((e,t)=>(e[t]={},e),{}):e;for(let e in t){let a=n[e];a?(0,d.isArray)(a)||(0,d.isFunction)(a)?n[e]={type:a,default:t[e]}:a.default=t[e]:null===a&&(n[e]={default:t[e]})}return n}function id(e,t){let n={};for(let a in e)!t.includes(a)&&Object.defineProperty(n,a,{enumerable:!0,get:()=>e[a]});return n}function iu(e){let t=aK(),n=e();return aW(),(0,d.isPromise)(n)&&(n=n.catch(e=>{throw aZ(t),e})),[n,()=>aZ(t)]}function ip(e,t,n){let a=arguments.length;return 2!==a?(a>3?n=Array.prototype.slice.call(arguments,2):3===a&&aS(n)&&(n=[n]),aB(e,t,n)):!(0,d.isObject)(t)||(0,d.isArray)(t)?aB(e,null,t):aS(t)?aB(e,null,[t]):aB(e,t)}let i_=Symbol(""),im=()=>{{let e=tj(i_);return!e&&e4("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),e}};function ih(){function e(e,t){return Object.keys(t=(0,d.extend)({},t)).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},e],["div",{style:"padding-left:1.25em"},...Object.keys(t).map(e=>["div",{},["span",keywordStyle,e+": "],function(e,t=!0){if("number"==typeof e)return["span",numberStyle,e];if("string"==typeof e)return["span",stringStyle,JSON.stringify(e)];if("boolean"==typeof e)return["span",keywordStyle,e];else if((0,d.isObject)(e))return["object",{object:t?eR(e):e}];else return["span",stringStyle,String(e)]}(t[e],!1)])]]:["span",{}]}function t(e,t){let n=e.type;if((0,d.isFunction)(n))return;let a={};for(let i in e.ctx)(function e(t,n,a){let i=t[a];if((0,d.isArray)(i)&&i.includes(n)||(0,d.isObject)(i)&&n in i||t.extends&&e(t.extends,n,a)||t.mixins&&t.mixins.some(t=>e(t,n,a)))return!0})(n,i,t)&&(a[i]=e.ctx[i]);return a}}function ig(e,t,n,a){let i=n[a];if(i&&iv(i,e))return i;let r=t();return r.memo=e.slice(),n[a]=r}function iv(e,t){let n=e.memo;if(n.length!=t.length)return!1;for(let e=0;e<n.length;e++)if((0,d.hasChanged)(n[e],t[e]))return!1;return ak>0&&av&&av.push(e),!0}let ib="3.2.41",iy={createComponentInstance:aY,setupComponent:aX,renderComponentRoot:tN,setCurrentRenderingInstance:tE,isVNode:aS,normalizeVNode:aL},ik=null,iE=null,iA="undefined"!=typeof document?document:null,iw=iA&&iA.createElement("template"),iC=/\s*!important$/;function iS(e,t,n){if((0,d.isArray)(n))n.forEach(n=>iS(e,t,n));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{let a=function(e,t){let n=iV[t];if(n)return n;let a=(0,d.camelize)(t);if("filter"!==a&&a in e)return iV[t]=a;a=(0,d.capitalize)(a);for(let n=0;n<iN.length;n++){let i=iN[n]+a;if(i in e)return iV[t]=i}return t}(e,t);iC.test(n)?e.setProperty((0,d.hyphenate)(a),n.replace(iC,""),"important"):e[a]=n}}let iN=["Webkit","Moz","ms"],iV={},ix="http://www.w3.org/1999/xlink";function i$(e,t,n,a){e.addEventListener(t,n,a)}let iD=/(?:Once|Passive|Capture)$/,iT=0,iB=Promise.resolve(),iP=()=>iT||(iB.then(()=>iT=0),iT=Date.now()),iO=/^on[a-z]/;function iR(e,t){let n=t5(e);class a extends iL{constructor(e){super(n,e,t)}}return a.def=n,a}let iI=e=>iR(e,rx),iM="undefined"!=typeof HTMLElement?HTMLElement:class{};class iL extends iM{constructor(e,t={},n){super(),this._def=e,this._props=t,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&n?n(this._createVNode(),this.shadowRoot):this.attachShadow({mode:"open"})}connectedCallback(){this._connected=!0,!this._instance&&this._resolveDef()}disconnectedCallback(){this._connected=!1,tl(()=>{!this._connected&&(rV(null,this.shadowRoot),this._instance=null)})}_resolveDef(){if(this._resolved)return;this._resolved=!0;for(let e=0;e<this.attributes.length;e++)this._setAttr(this.attributes[e].name);new MutationObserver(e=>{for(let t of e)this._setAttr(t.attributeName)}).observe(this,{attributes:!0});let e=e=>{let t;let{props:n,styles:a}=e,i=!(0,d.isArray)(n),r=n?i?Object.keys(n):n:[];if(i)for(let e in this._props){let a=n[e];(a===Number||a&&a.type===Number)&&(this._props[e]=(0,d.toNumber)(this._props[e]),(t||(t=Object.create(null)))[e]=!0)}for(let e of(this._numberProps=t,Object.keys(this)))"_"!==e[0]&&this._setProp(e,this[e],!0,!1);for(let e of r.map(d.camelize))Object.defineProperty(this,e,{get(){return this._getProp(e)},set(t){this._setProp(e,t)}});this._applyStyles(a),this._update()},t=this._def.__asyncLoader;t?t().then(e):e(this._def)}_setAttr(e){let t=this.getAttribute(e);this._numberProps&&this._numberProps[e]&&(t=(0,d.toNumber)(t)),this._setProp((0,d.camelize)(e),t,!1)}_getProp(e){return this._props[e]}_setProp(e,t,n=!0,a=!0){t!==this._props[e]&&(this._props[e]=t,a&&this._instance&&this._update(),n&&(!0===t?this.setAttribute((0,d.hyphenate)(e),""):"string"==typeof t||"number"==typeof t?this.setAttribute((0,d.hyphenate)(e),t+""):!t&&this.removeAttribute((0,d.hyphenate)(e))))}_update(){rV(this._createVNode(),this.shadowRoot)}_createVNode(){let e=aB(this._def,(0,d.extend)({},this._props));return!this._instance&&(e.ce=e=>{this._instance=e,e.isCE=!0;e.emit=(e,...t)=>{this.dispatchEvent(new CustomEvent(e,{detail:t}))};let t=this;for(;t=t&&(t.parentNode||t.host);)if(t instanceof iL){e.parent=t._instance;break}}),e}_applyStyles(e){e&&e.forEach(e=>{let t=document.createElement("style");t.textContent=e,this.shadowRoot.appendChild(t)})}}function ij(e="$style"){{let t=aK();if(!t)return d.EMPTY_OBJ;let n=t.type.__cssModules;if(!n)return d.EMPTY_OBJ;let a=n[e];return a?a:d.EMPTY_OBJ}}function iq(e){let t=aK();if(!t)return;let n=()=>(function e(t,n){if(128&t.shapeFlag){let a=t.suspense;t=a.activeBranch,a.pendingBranch&&!a.isHydrating&&a.effects.push(()=>{e(a.activeBranch,n)})}for(;t.component;)t=t.component.subTree;if(1&t.shapeFlag&&t.el)iF(t.el,n);else if(t.type===a_)t.children.forEach(t=>e(t,n));else if(t.type===ah){let{el:e,anchor:a}=t;for(;e&&(iF(e,n),e!==a);){;e=e.nextSibling}}})(t.subTree,e(t.proxy));tF(n),nd(()=>{let e=new MutationObserver(n);e.observe(t.subTree.el.parentNode,{childList:!0}),nm(()=>e.disconnect())})}function iF(e,t){if(1===e.nodeType){let n=e.style;for(let e in t)n.setProperty(`--${e}`,t[e])}}let iU="transition",iz="animation",iH=(e,{slots:t})=>ip(tQ,iW(e),t);iH.displayName="Transition";let iY={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},iJ=iH.props=(0,d.extend)({},tQ.props,iY),iK=(e,t=[])=>{(0,d.isArray)(e)?e.forEach(e=>e(...t)):e&&e(...t)},iZ=e=>!!e&&((0,d.isArray)(e)?e.some(e=>e.length>1):e.length>1);function iW(e){let t={};for(let n in e)!(n in iY)&&(t[n]=e[n]);if(!1===e.css)return t;let{name:n="v",type:a,duration:i,enterFromClass:r=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:s=r,appearActiveClass:c=o,appearToClass:u=l,leaveFromClass:p=`${n}-leave-from`,leaveActiveClass:_=`${n}-leave-active`,leaveToClass:m=`${n}-leave-to`}=e,f=function(e){if(null==e)return null;if((0,d.isObject)(e))return[iG(e.enter),iG(e.leave)];{let t=iG(e);return[t,t]}}(i),h=f&&f[0],g=f&&f[1],{onBeforeEnter:b,onEnter:y,onEnterCancelled:k,onLeave:E,onLeaveCancelled:A,onBeforeAppear:w=b,onAppear:C=y,onAppearCancelled:S=k}=t,N=(e,t,n)=>{iX(e,t?u:l),iX(e,t?c:o),n&&n()},V=(e,t)=>{e._isLeaving=!1,iX(e,p),iX(e,m),iX(e,_),t&&t()},x=e=>(t,n)=>{let i=e?C:y,o=()=>N(t,e,n);iK(i,[t,o]),i0(()=>{iX(t,e?s:r),iQ(t,e?u:l),!iZ(i)&&i2(t,a,h,o)})};return(0,d.extend)(t,{onBeforeEnter(e){iK(b,[e]),iQ(e,r),iQ(e,o)},onBeforeAppear(e){iK(w,[e]),iQ(e,s),iQ(e,c)},onEnter:x(!1),onAppear:x(!0),onLeave(e,t){e._isLeaving=!0;let n=()=>V(e,t);iQ(e,p),i8(),iQ(e,_),i0(()=>{if(!!e._isLeaving)iX(e,p),iQ(e,m),!iZ(E)&&i2(e,a,g,n)}),iK(E,[e,n])},onEnterCancelled(e){N(e,!1),iK(k,[e])},onAppearCancelled(e){N(e,!0),iK(S,[e])},onLeaveCancelled(e){V(e),iK(A,[e])}})}function iG(e){let t=(0,d.toNumber)(e);return t}function iQ(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.add(t)),(e._vtc||(e._vtc=new Set)).add(t)}function iX(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.remove(t));let{_vtc:n}=e;n&&(n.delete(t),!n.size&&(e._vtc=void 0))}function i0(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let i1=0;function i2(e,t,n,a){let i=e._endId=++i1,r=()=>{i===e._endId&&a()};if(n)return setTimeout(r,n);let{type:o,timeout:l,propCount:s}=i3(e,t);if(!o)return a();let c=o+"end",d=0,u=()=>{e.removeEventListener(c,p),r()},p=t=>{t.target===e&&++d>=s&&u()};setTimeout(()=>{d<s&&u()},l+1),e.addEventListener(c,p)}function i3(e,t){let n=window.getComputedStyle(e),a=e=>(n[e]||"").split(", "),i=a(iU+"Delay"),r=a(iU+"Duration"),o=i4(i,r),l=a(iz+"Delay"),s=a(iz+"Duration"),c=i4(l,s),d=null,u=0,p=0;t===iU?o>0&&(d=iU,u=o,p=r.length):t===iz?c>0&&(d=iz,u=c,p=s.length):p=(d=(u=Math.max(o,c))>0?o>c?iU:iz:null)?d===iU?r.length:s.length:0;let _=d===iU&&/\b(transform|all)(,|$)/.test(n[iU+"Property"]);return{type:d,timeout:u,propCount:p,hasTransform:_}}function i4(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((t,n)=>i5(t)+i5(e[n])))}function i5(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function i8(){return document.body.offsetHeight}let i6=new WeakMap,i7=new WeakMap,i9={name:"TransitionGroup",props:(0,d.extend)({},iJ,{tag:String,moveClass:String}),setup(e,{slots:t}){let n,a;let i=aK(),r=tW();return np(()=>{if(!n.length)return;let t=e.moveClass||`${e.name||"v"}-move`;if(!function(e,t,n){let a=e.cloneNode();e._vtc&&e._vtc.forEach(e=>{e.split(/\s+/).forEach(e=>e&&a.classList.remove(e))}),n.split(/\s+/).forEach(e=>e&&a.classList.add(e)),a.style.display="none";let i=1===t.nodeType?t:t.parentNode;i.appendChild(a);let{hasTransform:r}=i3(a);return i.removeChild(a),r}(n[0].el,i.vnode.el,t))return;n.forEach(re),n.forEach(rt);let a=n.filter(rn);i8(),a.forEach(e=>{let n=e.el,a=n.style;iQ(n,t),a.transform=a.webkitTransform=a.transitionDuration="";let i=n._moveCb=e=>{if(!e||e.target===n)(!e||/transform$/.test(e.propertyName))&&(n.removeEventListener("transitionend",i),n._moveCb=null,iX(n,t))};n.addEventListener("transitionend",i)})}),()=>{let o=eR(e),l=iW(o),s=o.tag||a_;n=a,a=t.default?t4(t.default()):[];for(let e=0;e<a.length;e++){let t=a[e];null!=t.key&&t3(t,t0(t,l,r,i))}if(n)for(let e=0;e<n.length;e++){let t=n[e];t3(t,t0(t,l,r,i)),i6.set(t,t.el.getBoundingClientRect())}return aB(s,null,a)}}};function re(e){let t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function rt(e){i7.set(e,e.el.getBoundingClientRect())}function rn(e){let t=i6.get(e),n=i7.get(e),a=t.left-n.left,i=t.top-n.top;if(a||i){let t=e.el.style;return t.transform=t.webkitTransform=`translate(${a}px,${i}px)`,t.transitionDuration="0s",e}}let ra=e=>{let t=e.props["onUpdate:modelValue"]||!1;return(0,d.isArray)(t)?e=>(0,d.invokeArrayFns)(t,e):t};function ri(e){e.target.composing=!0}function rr(e){let t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}let ro={created(e,{modifiers:{lazy:t,trim:n,number:a}},i){e._assign=ra(i);let r=a||i.props&&"number"===i.props.type;i$(e,t?"change":"input",t=>{if(t.target.composing)return;let a=e.value;n&&(a=a.trim()),r&&(a=(0,d.toNumber)(a)),e._assign(a)}),n&&i$(e,"change",()=>{e.value=e.value.trim()}),!t&&(i$(e,"compositionstart",ri),i$(e,"compositionend",rr),i$(e,"change",rr))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:a,number:i}},r){if(e._assign=ra(r),e.composing||document.activeElement===e&&"range"!==e.type&&(n||a&&e.value.trim()===t||(i||"number"===e.type)&&(0,d.toNumber)(e.value)===t))return;let o=null==t?"":t;e.value!==o&&(e.value=o)}},rl={deep:!0,created(e,t,n){e._assign=ra(n),i$(e,"change",()=>{let t=e._modelValue,n=rp(e),a=e.checked,i=e._assign;if((0,d.isArray)(t)){let e=(0,d.looseIndexOf)(t,n),r=-1!==e;if(a&&!r)i(t.concat(n));else if(!a&&r){let n=[...t];n.splice(e,1),i(n)}}else if((0,d.isSet)(t)){let e=new Set(t);a?e.add(n):e.delete(n),i(e)}else i(r_(e,a))})},mounted:rs,beforeUpdate(e,t,n){e._assign=ra(n),rs(e,t,n)}};function rs(e,{value:t,oldValue:n},a){e._modelValue=t,(0,d.isArray)(t)?e.checked=(0,d.looseIndexOf)(t,a.props.value)>-1:(0,d.isSet)(t)?e.checked=t.has(a.props.value):t!==n&&(e.checked=(0,d.looseEqual)(t,r_(e,!0)))}let rc={created(e,{value:t},n){e.checked=(0,d.looseEqual)(t,n.props.value),e._assign=ra(n),i$(e,"change",()=>{e._assign(rp(e))})},beforeUpdate(e,{value:t,oldValue:n},a){e._assign=ra(a),t!==n&&(e.checked=(0,d.looseEqual)(t,a.props.value))}},rd={deep:!0,created(e,{value:t,modifiers:{number:n}},a){let i=(0,d.isSet)(t);i$(e,"change",()=>{let t=Array.prototype.filter.call(e.options,e=>e.selected).map(e=>n?(0,d.toNumber)(rp(e)):rp(e));e._assign(e.multiple?i?new Set(t):t:t[0])}),e._assign=ra(a)},mounted(e,{value:t}){ru(e,t)},beforeUpdate(e,t,n){e._assign=ra(n)},updated(e,{value:t}){ru(e,t)}};function ru(e,t){let n=e.multiple;if(!n||!!(0,d.isArray)(t)||!!(0,d.isSet)(t)){for(let a=0,i=e.options.length;a<i;a++){let i=e.options[a],r=rp(i);if(n)(0,d.isArray)(t)?i.selected=(0,d.looseIndexOf)(t,r)>-1:i.selected=t.has(r);else if((0,d.looseEqual)(rp(i),t)){e.selectedIndex!==a&&(e.selectedIndex=a);return}}!n&&-1!==e.selectedIndex&&(e.selectedIndex=-1)}}function rp(e){return"_value"in e?e._value:e.value}function r_(e,t){let n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}let rm={created(e,t,n){rh(e,t,n,null,"created")},mounted(e,t,n){rh(e,t,n,null,"mounted")},beforeUpdate(e,t,n,a){rh(e,t,n,a,"beforeUpdate")},updated(e,t,n,a){rh(e,t,n,a,"updated")}};function rf(e,t){switch(e){case"SELECT":return rd;case"TEXTAREA":return ro;default:switch(t){case"checkbox":return rl;case"radio":return rc;default:return ro}}}function rh(e,t,n,a,i){let r=rf(e.tagName,n.props&&n.props.type)[i];r&&r(e,t,n,a)}let rg=["ctrl","shift","alt","meta"],rv={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>rg.some(n=>e[`${n}Key`]&&!t.includes(n))},rb=(e,t)=>(n,...a)=>{for(let e=0;e<t.length;e++){let a=rv[t[e]];if(a&&a(n,t))return}return e(n,...a)},ry={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},rk=(e,t)=>n=>{if(!("key"in n))return;let a=(0,d.hyphenate)(n.key);if(t.some(e=>e===a||ry[e]===a))return e(n)},rE={beforeMount(e,{value:t},{transition:n}){e._vod="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):rA(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:a}){!t!=!n&&(a?t?(a.beforeEnter(e),rA(e,!0),a.enter(e)):a.leave(e,()=>{rA(e,!1)}):rA(e,t))},beforeUnmount(e,{value:t}){rA(e,t)}};function rA(e,t){e.style.display=t?e._vod:"none"}let rw=(0,d.extend)({patchProp:(e,t,n,a,i=!1,r,o,l,s)=>{"class"===t?!function(e,t,n){let a=e._vtc;a&&(t=(t?[t,...a]:[...a]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}(e,a,i):"style"===t?!function(e,t,n){let a=e.style,i=(0,d.isString)(n);if(n&&!i){for(let e in n)iS(a,e,n[e]);if(t&&!(0,d.isString)(t))for(let e in t)null==n[e]&&iS(a,e,"")}else{let r=a.display;i?t!==n&&(a.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(a.display=r)}}(e,n,a):(0,d.isOn)(t)?!(0,d.isModelListener)(t)&&!function(e,t,n,a,i=null){let r=e._vei||(e._vei={}),o=r[t];if(a&&o)o.value=a;else{let[n,l]=function(e){let t;if(iD.test(e)){let n;for(t={};n=e.match(iD);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[":"===e[2]?e.slice(3):(0,d.hyphenate)(e.slice(2)),t]}(t);a?i$(e,n,r[t]=function(e,t){let n=e=>{if(e._vts){if(e._vts<=n.attached)return}else e._vts=Date.now();e8(function(e,t){if(!(0,d.isArray)(t))return t;{let n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(e=>t=>!t._stopped&&e&&e(t))}}(e,n.value),t,5,[e])};return n.value=e,n.attached=iP(),n}(a,i),l):o&&(!function(e,t,n,a){e.removeEventListener(t,n,a)}(e,n,o,l),r[t]=void 0)}}(e,t,0,a,o):("."===t[0]?(t=t.slice(1),0):"^"===t[0]?(t=t.slice(1),1):!function(e,t,n,a){if(a)return!!("innerHTML"===t||"textContent"===t||t in e&&iO.test(t)&&(0,d.isFunction)(n))||!1;return!("spellcheck"===t||"draggable"===t||"translate"===t||"form"===t||"list"===t&&"INPUT"===e.tagName||"type"===t&&"TEXTAREA"===e.tagName||iO.test(t)&&(0,d.isString)(n))&&t in e}(e,t,a,i))?("true-value"===t?e._trueValue=a:"false-value"===t&&(e._falseValue=a),!function(e,t,n,a,i){if(a&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(ix,t.slice(6,t.length)):e.setAttributeNS(ix,t,n);else{let a=(0,d.isSpecialBooleanAttr)(t);null==n||a&&!(0,d.includeBooleanAttr)(n)?e.removeAttribute(t):e.setAttribute(t,a?"":n)}}(e,t,a,i)):!function(e,t,n,a,i,r,o){if("innerHTML"===t||"textContent"===t){a&&o(a,i,r),e[t]=null==n?"":n;return}if("value"===t&&"PROGRESS"!==e.tagName&&!e.tagName.includes("-")){e._value=n;let a=null==n?"":n;(e.value!==a||"OPTION"===e.tagName)&&(e.value=a),null==n&&e.removeAttribute(t);return}let l=!1;if(""===n||null==n){let a=typeof e[t];"boolean"===a?n=(0,d.includeBooleanAttr)(n):null==n&&"string"===a?(n="",l=!0):"number"===a&&(n=0,l=!0)}try{e[t]=n}catch(e){}l&&e.removeAttribute(t)}(e,t,a,r,o,l,s)}},{insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{let t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,a)=>{let i=t?iA.createElementNS("http://www.w3.org/2000/svg",e):iA.createElement(e,n?{is:n}:void 0);return"select"===e&&a&&null!=a.multiple&&i.setAttribute("multiple",a.multiple),i},createText:e=>iA.createTextNode(e),createComment:e=>iA.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>iA.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,a,i,r){let o=n?n.previousSibling:t.lastChild;if(i&&(i===r||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),i!==r&&(i=i.nextSibling););else{iw.innerHTML=a?`<svg>${e}</svg>`:e;let i=iw.content;if(a){let e=i.firstChild;for(;e.firstChild;)i.appendChild(e.firstChild);i.removeChild(e)}t.insertBefore(i,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}}),rC=!1;function rS(){return s||(s=ai(rw))}function rN(){return s=rC?s:aa(rw),rC=!0,s}let rV=(...e)=>{rS().render(...e)},rx=(...e)=>{rN().hydrate(...e)},r$=(...e)=>{let t=rS().createApp(...e),{mount:n}=t;return t.mount=e=>{let a=rT(e);if(!a)return;let i=t._component;!(0,d.isFunction)(i)&&!i.render&&!i.template&&(i.template=a.innerHTML),a.innerHTML="";let r=n(a,!1,a instanceof SVGElement);return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),r},t},rD=(...e)=>{let t=rN().createApp(...e),{mount:n}=t;return t.mount=e=>{let t=rT(e);if(t)return n(t,!0,t instanceof SVGElement)},t};function rT(e){if((0,d.isString)(e)){let t=document.querySelector(e);return t}return e}let rB=!1,rP=()=>{!rB&&(rB=!0,ro.getSSRProps=({value:e})=>({value:e}),rc.getSSRProps=({value:e},t)=>{if(t.props&&(0,d.looseEqual)(t.props.value,e))return{checked:!0}},rl.getSSRProps=({value:e},t)=>{if((0,d.isArray)(e)){if(t.props&&(0,d.looseIndexOf)(e,t.props.value)>-1)return{checked:!0}}else if((0,d.isSet)(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},rm.getSSRProps=(e,t)=>{if("string"!=typeof t.type)return;let n=rf(t.type.toUpperCase(),t.props&&t.props.type);if(n.getSSRProps)return n.getSSRProps(e,t)},rE.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}})}},3577:function(e,t,n){"use strict";let a;function i(e,t){let n=Object.create(null),a=e.split(",");for(let e=0;e<a.length;e++)n[a[e]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}n.r(t),n.d(t,{EMPTY_ARR:function(){return q},EMPTY_OBJ:function(){return j},NO:function(){return U},NOOP:function(){return F},PatchFlagNames:function(){return r},camelize:function(){return ef},capitalize:function(){return ev},def:function(){return eE},escapeHtml:function(){return B},escapeHtmlComment:function(){return O},extend:function(){return J},genPropsAccessExp:function(){return eS},generateCodeFrame:function(){return s},getGlobalThis:function(){return ew},hasChanged:function(){return ey},hasOwn:function(){return W},hyphenate:function(){return eg},includeBooleanAttr:function(){return p},invokeArrayFns:function(){return ek},isArray:function(){return G},isBooleanAttr:function(){return u},isBuiltInDirective:function(){return ep},isDate:function(){return ee},isFunction:function(){return et},isGloballyWhitelisted:function(){return l},isHTMLTag:function(){return V},isIntegerKey:function(){return ed},isKnownHtmlAttr:function(){return b},isKnownSvgAttr:function(){return y},isMap:function(){return Q},isModelListener:function(){return Y},isNoUnitNumericStyleProp:function(){return g},isObject:function(){return ei},isOn:function(){return H},isPlainObject:function(){return ec},isPromise:function(){return er},isReservedProp:function(){return eu},isSSRSafeAttrName:function(){return f},isSVGTag:function(){return x},isSet:function(){return X},isSpecialBooleanAttr:function(){return d},isString:function(){return en},isSymbol:function(){return ea},isVoidTag:function(){return D},looseEqual:function(){return R},looseIndexOf:function(){return I},makeMap:function(){return i},normalizeClass:function(){return S},normalizeProps:function(){return N},normalizeStyle:function(){return k},objectToString:function(){return eo},parseStringStyle:function(){return w},propsToAttrMap:function(){return h},remove:function(){return K},slotFlagsText:function(){return o},stringifyStyle:function(){return C},toDisplayString:function(){return M},toHandlerKey:function(){return eb},toNumber:function(){return eA},toRawType:function(){return es},toTypeString:function(){return el}});let r={1:"TEXT",2:"CLASS",4:"STYLE",8:"PROPS",16:"FULL_PROPS",32:"HYDRATE_EVENTS",64:"STABLE_FRAGMENT",128:"KEYED_FRAGMENT",256:"UNKEYED_FRAGMENT",512:"NEED_PATCH",1024:"DYNAMIC_SLOTS",2048:"DEV_ROOT_FRAGMENT",[-1]:"HOISTED",[-2]:"BAIL"},o={1:"STABLE",2:"DYNAMIC",3:"FORWARDED"},l=i("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt");function s(e,t=0,n=e.length){let a=e.split(/(\r?\n)/),i=a.filter((e,t)=>t%2==1);a=a.filter((e,t)=>t%2==0);let r=0,o=[];for(let e=0;e<a.length;e++)if((r+=a[e].length+(i[e]&&i[e].length||0))>=t){for(let l=e-2;l<=e+2||n>r;l++){if(l<0||l>=a.length)continue;let s=l+1;o.push(`${s}${" ".repeat(Math.max(3-String(s).length,0))}|  ${a[l]}`);let c=a[l].length,d=i[l]&&i[l].length||0;if(l===e){let e=t-(r-(c+d)),a=Math.max(1,n>r?c-e:n-t);o.push("   |  "+" ".repeat(e)+"^".repeat(a))}else if(l>e){if(n>r){let e=Math.max(Math.min(n-r,c),1);o.push("   |  "+"^".repeat(e))}r+=c+d}}break}return o.join("\n")}let c="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",d=i(c),u=i(c+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");function p(e){return!!e||""===e}let _=/[>/="'\u0009\u000a\u000c\u0020]/,m={};function f(e){if(m.hasOwnProperty(e))return m[e];let t=_.test(e);return t&&console.error(`unsafe attribute name: ${e}`),m[e]=!t}let h={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},g=i("animation-iteration-count,border-image-outset,border-image-slice,border-image-width,box-flex,box-flex-group,box-ordinal-group,column-count,columns,flex,flex-grow,flex-positive,flex-shrink,flex-negative,flex-order,grid-row,grid-row-end,grid-row-span,grid-row-start,grid-column,grid-column-end,grid-column-span,grid-column-start,font-weight,line-clamp,line-height,opacity,order,orphans,tab-size,widows,z-index,zoom,fill-opacity,flood-opacity,stop-opacity,stroke-dasharray,stroke-dashoffset,stroke-miterlimit,stroke-opacity,stroke-width"),b=i("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap"),y=i("xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan");function k(e){if(G(e)){let t={};for(let n=0;n<e.length;n++){let a=e[n],i=en(a)?w(a):k(a);if(i)for(let e in i)t[e]=i[e]}return t}if(en(e))return e;if(ei(e))return e}let E=/;(?![^(]*\))/g,A=/:(.+)/;function w(e){let t={};return e.split(E).forEach(e=>{if(e){let n=e.split(A);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function C(e){let t="";if(!e||en(e))return t;for(let n in e){let a=e[n],i=n.startsWith("--")?n:eg(n);(en(a)||"number"==typeof a&&g(i))&&(t+=`${i}:${a};`)}return t}function S(e){let t="";if(en(e))t=e;else if(G(e))for(let n=0;n<e.length;n++){let a=S(e[n]);a&&(t+=a+" ")}else if(ei(e))for(let n in e)e[n]&&(t+=n+" ");return t.trim()}function N(e){if(!e)return null;let{class:t,style:n}=e;return t&&!en(t)&&(e.class=S(t)),n&&(e.style=k(n)),e}let V=i("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot"),x=i("svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view"),D=i("area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr"),T=/["'&<>]/;function B(e){let t,n;let a=""+e,i=T.exec(a);if(!i)return a;let r="",o=0;for(n=i.index;n<a.length;n++){switch(a.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#39;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==n&&(r+=a.slice(o,n)),o=n+1,r+=t}return o!==n?r+a.slice(o,n):r}let P=/^-?>|<!--|-->|--!>|<!-$/g;function O(e){return e.replace(P,"")}function R(e,t){if(e===t)return!0;let n=ee(e),a=ee(t);if(n||a)return!!n&&!!a&&e.getTime()===t.getTime();if(n=ea(e),a=ea(t),n||a)return e===t;if(n=G(e),a=G(t),n||a)return!!n&&!!a&&function(e,t){if(e.length!==t.length)return!1;let n=!0;for(let a=0;n&&a<e.length;a++)n=R(e[a],t[a]);return n}(e,t);if(n=ei(e),a=ei(t),n||a){if(!n||!a)return!1;let i=Object.keys(e).length;if(i!==Object.keys(t).length)return!1;for(let n in e){let a=e.hasOwnProperty(n),i=t.hasOwnProperty(n);if(a&&!i||!a&&i||!R(e[n],t[n]))return!1}}return String(e)===String(t)}function I(e,t){return e.findIndex(e=>R(e,t))}let M=e=>en(e)?e:null==e?"":G(e)||ei(e)&&(e.toString===eo||!et(e.toString))?JSON.stringify(e,L,2):String(e),L=(e,t)=>{if(t&&t.__v_isRef)return L(e,t.value);if(Q(t))return{[`Map(${t.size})`]:[...t.entries()].reduce((e,[t,n])=>(e[`${t} =>`]=n,e),{})};if(X(t))return{[`Set(${t.size})`]:[...t.values()]};else if(ei(t)&&!G(t)&&!ec(t))return String(t);return t},j={},q=[],F=()=>{},U=()=>!1,z=/^on[^a-z]/,H=e=>z.test(e),Y=e=>e.startsWith("onUpdate:"),J=Object.assign,K=(e,t)=>{let n=e.indexOf(t);n>-1&&e.splice(n,1)},Z=Object.prototype.hasOwnProperty,W=(e,t)=>Z.call(e,t),G=Array.isArray,Q=e=>"[object Map]"===el(e),X=e=>"[object Set]"===el(e),ee=e=>"[object Date]"===el(e),et=e=>"function"==typeof e,en=e=>"string"==typeof e,ea=e=>"symbol"==typeof e,ei=e=>null!==e&&"object"==typeof e,er=e=>ei(e)&&et(e.then)&&et(e.catch),eo=Object.prototype.toString,el=e=>eo.call(e),es=e=>el(e).slice(8,-1),ec=e=>"[object Object]"===el(e),ed=e=>en(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,eu=i(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ep=i("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),e_=e=>{let t=Object.create(null);return n=>t[n]||(t[n]=e(n))},em=/-(\w)/g,ef=e_(e=>e.replace(em,(e,t)=>t?t.toUpperCase():"")),eh=/\B([A-Z])/g,eg=e_(e=>e.replace(eh,"-$1").toLowerCase()),ev=e_(e=>e.charAt(0).toUpperCase()+e.slice(1)),eb=e_(e=>e?`on${ev(e)}`:""),ey=(e,t)=>!Object.is(e,t),ek=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},eE=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},eA=e=>{let t=parseFloat(e);return isNaN(t)?e:t},ew=()=>a||(a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{}),eC=/^[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*$/;function eS(e){return eC.test(e)?`__props.${e}`:`__props[${JSON.stringify(e)}]`}},2706:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(7537),i=n.n(a),r=n(3645),o=n.n(r)()(i());o.push([e.id,"\n.modal[data-v-030b2ccc] {\n    position: fixed;\n    z-index: 9998;\n    display: table;\n    transition: opacity 0.3s ease;\n    margin: auto;\n    padding: 20px 30px;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.33);\n    transition: all 0.3s ease;\n}\n#close_modal[data-v-030b2ccc] {\n    cursor: pointer;\n}\n.modal_centered[data-v-030b2ccc] {\n    position: fixed;\n    z-index: 9998;\n    display: table;\n    transition: opacity 0.3s ease;\n    left: 0px;\n    top: 0px;\n    width: 100%;\n    height: 100%;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.33);\n}\n.spinner[data-v-030b2ccc] {\n    position: absolute;\n    top: 50%;\n    left: 40%;\n    width: 10%;\n}\n.confirmation .inputs[data-v-030b2ccc] {\n    margin-top: 0.4em;\n}\n.confirmation .inputs input[data-v-030b2ccc],[data-v-030b2ccc] .flatpickr-input {\n    width: auto;\n    margin: 0px;\n    float: left;\n}\n[data-v-030b2ccc] .flatpickr-input {\n    padding-left: 20px;\n}\n.confirmation .inputs label[data-v-030b2ccc] {\n    padding: 0.4em;\n    float: right;\n}\n","",{version:3,sources:["webpack://./koha-tmpl/intranet-tmpl/prog/js/vue/components/Dialog.vue"],names:[],mappings:";AAuMA;IACI,eAAe;IACf,aAAa;IACb,cAAc;IACd,6BAA6B;IAC7B,YAAY;IACZ,kBAAkB;IAClB,yCAAyC;IACzC,yBAAyB;AAC7B;AACA;IACI,eAAe;AACnB;AAEA;IACI,eAAe;IACf,aAAa;IACb,cAAc;IACd,6BAA6B;IAC7B,SAAS;IACT,QAAQ;IACR,WAAW;IACX,YAAY;IACZ,yCAAyC;AAC7C;AACA;IACI,kBAAkB;IAClB,QAAQ;IACR,SAAS;IACT,UAAU;AACd;AAEA;IACI,iBAAiB;AACrB;AACA;IAEI,WAAW;IACX,WAAW;IACX,WAAW;AACf;AAEA;IACI,kBAAkB;AACtB;AAEA;IACI,cAAc;IACd,YAAY;AAChB",sourcesContent:['<template>\n    <div class="alert alert-info" v-if="message" v-html="message"></div>\n    <div class="alert alert-warning" v-if="error" v-html="error"></div>\n    <div class="modal" role="dialog" v-if="warning" id="warning">\n        <div class="modal-dialog">\n            <div class="modal-content modal-lg">\n                <div class="modal-header">\n                    <h1 class="modal-title" v-html="warning"></h1>\n                </div>\n                <div class="modal-footer border-top-0">\n                    <button\n                        id="close_modal"\n                        class="btn btn-default deny cancel"\n                        type="button"\n                        data-bs-dismiss="modal"\n                        @click="removeMessages"\n                    >\n                        <i class="fa fa-fw fa-check"></i>\n                        {{ $__("Close") }}\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div\n        class="confirmation modal"\n        role="dialog"\n        v-if="confirmation"\n        id="confirmation"\n    >\n        <div class="modal-dialog">\n            <div class="modal-content modal-lg">\n                <div class="modal-header alert-warning confirmation">\n                    <h1 v-html="confirmation.title"></h1>\n                </div>\n                <div\n                    class="modal-body"\n                    v-if="confirmation.message || confirmation.inputs"\n                >\n                    <p v-html="confirmation.message"></p>\n                    <div class="inputs" v-if="confirmation.inputs">\n                        <form ref="confirmationform">\n                            <div\n                                class="row"\n                                v-for="input in confirmation.inputs"\n                                v-bind:key="input.id"\n                            >\n                                <div class="col-md-6">\n                                    <label\n                                        :for="`confirmation_input_${input.id}`"\n                                        v-bind:class="{\n                                            required: input.required,\n                                        }"\n                                        >{{ input.label }}:</label\n                                    >\n                                </div>\n                                <div class="col-md-6">\n                                    <flat-pickr\n                                        v-if="input.type == \'Date\'"\n                                        :id="`confirmation_input_${input.id}`"\n                                        v-model="input.value"\n                                        :required="input.required"\n                                        :config="fp_config"\n                                    />\n                                    <input\n                                        v-if="input.type == \'Text\'"\n                                        :id="`confirmation_input_${input.id}`"\n                                        v-model="input.value"\n                                        :required="input.required"\n                                    />\n                                </div>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n                <div\n                    class="modal-footer"\n                    :class="{\n                        \'border-top-0\': !(\n                            confirmation.message || confirmation.inputs\n                        ),\n                    }"\n                >\n                    <button\n                        v-if="accept_callback"\n                        id="accept_modal"\n                        class="btn btn-default approve"\n                        @click="submit"\n                    >\n                        <i class="fa fa-fw fa-check"></i>\n                        <span v-html="confirmation.accept_label"></span>\n                    </button>\n                    <button\n                        id="close_modal"\n                        class="btn btn-default deny cancel"\n                        type="button"\n                        data-bs-dismiss="modal"\n                        @click="removeConfirmationMessages"\n                    >\n                        <i class="fa fa-fw fa-remove"></i>\n                        <span v-html="confirmation.cancel_label"></span>\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="modal_centered" v-if="is_submitting">\n        <div class="spinner alert alert-warning">\n            {{ $__("Submitting...") }}\n        </div>\n    </div>\n    <div class="modal_centered" v-if="is_loading">\n        <div class="spinner alert alert-info">{{ $__("Loading...") }}</div>\n    </div>\n</template>\n\n<script>\nimport { inject, watch, nextTick } from "vue"\nimport { storeToRefs } from "pinia"\nimport flatPickr from "vue-flatpickr-component"\nexport default {\n    data() {\n        return {\n            fp_config: flatpickr_defaults,\n        }\n    },\n    methods: {\n        submit: function (e) {\n            if (\n                this.confirmation.inputs &&\n                this.confirmation.inputs.filter(\n                    input =>\n                        input.required &&\n                        (input.value == null || input.value == "")\n                ).length\n            ) {\n                this.$refs.confirmationform.reportValidity()\n            } else {\n                this.accept_callback().then(() => {\n                    nextTick(() => {\n                        $("#confirmation.modal").modal("hide")\n                    })\n                })\n            }\n        },\n    },\n    setup() {\n        const mainStore = inject("mainStore")\n        const {\n            message,\n            error,\n            warning,\n            confirmation,\n            accept_callback,\n            is_submitting,\n            is_loading,\n        } = storeToRefs(mainStore)\n        const { removeMessages, removeConfirmationMessages } = mainStore\n\n        watch(warning, newWarning => {\n            if (!newWarning) {\n                $("#warning.modal").modal("hide")\n                return\n            }\n            nextTick(() => {\n                $("#warning.modal").modal("show")\n            })\n        })\n\n        watch(confirmation, newConfirmation => {\n            if (!newConfirmation) {\n                $("#confirmation.modal").modal("hide")\n                return\n            }\n            nextTick(() => {\n                $("#confirmation.modal").modal("show")\n            })\n        })\n\n        return {\n            message,\n            error,\n            warning,\n            confirmation,\n            accept_callback,\n            is_submitting,\n            is_loading,\n            removeMessages,\n            removeConfirmationMessages,\n        }\n    },\n    components: {\n        flatPickr,\n    },\n}\n<\/script>\n\n<style scoped>\n.modal {\n    position: fixed;\n    z-index: 9998;\n    display: table;\n    transition: opacity 0.3s ease;\n    margin: auto;\n    padding: 20px 30px;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.33);\n    transition: all 0.3s ease;\n}\n#close_modal {\n    cursor: pointer;\n}\n\n.modal_centered {\n    position: fixed;\n    z-index: 9998;\n    display: table;\n    transition: opacity 0.3s ease;\n    left: 0px;\n    top: 0px;\n    width: 100%;\n    height: 100%;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.33);\n}\n.spinner {\n    position: absolute;\n    top: 50%;\n    left: 40%;\n    width: 10%;\n}\n\n.confirmation .inputs {\n    margin-top: 0.4em;\n}\n.confirmation .inputs input,\n:deep(.flatpickr-input) {\n    width: auto;\n    margin: 0px;\n    float: left;\n}\n\n:deep(.flatpickr-input) {\n    padding-left: 20px;\n}\n\n.confirmation .inputs label {\n    padding: 0.4em;\n    float: right;\n}\n</style>\n'],sourceRoot:""}]);let l=o},9437:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(7537),i=n.n(a),r=n(3645),o=n.n(r)()(i());o.push([e.id,'\n.filters > label[for="by_mine_filter"][data-v-65af96c3],\n.filters > input[type="checkbox"][data-v-65af96c3],\n.filters > input[type="button"][data-v-65af96c3] {\n    margin-left: 1rem;\n}\n',"",{version:3,sources:["webpack://./koha-tmpl/intranet-tmpl/prog/js/vue/components/ERM/AgreementsList.vue"],names:[],mappings:";AAiaA;;;IAGI,iBAAiB;AACrB",sourcesContent:['<template>\n    <div v-if="!initialized">{{ $__("Loading") }}</div>\n    <div v-else id="agreements_list">\n        <Toolbar v-if="!embedded">\n            <ToolbarButton\n                :to="{ name: \'AgreementsFormAdd\' }"\n                icon="plus"\n                :title="$__(\'New agreement\')"\n            />\n        </Toolbar>\n        <fieldset v-if="agreement_count > 0" class="filters">\n            <label for="expired_filter">{{ $__("Filter by expired") }}:</label>\n            <input\n                type="checkbox"\n                id="expired_filter"\n                v-model="filters.by_expired"\n                @keyup.enter="filter_table"\n            />\n            {{ $__("on") }}\n            <flat-pickr\n                id="max_expiration_date_filter"\n                v-model="filters.max_expiration_date"\n                :config="fp_config"\n                :disabled="!filters.by_expired"\n            />\n\n            <label for="by_mine_filter">{{ $__("Show mine only") }}:</label>\n            <input\n                type="checkbox"\n                id="by_mine_filter"\n                v-model="filters.by_mine"\n                @keyup.enter="filter_table"\n            />\n\n            <input\n                @click="filter_table"\n                id="filter_table"\n                type="button"\n                :value="$__(\'Filter\')"\n            />\n        </fieldset>\n        <div v-if="agreement_count > 0" class="page-section">\n            <KohaTable\n                ref="table"\n                v-bind="tableOptions"\n                :searchable_additional_fields="searchable_additional_fields"\n                :searchable_av_options="searchable_av_options"\n                @show="doShow"\n                @edit="doEdit"\n                @delete="doDelete"\n                @select="doSelect"\n            ></KohaTable>\n        </div>\n        <div v-else class="alert alert-info">\n            {{ $__("There are no agreements defined") }}\n        </div>\n    </div>\n</template>\n\n<script>\nimport flatPickr from "vue-flatpickr-component"\nimport Toolbar from "../Toolbar.vue"\nimport ToolbarButton from "../ToolbarButton.vue"\nimport { inject, ref, reactive } from "vue"\nimport { APIClient } from "../../fetch/api-client.js"\nimport { storeToRefs } from "pinia"\nimport { build_url } from "../../composables/datatables"\nimport KohaTable from "../KohaTable.vue"\n\nexport default {\n    setup() {\n        const vendorStore = inject("vendorStore")\n        const { vendors } = storeToRefs(vendorStore)\n\n        const AVStore = inject("AVStore")\n        const { get_lib_from_av, map_av_dt_filter } = AVStore\n\n        const { setConfirmationDialog, setMessage } = inject("mainStore")\n\n        const table = ref()\n\n        const filters = reactive({\n            by_expired: false,\n            max_expiration_date: "",\n            by_mine: false,\n        })\n        return {\n            vendors,\n            get_lib_from_av,\n            map_av_dt_filter,\n            logged_in_user,\n            table,\n            setConfirmationDialog,\n            setMessage,\n            escape_str,\n            agreement_table_settings,\n            filters,\n        }\n    },\n    data: function () {\n        this.filters.by_expired =\n            this.$route.query.by_expired === "true" || false\n        this.filters.by_mine = this.$route.query.by_mine || false\n        this.filters.max_expiration_date =\n            this.$route.query.max_expiration_date || ""\n\n        let filters = this.filters\n\n        let logged_in_user = this.logged_in_user\n        return {\n            fp_config: flatpickr_defaults,\n            agreement_count: 0,\n            initialized: false,\n            searchable_additional_fields: [],\n            searchable_av_options: [],\n            tableOptions: {\n                columns: this.getTableColumns(),\n                options: {\n                    embed: "user_roles,vendor,extended_attributes,+strings",\n                },\n                url: () => this.table_url(),\n                table_settings: this.agreement_table_settings,\n                add_filters: true,\n                filters_options: {\n                    1: () =>\n                        this.vendors.map(e => {\n                            e["_id"] = e["id"]\n                            e["_str"] = e["name"]\n                            return e\n                        }),\n                    3: () => this.map_av_dt_filter("av_agreement_statuses"),\n                    4: () =>\n                        this.map_av_dt_filter("av_agreement_closure_reasons"),\n                    5: [\n                        { _id: 0, _str: this.$__("No") },\n                        { _id: 1, _str: this.$__("Yes") },\n                    ],\n                    6: () =>\n                        this.map_av_dt_filter(\n                            "av_agreement_renewal_priorities"\n                        ),\n                },\n                actions: {\n                    0: ["show"],\n                    "-1": this.embedded\n                        ? [\n                              {\n                                  select: {\n                                      text: this.$__("Select"),\n                                      icon: "fa fa-check",\n                                  },\n                              },\n                          ]\n                        : ["edit", "delete"],\n                },\n                default_filters: {\n                    "user_roles.user_id": function () {\n                        return filters.by_mine\n                            ? logged_in_user.borrowernumber\n                            : ""\n                    },\n                },\n            },\n            before_route_entered: false,\n            building_table: false,\n        }\n    },\n    beforeRouteEnter(to, from, next) {\n        next(vm => {\n            vm.getAgreementCount().then(() =>\n                vm\n                    .getSearchableAdditionalFields()\n                    .then(() =>\n                        vm\n                            .getSearchableAVOptions()\n                            .then(() => (vm.initialized = true))\n                    )\n            )\n        })\n    },\n    methods: {\n        async getAgreementCount() {\n            const client = APIClient.erm\n            await client.agreements.count().then(\n                count => {\n                    this.agreement_count = count\n                },\n                error => {}\n            )\n        },\n        async getSearchableAdditionalFields() {\n            const client = APIClient.additional_fields\n            await client.additional_fields.getAll("agreement").then(\n                searchable_additional_fields => {\n                    this.searchable_additional_fields =\n                        searchable_additional_fields.filter(\n                            field => field.searchable\n                        )\n                },\n                error => {}\n            )\n        },\n        async getSearchableAVOptions() {\n            const client_av = APIClient.authorised_values\n            let av_cat_array = this.searchable_additional_fields\n                .filter(field => field.authorised_value_category_name)\n                .map(field => field.authorised_value_category_name)\n\n            await client_av.values\n                .getCategoriesWithValues([\n                    ...new Set(av_cat_array.map(av_cat => \'"\' + av_cat + \'"\')),\n                ]) // unique\n                .then(av_categories => {\n                    av_cat_array.forEach(av_cat => {\n                        let av_match = av_categories.find(\n                            element => element.category_name == av_cat\n                        )\n                        this.searchable_av_options[av_cat] =\n                            av_match.authorised_values.map(av => ({\n                                value: av.value,\n                                label: av.description,\n                            }))\n                    })\n                })\n        },\n        doShow: function ({ agreement_id }, dt, event) {\n            event.preventDefault()\n            this.$router.push({\n                name: "AgreementsShow",\n                params: { agreement_id },\n            })\n        },\n        doEdit: function ({ agreement_id }, dt, event) {\n            this.$router.push({\n                name: "AgreementsFormAddEdit",\n                params: { agreement_id },\n            })\n        },\n        doDelete: function (agreement, dt, event) {\n            this.setConfirmationDialog(\n                {\n                    title: this.$__(\n                        "Are you sure you want to remove this agreement?"\n                    ),\n                    message: agreement.name,\n                    accept_label: this.$__("Yes, delete"),\n                    cancel_label: this.$__("No, do not delete"),\n                },\n                () => {\n                    const client = APIClient.erm\n                    client.agreements.delete(agreement.agreement_id).then(\n                        success => {\n                            this.setMessage(\n                                this.$__("Agreement %s deleted").format(\n                                    agreement.name\n                                ),\n                                true\n                            )\n                            dt.draw()\n                        },\n                        error => {}\n                    )\n                }\n            )\n        },\n        doSelect: function (agreement, dt, event) {\n            this.$emit("select-agreement", agreement.agreement_id)\n            this.$emit("close")\n        },\n        get_today_date: function () {\n            return new Date().toISOString().substring(0, 10)\n        },\n        table_url: function () {\n            let url = "/api/v1/erm/agreements"\n            if (this.filters.by_expired)\n                url +=\n                    "?max_expiration_date=" + this.filters.max_expiration_date\n            return url\n        },\n        filter_table: async function () {\n            if (!this.embedded) {\n                if (\n                    this.filters.by_expired &&\n                    !this.filters.max_expiration_date\n                ) {\n                    this.filters.max_expiration_date = this.get_today_date()\n                }\n                if (!this.filters.by_expired) {\n                    this.filters.max_expiration_date = ""\n                }\n                let { href } = this.$router.resolve({ name: "AgreementsList" })\n                let new_route = build_url(href, this.filters)\n                this.$router.push(new_route)\n            }\n            this.$refs.table.redraw(this.table_url())\n        },\n        getTableColumns: function () {\n            let get_lib_from_av = this.get_lib_from_av\n            let escape_str = this.escape_str\n\n            return [\n                {\n                    title: __("Name"),\n                    data: "me.name:me.agreement_id",\n                    searchable: true,\n                    orderable: true,\n                    render: function (data, type, row, meta) {\n                        return (\n                            \'<a href="/cgi-bin/koha/erm/agreements/\' +\n                            row.agreement_id +\n                            \'" class="show">\' +\n                            escape_str(`${row.name} (#${row.agreement_id})`) +\n                            "</a>"\n                        )\n                    },\n                },\n                {\n                    title: __("Vendor"),\n                    data: "vendor_id",\n                    searchable: true,\n                    orderable: true,\n                    render: function (data, type, row, meta) {\n                        return row.vendor_id != undefined\n                            ? \'<a href="/cgi-bin/koha/acqui/supplier.pl?booksellerid=\' +\n                                  row.vendor_id +\n                                  \'">\' +\n                                  escape_str(row.vendor.name) +\n                                  "</a>"\n                            : ""\n                    },\n                },\n                {\n                    title: __("Description"),\n                    data: "description",\n                    searchable: true,\n                    orderable: true,\n                },\n                {\n                    title: __("Status"),\n                    data: "status",\n                    searchable: true,\n                    orderable: true,\n                    render: function (data, type, row, meta) {\n                        return escape_str(\n                            get_lib_from_av("av_agreement_statuses", row.status)\n                        )\n                    },\n                },\n                {\n                    title: __("Closure reason"),\n                    data: "closure_reason",\n                    searchable: true,\n                    orderable: true,\n                    render: function (data, type, row, meta) {\n                        return escape_str(\n                            get_lib_from_av(\n                                "av_agreement_closure_reasons",\n                                row.closure_reason\n                            )\n                        )\n                    },\n                },\n                {\n                    title: __("Is perpetual"),\n                    data: "is_perpetual",\n                    searchable: true,\n                    orderable: true,\n                    render: function (data, type, row, meta) {\n                        return escape_str(\n                            row.is_perpetual ? __("Yes") : __("No")\n                        )\n                    },\n                },\n                {\n                    title: __("Renewal priority"),\n                    data: "renewal_priority",\n                    searchable: true,\n                    orderable: true,\n                    render: function (data, type, row, meta) {\n                        return escape_str(\n                            get_lib_from_av(\n                                "av_agreement_renewal_priorities",\n                                row.renewal_priority\n                            )\n                        )\n                    },\n                },\n            ]\n        },\n    },\n    mounted() {\n        if (this.embedded) {\n            this.getAgreementCount().then(() => (this.initialized = true))\n        }\n    },\n    watch: {\n        "filters.by_expired": function (newVal, oldVal) {\n            if (newVal) {\n                this.filters.max_expiration_date = this.get_today_date()\n            } else {\n                this.filters.max_expiration_date = ""\n            }\n        },\n    },\n    components: { flatPickr, Toolbar, ToolbarButton, KohaTable },\n    props: {\n        embedded: {\n            type: Boolean,\n            default: false,\n        },\n    },\n    name: "AgreementsList",\n    emits: ["select-agreement", "close"],\n}\n<\/script>\n\n<style scoped>\n.filters > label[for="by_mine_filter"],\n.filters > input[type="checkbox"],\n.filters > input[type="button"] {\n    margin-left: 1rem;\n}\n</style>\n'],sourceRoot:""}]);let l=o},5423:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(7537),i=n.n(a),r=n(3645),o=n.n(r)()(i());o.push([e.id,"\n#agreement_documents ul[data-v-45b2b965] {\n    padding-left: 0px;\n}\n","",{version:3,sources:["webpack://./koha-tmpl/intranet-tmpl/prog/js/vue/components/ERM/AgreementsShow.vue"],names:[],mappings:";AAybA;IACI,iBAAiB;AACrB",sourcesContent:['<template>\n    <div v-if="!initialized">{{ $__("Loading") }}</div>\n    <div v-else id="agreements_show">\n        <Toolbar>\n            <ToolbarButton\n                :to="{\n                    name: \'AgreementsFormAddEdit\',\n                    params: { agreement_id: agreement.agreement_id },\n                }"\n                icon="pencil"\n                :title="$__(\'Edit\')"\n            />\n            <a\n                @click="\n                    delete_agreement(agreement.agreement_id, agreement.name)\n                "\n                class="btn btn-default"\n                ><font-awesome-icon icon="trash" /> {{ $__("Delete") }}</a\n            >\n        </Toolbar>\n\n        <h2>\n            {{ $__("Agreement #%s").format(agreement.agreement_id) }}\n        </h2>\n        <div>\n            <fieldset class="rows">\n                <ol>\n                    <li>\n                        <label>{{ $__("Agreement name") }}:</label>\n                        <span>\n                            {{ agreement.name }}\n                        </span>\n                    </li>\n                    <li>\n                        <label>{{ $__("Vendor") }}:</label>\n                        <span v-if="agreement.vendor_id">\n                            <a\n                                :href="`/cgi-bin/koha/acqui/booksellers.pl?booksellerid=${agreement.vendor_id}`"\n                            >\n                                {{ agreement.vendor.name }}\n                            </a>\n                        </span>\n                    </li>\n                    <li>\n                        <label>{{ $__("Description") }}:</label>\n                        <span>\n                            {{ agreement.description }}\n                        </span>\n                    </li>\n                    <li>\n                        <label>{{ $__("Status") }}:</label>\n                        <span>{{\n                            get_lib_from_av(\n                                "av_agreement_statuses",\n                                agreement.status\n                            )\n                        }}</span>\n                    </li>\n                    <li>\n                        <label>{{ $__("Closure reason") }}:</label>\n                        <span>{{\n                            get_lib_from_av(\n                                "av_agreement_closure_reasons",\n                                agreement.closure_reason\n                            )\n                        }}</span>\n                    </li>\n                    <li>\n                        <label>{{ $__("Is perpetual") }}:</label>\n                        <span v-if="agreement.is_perpetual">{{\n                            $__("Yes")\n                        }}</span>\n                        <span v-else>{{ $__("No") }}</span>\n                    </li>\n                    <li>\n                        <label>{{ $__("Renewal priority") }}:</label>\n                        <span>{{\n                            get_lib_from_av(\n                                "av_agreement_renewal_priorities",\n                                agreement.renewal_priority\n                            )\n                        }}</span>\n                    </li>\n                    <li>\n                        <label>{{ $__("License info") }}:</label>\n                        <span>{{ agreement.license_info }}</span>\n                    </li>\n\n                    <li v-if="agreement.periods.length">\n                        <label>{{ $__("Periods") }}</label>\n                        <table>\n                            <thead>\n                                <th>{{ $__("Period start") }}</th>\n                                <th>{{ $__("Period end") }}</th>\n                                <th>{{ $__("Cancellation deadline") }}</th>\n                                <th>{{ $__("Period note") }}</th>\n                            </thead>\n                            <tbody>\n                                <tr\n                                    v-for="(\n                                        period, counter\n                                    ) in agreement.periods"\n                                    v-bind:key="counter"\n                                >\n                                    <td>\n                                        {{ format_date(period.started_on) }}\n                                    </td>\n                                    <td>{{ format_date(period.ended_on) }}</td>\n                                    <td>\n                                        {{\n                                            format_date(\n                                                period.cancellation_deadline\n                                            )\n                                        }}\n                                    </td>\n                                    <td>{{ period.notes }}</td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </li>\n\n                    <li v-if="agreement.user_roles.length">\n                        <label>{{ $__("Users") }}</label>\n                        <table>\n                            <thead>\n                                <th>{{ $__("Name") }}</th>\n                                <th>{{ $__("Role") }}</th>\n                            </thead>\n                            <tbody>\n                                <tr\n                                    v-for="(\n                                        role, counter\n                                    ) in agreement.user_roles"\n                                    v-bind:key="counter"\n                                >\n                                    <td>{{ patron_to_html(role.patron) }}</td>\n                                    <td>\n                                        {{\n                                            get_lib_from_av(\n                                                "av_user_roles",\n                                                role.role\n                                            )\n                                        }}\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </li>\n\n                    <li v-if="agreement.agreement_licenses.length">\n                        <label>{{ $__("Licenses") }}</label>\n                        <table>\n                            <thead>\n                                <th>{{ $__("Name") }}</th>\n                                <th>{{ $__("Status") }}</th>\n                                <th>{{ $__("Physical location") }}</th>\n                                <th>{{ $__("Notes") }}</th>\n                                <th>{{ $__("URI") }}</th>\n                            </thead>\n                            <tbody>\n                                <tr\n                                    v-for="(\n                                        agreement_license, counter\n                                    ) in agreement.agreement_licenses"\n                                    v-bind:key="counter"\n                                >\n                                    <td>\n                                        <router-link\n                                            :to="{\n                                                name: \'LicensesShow\',\n                                                params: {\n                                                    license_id:\n                                                        agreement_license.license_id,\n                                                },\n                                            }"\n                                        >\n                                            {{ agreement_license.license.name }}\n                                        </router-link>\n                                    </td>\n                                    <td>\n                                        {{\n                                            get_lib_from_av(\n                                                "av_agreement_license_statuses",\n                                                agreement_license.status\n                                            )\n                                        }}\n                                    </td>\n                                    <td>\n                                        {{\n                                            get_lib_from_av(\n                                                "av_agreement_license_location",\n                                                agreement_license.physical_location\n                                            )\n                                        }}\n                                    </td>\n                                    <td>{{ agreement_license.notes }}</td>\n                                    <td>{{ agreement_license.uri }}</td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </li>\n\n                    <li v-if="agreement.agreement_relationships.length">\n                        <label>{{ $__("Related agreements") }}</label>\n                        <div id="agreement_relationships">\n                            <div\n                                v-for="relationship in agreement.agreement_relationships"\n                                v-bind:key="relationship.related_agreement_id"\n                            >\n                                <span\n                                    ><router-link\n                                        :to="{\n                                            name: \'AgreementsShow\',\n                                            params: {\n                                                agreement_id:\n                                                    relationship\n                                                        .related_agreement\n                                                        .agreement_id,\n                                            },\n                                        }"\n                                        >{{\n                                            relationship.related_agreement.name\n                                        }}</router-link\n                                    ></span\n                                >\n                                {{\n                                    get_lib_from_av(\n                                        "av_agreement_relationships",\n                                        relationship.relationship\n                                    )\n                                }}\n                                {{ agreement.name }}\n                            </div>\n                        </div>\n                    </li>\n\n                    <li v-if="agreement.agreement_packages.length">\n                        <label>{{ $__("Packages") }}</label>\n                        <div id="agreement_packages">\n                            <div\n                                v-for="agreement_package in agreement.agreement_packages"\n                                v-bind:key="agreement_package.package_id"\n                            >\n                                <span\n                                    v-if="\n                                        agreement_package.package.external_id &&\n                                        agreement_package.package.provider ==\n                                            \'ebsco\'\n                                    "\n                                >\n                                    <router-link\n                                        :to="{\n                                            name: \'EHoldingsEBSCOPackagesShow\',\n                                            params: {\n                                                package_id:\n                                                    agreement_package.package\n                                                        .external_id,\n                                            },\n                                        }"\n                                        >{{\n                                            agreement_package.package.name\n                                        }}</router-link\n                                    >\n                                    {{ $__("(EBSCO)") }}</span\n                                >\n                                <span v-else\n                                    ><router-link\n                                        :to="{\n                                            name: \'EHoldingsLocalPackagesShow\',\n                                            params: {\n                                                package_id:\n                                                    agreement_package.package\n                                                        .package_id,\n                                            },\n                                        }"\n                                        >{{\n                                            agreement_package.package.name\n                                        }}</router-link\n                                    >\n                                    ({{ $__("local") }})</span\n                                >\n                            </div>\n                        </div>\n                    </li>\n\n                    <li v-if="agreement.documents.length">\n                        <label>{{ $__("Documents") }}</label>\n                        <div id="agreement_documents">\n                            <ul>\n                                <li\n                                    v-for="document in agreement.documents"\n                                    v-bind:key="document.document_id"\n                                >\n                                    <div v-if="document.file_name">\n                                        <span v-if="document.file_description"\n                                            >{{ document.file_description }} -\n                                        </span>\n                                        <a\n                                            download\n                                            :href="`/api/v1/erm/documents/${document.document_id}/file/content`"\n                                        >\n                                            {{ document.file_name }}\n                                            <i class="fa fa-download"></i>\n                                        </a>\n                                        ({{ document.file_type }})\n                                        {{ $__("Uploaded on") }}:\n                                        {{ format_date(document.uploaded_on) }}\n                                    </div>\n                                    <div v-if="document.physical_location">\n                                        {{ $__("Physical location") }}:\n                                        {{ document.physical_location }}\n                                    </div>\n                                    <div v-if="document.uri">\n                                        {{ $__("URI") }}: {{ document.uri }}\n                                    </div>\n                                    <div v-if="document.notes">\n                                        {{ $__("Notes") }}: {{ document.notes }}\n                                    </div>\n                                </li>\n                            </ul>\n                        </div>\n                    </li>\n                </ol>\n            </fieldset>\n            <AdditionalFieldsDisplay\n                resource_type="agreement"\n                :additional_field_values="\n                    agreement._strings.additional_field_values\n                "\n            />\n            <fieldset class="action">\n                <router-link\n                    :to="{ name: \'AgreementsList\' }"\n                    role="button"\n                    class="cancel"\n                    >{{ $__("Close") }}</router-link\n                >\n            </fieldset>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { inject } from "vue"\nimport { APIClient } from "../../fetch/api-client.js"\nimport Toolbar from "../Toolbar.vue"\nimport ToolbarButton from "../ToolbarButton.vue"\nimport AdditionalFieldsDisplay from "../AdditionalFieldsDisplay.vue"\n\nexport default {\n    setup() {\n        const format_date = $date\n        const patron_to_html = $patron_to_html\n\n        const { setConfirmationDialog, setMessage } = inject("mainStore")\n\n        const AVStore = inject("AVStore")\n        const { get_lib_from_av } = AVStore\n\n        return {\n            format_date,\n            patron_to_html,\n            get_lib_from_av,\n            setConfirmationDialog,\n            setMessage,\n        }\n    },\n    data() {\n        return {\n            agreement: {\n                agreement_id: null,\n                name: "",\n                vendor_id: null,\n                vendor: null,\n                description: "",\n                status: "",\n                closure_reason: "",\n                is_perpetual: false,\n                renewal_priority: "",\n                license_info: "",\n                periods: [],\n                user_roles: [],\n                extended_attributes: [],\n                _strings: [],\n                agreement_packages: [],\n            },\n            initialized: false,\n        }\n    },\n    beforeRouteEnter(to, from, next) {\n        next(vm => {\n            vm.getAgreement(to.params.agreement_id)\n        })\n    },\n    beforeRouteUpdate(to, from) {\n        this.agreement = this.getAgreement(to.params.agreement_id)\n    },\n    methods: {\n        async getAgreement(agreement_id) {\n            const client = APIClient.erm\n            client.agreements.get(agreement_id).then(\n                agreement => {\n                    this.agreement = agreement\n                    this.initialized = true\n                },\n                error => {}\n            )\n        },\n        delete_agreement: function (agreement_id, agreement_name) {\n            this.setConfirmationDialog(\n                {\n                    title: this.$__(\n                        "Are you sure you want to remove this agreement?"\n                    ),\n                    message: agreement_name,\n                    accept_label: this.$__("Yes, delete"),\n                    cancel_label: this.$__("No, do not delete"),\n                },\n                () => {\n                    const client = APIClient.erm\n                    client.agreements.delete(agreement_id).then(\n                        success => {\n                            this.setMessage(\n                                this.$__("Agreement %s deleted").format(\n                                    agreement_name\n                                ),\n                                true\n                            )\n                            this.$router.push({ name: "AgreementsList" })\n                        },\n                        error => {}\n                    )\n                }\n            )\n        },\n    },\n    components: { Toolbar, ToolbarButton, AdditionalFieldsDisplay },\n    name: "AgreementsShow",\n}\n<\/script>\n<style scoped>\n#agreement_documents ul {\n    padding-left: 0px;\n}\n</style>\n'],sourceRoot:""}]);let l=o},1352:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(7537),i=n.n(a),r=n(3645),o=n.n(r)()(i());o.push([e.id,'\n#add_agreement #agreements_list table {\n    display: table;\n}\n#add_agreement .filters label {\n    float: none !important;\n}\n#add_agreement .filters input[type="checkbox"] {\n    margin-left: 0 !important;\n}\n',"",{version:3,sources:["webpack://./koha-tmpl/intranet-tmpl/prog/js/vue/components/ERM/EHoldingsEBSCOPackageAgreements.vue"],names:[],mappings:";AAsKA;IACI,cAAc;AAClB;AACA;IACI,sBAAsB;AAC1B;AACA;IACI,yBAAyB;AAC7B",sourcesContent:['<template>\n    <div\n        id="add_agreement"\n        class="modal"\n        role="dialog"\n        aria-labelledby="add_agreement_label"\n        aria-hidden="true"\n    >\n        <div class="modal-dialog modal-xl">\n            <div class="modal-content modal-xl">\n                <div class="modal-header">\n                    <h1 class="modal-title" id="add_agreement_label">\n                        {{ $__("Add agreement") }}\n                    </h1>\n                    <button\n                        type="button"\n                        class="btn-close"\n                        data-bs-dismiss="modal"\n                        aria-label="Close"\n                    ></button>\n                </div>\n                <div class="modal-body position-relative overflow-visible">\n                    <AgreementsList\n                        :embedded="true"\n                        @select-agreement="addAgreement"\n                    />\n                </div>\n                <div class="modal-footer">\n                    <button\n                        class="btn btn-default deny cancel"\n                        type="button"\n                        data-bs-dismiss="modal"\n                    >\n                        {{ $__("Close") }}\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div id="package_agreements">\n        <div\n            v-for="(\n                package_agreement, counter\n            ) in erm_package.package_agreements"\n            v-bind:key="counter"\n        >\n            <router-link\n                :to="{\n                    name: \'AgreementsShow\',\n                    params: {\n                        agreement_id: package_agreement.agreement.agreement_id,\n                    },\n                }"\n                >{{ package_agreement.agreement.name }}</router-link\n            >\n            &nbsp;\n            <a\n                href="#"\n                @click.prevent="deleteAgreement(counter)"\n                :title="$__(\'Remove this agreement\')"\n                ><i class="fa fa-trash"></i\n            ></a>\n        </div>\n        <a class="btn btn-default btn-xs" @click="showAddAgreementModal()"\n            ><font-awesome-icon icon="plus" /> {{ $__("Add new agreement") }}</a\n        >\n    </div>\n</template>\n\n<script>\nimport AgreementsList from "./AgreementsList.vue"\nimport { APIClient } from "../../fetch/api-client.js"\nimport { setWarning, removeMessages } from "../../messages"\n\nexport default {\n    data() {},\n    beforeCreate() {},\n    methods: {\n        serializeAgreement() {\n            let erm_package = JSON.parse(JSON.stringify(this.erm_package)) // copy\n            delete erm_package.vendor_id // This is the EBSCO\'s vendor_id\n\n            // Remove remote data, we don\'t need to store them (don\'t we?)\n            // Keep the name, it\'s mandatory by the REST API specs\n            delete erm_package.package_type\n            delete erm_package.content_type\n            erm_package.external_id = erm_package.package_id\n            delete erm_package.package_id\n            erm_package.provider = "ebsco"\n            erm_package.package_id = erm_package.koha_internal_id\n            delete erm_package.koha_internal_id\n            delete erm_package.resources\n            delete erm_package.vendor\n            delete erm_package.resources_count\n            delete erm_package.is_selected\n            erm_package.package_agreements = erm_package.package_agreements.map(\n                ({ package_id, agreement, ...keepAttrs }) => keepAttrs\n            )\n            return erm_package\n        },\n        showAddAgreementModal() {\n            $("#add_agreement").modal("show")\n        },\n        addAgreement(agreement_id) {\n            removeMessages()\n            $("#add_agreement").modal("hide")\n            let erm_package = this.serializeAgreement()\n            // Only add if it does not exist\n            if (\n                !erm_package.package_agreements.find(\n                    a => a.agreement_id == agreement_id\n                )\n            ) {\n                erm_package.package_agreements.push({ agreement_id })\n                const client = APIClient.erm\n\n                if (this.erm_package.koha_internal_id) {\n                    let package_id = erm_package.package_id\n                    delete erm_package.package_id\n                    client.localPackages.update(erm_package, package_id).then(\n                        success => {\n                            this.$emit("refresh-agreements")\n                        },\n                        error => {}\n                    )\n                } else {\n                    client.localPackages.create(erm_package).then(\n                        success => {\n                            this.$emit("refresh-agreements")\n                        },\n                        error => {}\n                    )\n                }\n            } else {\n                setWarning(\n                    this.$__(\n                        "This agreement is already linked with this package"\n                    )\n                )\n            }\n        },\n        deleteAgreement(counter) {\n            let erm_package = this.serializeAgreement()\n            erm_package.package_agreements.splice(counter, 1)\n            let package_id = erm_package.package_id\n            delete erm_package.package_id\n            const client = APIClient.erm\n            client.localPackages.update(erm_package, package_id).then(\n                success => {\n                    this.$emit("refresh-agreements")\n                },\n                error => {}\n            )\n        },\n    },\n    props: {\n        erm_package: Object,\n    },\n    components: {\n        AgreementsList,\n    },\n    emits: ["refresh-agreements"],\n    name: "EHoldingsEBSCOPackageAgreements",\n}\n<\/script>\n<style>\n#add_agreement #agreements_list table {\n    display: table;\n}\n#add_agreement .filters label {\n    float: none !important;\n}\n#add_agreement .filters input[type="checkbox"] {\n    margin-left: 0 !important;\n}\n</style>\n'],sourceRoot:""}]);let l=o},2798:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(7537),i=n.n(a),r=n(3645),o=n.n(r)()(i());o.push([e.id,"\n#filters[data-v-5efd443a] {\n    margin: 0;\n}\n","",{version:3,sources:["webpack://./koha-tmpl/intranet-tmpl/prog/js/vue/components/ERM/EHoldingsEBSCOPackageTitlesList.vue"],names:[],mappings:";AAyMA;IACI,SAAS;AACb",sourcesContent:['<template>\n    <div id="title_list_result">\n        <div id="filters">\n            <a href="#" @click.prevent="toggle_filters($event)"\n                ><i class="fa fa-search"></i>\n                {{\n                    display_filters ? $__("Hide filters") : $__("Show filters")\n                }}\n            </a>\n            <fieldset v-if="display_filters">\n                <ol>\n                    <li>\n                        <label>{{ $__("Title") }}:</label>\n                        <input\n                            type="text"\n                            id="publication_title_filter"\n                            v-model="filters.publication_title"\n                            @keyup.enter="filter_table"\n                        />\n                    </li>\n                    <li>\n                        <label>{{ $__("Publication type") }}:</label>\n                        <select\n                            id="publication_type_filter"\n                            v-model="filters.publication_type"\n                        >\n                            <option value="">{{ $__("All") }}</option>\n                            <option\n                                v-for="type in av_title_publication_types"\n                                :key="type.value"\n                                :value="type.value"\n                            >\n                                {{ type.description }}\n                            </option>\n                        </select>\n                    </li>\n                    <li>\n                        <label>{{ $__("Selection status") }}:</label>\n                        <select\n                            id="selection_type_filter"\n                            v-model="filters.selection_type"\n                        >\n                            <option value="0">{{ $__("All") }}</option>\n                            <option value="1">{{ $__("Selected") }}</option>\n                            <option value="2">{{ $__("Not selected") }}</option>\n                        </select>\n                    </li>\n                </ol>\n\n                <input\n                    @click="filter_table"\n                    id="filter_table"\n                    type="button"\n                    :value="$__(\'Filter\')"\n                />\n            </fieldset>\n        </div>\n        <KohaTable ref="table" v-bind="tableOptions" @show="doShow"></KohaTable>\n    </div>\n</template>\n\n<script>\nimport { inject, ref, reactive } from "vue"\nimport { storeToRefs } from "pinia"\nimport KohaTable from "../KohaTable.vue"\n\nexport default {\n    setup() {\n        const AVStore = inject("AVStore")\n        const { av_title_publication_types } = storeToRefs(AVStore)\n        const { get_lib_from_av, map_av_dt_filter } = AVStore\n\n        const table = ref()\n        const filters = reactive({\n            publication_title: "",\n            publication_type: "",\n            selection_type: "",\n        })\n\n        return {\n            av_title_publication_types,\n            get_lib_from_av,\n            escape_str,\n            map_av_dt_filter,\n            table,\n        }\n    },\n    data() {\n        this.filters = {\n            publication_title: this.$route.query.publication_title || "",\n            publication_type: this.$route.query.publication_type || "",\n            selection_type: this.$route.query.selection_type || "",\n        }\n        let filters = this.filters\n        return {\n            tableOptions: {\n                columns: this.getTableColumns(),\n                url:\n                    "/api/v1/erm/eholdings/ebsco/packages/" +\n                    this.package_id +\n                    "/resources",\n                options: {\n                    embed: "title",\n                    ordering: false,\n                    dom: \'<"top pager"<"table_entries"ilp>>tr<"bottom pager"ip>\',\n                    lengthMenu: [\n                        [10, 20, 50, 100],\n                        [10, 20, 50, 100],\n                    ],\n                },\n                filters_options: {\n                    1: () =>\n                        this.map_av_dt_filter("av_title_publication_types"),\n                },\n                actions: { 0: ["show"] },\n                default_filters: {\n                    publication_title: function () {\n                        return filters.publication_title || ""\n                    },\n                    publication_type: function () {\n                        return filters.publication_type || ""\n                    },\n                    selection_type: function () {\n                        return filters.selection_type || ""\n                    },\n                },\n            },\n            display_filters: false,\n        }\n    },\n    methods: {\n        doShow: function ({ resource_id }, dt, event) {\n            event.preventDefault()\n            this.$router.push({\n                name: "EHoldingsEBSCOResourcesShow",\n                params: { resource_id },\n            })\n        },\n        filter_table: function () {\n            this.$refs.table.redraw(\n                "/api/v1/erm/eholdings/ebsco/packages/" +\n                    this.package_id +\n                    "/resources"\n            )\n        },\n        toggle_filters: function (e) {\n            this.display_filters = !this.display_filters\n        },\n        getTableColumns: function () {\n            let get_lib_from_av = this.get_lib_from_av\n            let map_av_dt_filter = this.map_av_dt_filter\n\n            return [\n                {\n                    title: __("Name"),\n                    data: "title.publication_title",\n                    searchable: false,\n                    orderable: false,\n                    render: function (data, type, row, meta) {\n                        let node =\n                            \'<a href="/cgi-bin/koha/erm/eholdings/ebsco/resources/\' +\n                            row.resource_id +\n                            \'" class="show">\' +\n                            escape_str(`${row.title.publication_title}`) +\n                            "</a>"\n                        if (row.is_selected) {\n                            node +=\n                                " " +\n                                \'<i class="fa fa-check-square" style="color: green; float: right;" title="\' +\n                                __("Is selected") +\n                                \'" />\'\n                        }\n                        return node\n                    },\n                },\n                {\n                    title: __("Publication type"),\n                    data: "title.publication_type",\n                    searchable: false,\n                    orderable: false,\n                    render: function (data, type, row, meta) {\n                        return escape_str(\n                            get_lib_from_av(\n                                "av_title_publication_types",\n                                row.title.publication_type\n                            )\n                        )\n                    },\n                },\n            ]\n        },\n    },\n    props: {\n        package_id: String,\n    },\n    components: { KohaTable },\n    name: "EHoldingsEBSCOPackageTitlesList",\n}\n<\/script>\n\n<style scoped>\n#filters {\n    margin: 0;\n}\n</style>\n'],sourceRoot:""}]);let l=o},1144:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(7537),i=n.n(a),r=n(3645),o=n.n(r)()(i());o.push([e.id,"\nfieldset.rows label[data-v-f7262ca2] {\n    width: 25rem;\n}\n","",{version:3,sources:["webpack://./koha-tmpl/intranet-tmpl/prog/js/vue/components/ERM/EHoldingsEBSCOPackagesShow.vue"],names:[],mappings:";AA2MA;IACI,YAAY;AAChB",sourcesContent:['<template>\n    <div v-if="!initialized">{{ $__("Loading") }}</div>\n    <div v-else-if="erm_package" id="packages_show">\n        <h2>\n            {{ $__("Package #%s").format(erm_package.package_id) }}\n            <span v-if="!updating_is_selected">\n                <a\n                    v-if="!erm_package.is_selected"\n                    class="btn btn-default btn-xs"\n                    role="button"\n                    @click="add_to_holdings"\n                    ><font-awesome-icon icon="plus" />\n                    {{ $__("Add package to holdings") }}</a\n                >\n                <a\n                    v-else\n                    class="btn btn-default btn-xs"\n                    role="button"\n                    id="remove-from-holdings"\n                    @click="remove_from_holdings"\n                    ><font-awesome-icon icon="minus" />\n                    {{ $__("Remove package from holdings") }}</a\n                > </span\n            ><span v-else><font-awesome-icon icon="spinner" /></span>\n        </h2>\n        <div>\n            <fieldset class="rows">\n                <ol>\n                    <li>\n                        <label>{{ $__("Package name") }}:</label>\n                        <span>\n                            {{ erm_package.name }}\n                        </span>\n                    </li>\n                    <li v-if="erm_package.vendor">\n                        <label>{{ $__("Vendor") }}:</label>\n                        <span>{{ erm_package.vendor.name }}</span>\n                    </li>\n                    <li v-if="false">\n                        <label>{{ $__("External ID") }}:</label>\n                        <span>\n                            <span v-if="false"\n                                >FIXME - Does not replace this v-if with an HTML\n                                comment, it breaks xgettext</span\n                            >\n                            <span v-if="false"\n                                >FIXME - Create a syspref to store the URL</span\n                            >\n                            <a\n                                :href="`https://replace_with_syspref_value_here.folio.ebsco.com/eholdings/packages/${erm_package.vendor.external_id}-${erm_package.external_id}`"\n                            >\n                                {{ erm_package.vendor.external_id }}-{{\n                                    erm_package.external_id\n                                }}\n                            </a>\n                        </span>\n                    </li>\n                    <li>\n                        <label>{{ $__("Package type") }}:</label>\n                        <span>{{\n                            get_lib_from_av(\n                                "av_package_types",\n                                erm_package.package_type\n                            )\n                        }}</span>\n                    </li>\n                    <li>\n                        <label>{{ $__("Content type") }}:</label>\n                        <span>{{\n                            get_lib_from_av(\n                                "av_package_content_types",\n                                erm_package.content_type\n                            )\n                        }}</span>\n                    </li>\n                    <li v-if="erm_package.created_on">\n                        <label>{{ $__("Created on") }}:</label>\n                        <span>{{ format_date(erm_package.created_on) }}</span>\n                    </li>\n\n                    <li>\n                        <label>Agreements</label>\n                        <EHoldingsPackageAgreements\n                            :erm_package="erm_package"\n                            @refresh-agreements="refreshAgreements"\n                        />\n                    </li>\n\n                    <li>\n                        <label>{{\n                            $__("Titles (%s)").format(\n                                erm_package.resources_count\n                            )\n                        }}</label>\n                    </li>\n                </ol>\n                <div v-if="erm_package.resources_count">\n                    <EHoldingsPackageTitlesList\n                        :package_id="erm_package.package_id.toString()"\n                    />\n                </div>\n            </fieldset>\n            <fieldset class="action">\n                <router-link\n                    :to="{ name: \'EHoldingsEBSCOPackagesList\' }"\n                    role="button"\n                    class="cancel"\n                    >{{ $__("Close") }}</router-link\n                >\n            </fieldset>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { inject } from "vue"\nimport EHoldingsPackageAgreements from "./EHoldingsEBSCOPackageAgreements.vue"\nimport EHoldingsPackageTitlesList from "./EHoldingsEBSCOPackageTitlesList.vue"\nimport { APIClient } from "../../fetch/api-client.js"\n\nexport default {\n    setup() {\n        const format_date = $date\n\n        const AVStore = inject("AVStore")\n        const { get_lib_from_av } = AVStore\n\n        return {\n            format_date,\n            get_lib_from_av,\n        }\n    },\n    data() {\n        return {\n            erm_package: {\n                package_id: null,\n                vendor_id: null,\n                name: "",\n                external_id: "",\n                provider: "",\n                package_type: "",\n                content_type: "",\n                created_on: null,\n                resources: null,\n                package_agreements: [],\n            },\n            initialized: false,\n            updating_is_selected: false,\n        }\n    },\n    beforeRouteEnter(to, from, next) {\n        next(vm => {\n            vm.getPackage(to.params.package_id)\n        })\n    },\n    beforeRouteUpdate(to, from) {\n        this.erm_package = this.getPackage(to.params.package_id)\n    },\n    methods: {\n        getPackage(package_id) {\n            const client = APIClient.erm\n            client.EBSCOPackages.get(package_id).then(\n                erm_package => {\n                    this.erm_package = erm_package\n                    this.initialized = true\n                    this.updating_is_selected = false\n                },\n                error => {}\n            )\n        },\n        edit_selected(is_selected) {\n            this.updating_is_selected = true\n            const client = APIClient.erm\n            client.EBSCOPackages.patch(this.erm_package.package_id, {\n                is_selected,\n            }).then(\n                result => {\n                    // Refresh the page. We should not need that actually.\n                    this.getPackage(this.erm_package.package_id)\n                },\n                error => {}\n            )\n        },\n        add_to_holdings() {\n            this.edit_selected(true)\n        },\n        remove_from_holdings() {\n            this.edit_selected(false)\n        },\n        refreshAgreements() {\n            // FIXME We could GET /erm/eholdings/packages/$package_id/agreements instead\n            this.initialized = false\n            this.getPackage(this.erm_package.package_id)\n        },\n    },\n    components: {\n        EHoldingsPackageAgreements,\n        EHoldingsPackageTitlesList,\n    },\n    name: "EHoldingsEBSCOPackagesShow",\n}\n<\/script>\n<style scoped>\nfieldset.rows label {\n    width: 25rem;\n}\n</style>\n'],sourceRoot:""}]);let l=o},3154:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(7537),i=n.n(a),r=n(3645),o=n.n(r)()(i());o.push([e.id,"\nfieldset.rows label[data-v-0e812b51] {\n    width: 25rem;\n}\n","",{version:3,sources:["webpack://./koha-tmpl/intranet-tmpl/prog/js/vue/components/ERM/EHoldingsEBSCOResourcesShow.vue"],names:[],mappings:";AAmMA;IACI,YAAY;AAChB",sourcesContent:['<template>\n    <div v-if="!initialized">{{ $__("Loading") }}</div>\n    <div v-else-if="resource" id="eholdings_resources_show">\n        <h2>\n            {{ $__("Resource #%s").format(resource.resource_id) }}\n            <span v-if="!updating_is_selected">\n                <a\n                    v-if="!resource.is_selected"\n                    class="btn btn-default btn-xs"\n                    role="button"\n                    @click="add_to_holdings"\n                    ><font-awesome-icon icon="plus" />\n                    {{ $__("Add title to holdings") }}</a\n                >\n                <a\n                    v-else\n                    class="btn btn-default btn-xs"\n                    role="button"\n                    id="remove-from-holdings"\n                    @click="remove_from_holdings"\n                    ><font-awesome-icon icon="minus" />\n                    {{ $__("Remove title from holdings") }}</a\n                > </span\n            ><span v-else><font-awesome-icon icon="spinner" /></span>\n        </h2>\n        <div>\n            <fieldset class="rows">\n                <legend>{{ $__("Resource information") }}</legend>\n                <ol>\n                    <li v-if="resource.resource_id">\n                        <label>{{ $__("Resource identifier") }}:</label>\n                        <span>\n                            {{ resource.resource_id }}\n                        </span>\n                    </li>\n                    <li>\n                        <label>{{ $__("Publication title") }}:</label>\n                        <span\n                            ><router-link\n                                :to="{\n                                    name: \'EHoldingsEBSCOTitlesShow\',\n                                    params: { title_id: resource.title_id },\n                                }"\n                                >{{\n                                    resource.title.publication_title\n                                }}</router-link\n                            ></span\n                        >\n                    </li>\n                    <li>\n                        <label>{{ $__("Publisher name") }}:</label>\n                        <span>\n                            {{ resource.title.publisher_name }}\n                        </span>\n                    </li>\n                    <li>\n                        <label>{{ $__("Publication type") }}:</label>\n                        <span>\n                            {{ resource.title.publication_type }}\n                        </span>\n                    </li>\n                    <li v-if="resource.title.print_identifier">\n                        <label>{{ $__("Print-format identifier") }}:</label>\n                        <span>\n                            {{ resource.title.print_identifier }}\n                        </span>\n                    </li>\n                    <li v-if="resource.title.online_identifier">\n                        <label>{{ $__("Online-format identifier") }}:</label>\n                        <span>\n                            {{ resource.title.online_identifier }}\n                        </span>\n                    </li>\n                </ol>\n            </fieldset>\n\n            <fieldset class="rows">\n                <ol>\n                    <li>\n                        <label>{{ $__("Package") }}:</label>\n                        <span\n                            ><router-link\n                                :to="{\n                                    name: \'EHoldingsEBSCOPackagesShow\',\n                                    params: { package_id: resource.package_id },\n                                }"\n                                >{{ resource.package.name }}</router-link\n                            ></span\n                        >\n                    </li>\n\n                    <li>\n                        <label>{{ $__("Vendor") }}:</label>\n                        <span v-if="resource.vendor">\n                            {{ resource.vendor.name }}\n                        </span>\n                    </li>\n                    <li v-if="resource.package.content_type">\n                        <label>{{ $__("Package content type") }}:</label>\n                        <span>{{ resource.package.content_type }}</span>\n                    </li>\n                </ol>\n            </fieldset>\n\n            <fieldset class="rows">\n                <legend>Resource settings</legend>\n                <ol>\n                    <li>\n                        <label>{{ $__("Coverage dates") }}:</label>\n                        <span\n                            >{{ format_date(resource.started_on) }}-{{\n                                format_date(resource.ended_on)\n                            }}</span\n                        >\n                    </li>\n                </ol>\n            </fieldset>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { inject } from "vue"\nimport { storeToRefs } from "pinia"\nimport { APIClient } from "../../fetch/api-client.js"\n\nexport default {\n    setup() {\n        const format_date = $date\n\n        return {\n            format_date,\n        }\n    },\n    data() {\n        return {\n            resource: {\n                resource_id: null,\n                title_id: null,\n                package_id: null,\n                started_on: "",\n                ended_on: "",\n                proxy: "",\n                title: {},\n                package: {},\n            },\n            initialized: false,\n            updating_is_selected: false,\n        }\n    },\n\n    beforeRouteEnter(to, from, next) {\n        next(vm => {\n            vm.getResource(to.params.resource_id)\n        })\n    },\n    beforeRouteUpdate(to, from) {\n        this.resource = this.getResource(to.params.resource_id)\n    },\n    methods: {\n        getResource(resource_id) {\n            const client = APIClient.erm\n            client.EBSCOResources.get(resource_id).then(\n                resource => {\n                    this.resource = resource\n                    this.initialized = true\n                    this.updating_is_selected = false\n                },\n                error => {}\n            )\n        },\n        edit_selected(is_selected) {\n            this.updating_is_selected = true\n            const client = APIClient.erm\n            client.EBSCOResources.patch(this.resource.resource_id, {\n                is_selected,\n            }).then(\n                result => {\n                    // Refresh the page. We should not need that actually.\n                    this.getResource(this.resource.resource_id)\n                },\n                error => {}\n            )\n        },\n        add_to_holdings() {\n            this.edit_selected(true)\n        },\n        remove_from_holdings() {\n            this.edit_selected(false)\n        },\n    },\n    name: "EHoldingsEBSCOResourcesShow",\n}\n<\/script>\n<style scoped>\nfieldset.rows label {\n    width: 25rem;\n}\n</style>\n'],sourceRoot:""}]);let l=o},9220:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(7537),i=n.n(a),r=n(3645),o=n.n(r)()(i());o.push([e.id,"\n#package_list[data-v-25af7a02] {\n    display: table;\n}\n#filters fieldset[data-v-25af7a02] {\n    margin: 0;\n}\n","",{version:3,sources:["webpack://./koha-tmpl/intranet-tmpl/prog/js/vue/components/ERM/EHoldingsEBSCOTitlePackagesList.vue"],names:[],mappings:";AAmMA;IACI,cAAc;AAClB;AACA;IACI,SAAS;AACb",sourcesContent:['<template>\n    <div id="package_list_result">\n        <div id="filters">\n            <a href="#" @click.prevent="toggle_filters($event)"\n                ><i class="fa fa-search"></i>\n                {{\n                    display_filters ? $__("Hide filters") : $__("Show filters")\n                }}\n            </a>\n            <fieldset v-if="display_filters" id="filters">\n                <ol>\n                    <li>\n                        <label>{{ $__("Package name") }}:</label>\n                        <input\n                            type="text"\n                            id="package_name_filter"\n                            v-model="filters.package_name"\n                            @keyup.enter="filter_table"\n                        />\n                    </li>\n                    <li>\n                        <label>{{ $__("Selection status") }}:</label>\n                        <select\n                            id="selection_type_filter"\n                            v-model="filters.selection_type"\n                        >\n                            <option value="0">{{ $__("All") }}</option>\n                            <option value="1">{{ $__("Selected") }}</option>\n                            <option value="2">{{ $__("Not selected") }}</option>\n                        </select>\n                    </li>\n                </ol>\n                <input\n                    @click="filter_table"\n                    id="filter_table"\n                    type="button"\n                    :value="$__(\'Filter\')"\n                />\n            </fieldset>\n        </div>\n        <table :id="table_id"></table>\n    </div>\n</template>\n\n<script>\nimport { createVNode, render } from "vue"\nimport { useDataTable } from "../../composables/datatables"\n\nexport default {\n    setup() {\n        const table_id = "package_list"\n        useDataTable(table_id)\n\n        return {\n            table_id,\n        }\n    },\n    data() {\n        return {\n            filters: {\n                package_name: "",\n                selection_type: 0,\n            },\n            display_filters: false,\n        }\n    },\n    methods: {\n        show_resource: function (resource_id) {\n            this.$router.push({\n                name: "EHoldingsEBSCOResourcesShow",\n                params: { resource_id },\n            })\n        },\n        toggle_filters: function (e) {\n            this.display_filters = !this.display_filters\n        },\n        filter_table: function () {\n            $("#" + this.table_id)\n                .DataTable()\n                .draw()\n        },\n        build_datatable: function () {\n            let show_resource = this.show_resource\n            let resources = this.resources\n            let filters = this.filters\n            let table_id = this.table_id\n            let router = this.$router\n\n            $.fn.dataTable.ext.search = $.fn.dataTable.ext.search.filter(\n                search => search.name != "apply_filter"\n            )\n            $("#" + table_id).dataTable({\n                ...dataTablesDefaults,\n                ...{\n                    data: resources,\n                    embed: ["package.name"],\n                    ordering: false,\n                    dom: \'<"top pager"<"table_entries"ilp>>tr<"bottom pager"ip>\',\n                    lengthMenu: [\n                        [10, 20, 50, 100],\n                        [10, 20, 50, 100],\n                    ],\n                    autoWidth: false,\n                    columns: [\n                        {\n                            title: __("Name"),\n                            data: "package.name",\n                            searchable: false,\n                            orderable: false,\n                            render: function (data, type, row, meta) {\n                                // Rendering done in drawCallback\n                                return ""\n                            },\n                            width: "100%",\n                        },\n                    ],\n                    drawCallback: function (settings) {\n                        var api = new $.fn.dataTable.Api(settings)\n\n                        if (!api.rows({ search: "applied" }).count()) return\n\n                        $.each(\n                            $(this).find("tbody tr td:first-child"),\n                            function (index, e) {\n                                let tr = $(this).parent()\n                                let row = api.row(tr).data()\n                                if (!row) return // Happen if the table is empty\n                                let { href } = router.resolve({\n                                    name: "EHoldingsEBSCOResourcesShow",\n                                    params: { resource_id: row.resource_id },\n                                })\n                                let n = createVNode(\n                                    "a",\n                                    {\n                                        role: "button",\n                                        href,\n                                        onClick: e => {\n                                            e.preventDefault()\n                                            show_resource(row.resource_id)\n                                        },\n                                    },\n                                    `${row.package.name}`\n                                )\n                                if (row.is_selected) {\n                                    n = createVNode("span", {}, [\n                                        n,\n                                        " ",\n                                        createVNode("i", {\n                                            class: "fa fa-check-square",\n                                            style: {\n                                                color: "green",\n                                                float: "right",\n                                            },\n                                            title: __("Is selected"),\n                                        }),\n                                    ])\n                                }\n                                render(n, e)\n                            }\n                        )\n                    },\n                    initComplete: function () {\n                        $.fn.dataTable.ext.search.push(function apply_filter(\n                            settings,\n                            data,\n                            dataIndex,\n                            row\n                        ) {\n                            return (\n                                row.package.name.match(\n                                    new RegExp(filters.package_name, "i")\n                                ) &&\n                                (filters.selection_type == 0 ||\n                                    (filters.selection_type == 1 &&\n                                        row.is_selected) ||\n                                    (filters.selection_type == 2 &&\n                                        !row.is_selected))\n                            )\n                        })\n                    },\n                },\n            })\n        },\n    },\n    mounted() {\n        this.build_datatable()\n    },\n    props: {\n        resources: Array,\n    },\n    name: "EHoldingsEBSCOTitlePackagesList",\n}\n<\/script>\n\n<style scoped>\n#package_list {\n    display: table;\n}\n#filters fieldset {\n    margin: 0;\n}\n</style>\n'],sourceRoot:""}]);let l=o},4649:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(7537),i=n.n(a),r=n(3645),o=n.n(r)()(i());o.push([e.id,"\nfieldset.rows label[data-v-7931d542] {\n    width: 25rem;\n}\n","",{version:3,sources:["webpack://./koha-tmpl/intranet-tmpl/prog/js/vue/components/ERM/EHoldingsEBSCOTitlesShow.vue"],names:[],mappings:";AA+TA;IACI,YAAY;AAChB",sourcesContent:['<template>\n    <div v-if="!initialized">{{ $__("Loading") }}</div>\n    <div v-else-if="title" id="eholdings_title_show">\n        <h2>\n            {{ $__("Title #%s").format(title.title_id) }}\n        </h2>\n        <div>\n            <fieldset class="rows">\n                <ol>\n                    <li v-if="title.title_id">\n                        <label>{{ $__("Title identifier") }}:</label>\n                        <span>\n                            {{ title.title_id }}\n                        </span>\n                    </li>\n                    <li>\n                        <label>{{ $__("Publication title") }}:</label>\n                        <span>\n                            {{ title.publication_title }}\n                            <a\n                                v-if="title.biblio_id"\n                                :href="`/cgi-bin/koha/catalogue/detail.pl?biblionumber=${title.biblio_id}`"\n                            >\n                                {{ $__("Local bibliographic record") }}\n                            </a>\n                        </span>\n                    </li>\n                    <li v-if="title.print_identifier">\n                        <label>{{ $__("Print-format identifier") }}:</label>\n                        <span>\n                            {{ title.print_identifier }}\n                        </span>\n                    </li>\n                    <li v-if="title.online_identifier">\n                        <label>{{ $__("Online-format identifier") }}:</label>\n                        <span>\n                            {{ title.online_identifier }}\n                        </span>\n                    </li>\n                    <li v-if="title.date_first_issue_online">\n                        <label\n                            >{{\n                                $__(\n                                    "Date of first serial issue available online"\n                                )\n                            }}:</label\n                        >\n                        <span>\n                            {{ title.date_first_issue_online }}\n                        </span>\n                    </li>\n                    <li v-if="title.num_first_vol_online">\n                        <label\n                            >{{\n                                $__("Number of first volume available online")\n                            }}:</label\n                        >\n                        <span>\n                            {{ title.num_first_vol_online }}\n                        </span>\n                    </li>\n                    <li v-if="title.num_first_issue_online">\n                        <label\n                            >{{\n                                $__("Number of first issue available online")\n                            }}:</label\n                        >\n                        <span>\n                            {{ title.num_first_issue_online }}\n                        </span>\n                    </li>\n                    <li v-if="title.date_last_issue_online">\n                        <label\n                            >{{\n                                $__("Date of last issue available online")\n                            }}:</label\n                        >\n                        <span>\n                            {{ title.date_last_issue_online }}\n                        </span>\n                    </li>\n                    <li v-if="title.num_last_vol_online">\n                        <label\n                            >{{\n                                $__("Number of last volume available online")\n                            }}:</label\n                        >\n                        <span>\n                            {{ title.num_last_vol_online }}\n                        </span>\n                    </li>\n                    <li v-if="title.num_last_issue_online">\n                        <label\n                            >{{\n                                $__("Number of last issue available online")\n                            }}:</label\n                        >\n                        <span>\n                            {{ title.num_last_issue_online }}\n                        </span>\n                    </li>\n                    <li v-if="title.title_url">\n                        <label>{{ $__("Title-level URL") }}:</label>\n                        <span>\n                            {{ title.title_url }}\n                        </span>\n                    </li>\n                    <li v-if="title.first_author">\n                        <label>{{ $__("First author") }}:</label>\n                        <span>\n                            {{ title.first_author }}\n                        </span>\n                    </li>\n                    <li v-if="title.embargo_info">\n                        <label>{{ $__("Embargo information") }}:</label>\n                        <span>\n                            {{ title.embargo_info }}\n                        </span>\n                    </li>\n                    <li v-if="title.coverage_depth">\n                        <label>{{ $__("Coverage depth") }}:</label>\n                        <span>\n                            {{ title.coverage_depth }}\n                        </span>\n                    </li>\n                    <li v-if="title.notes">\n                        <label>{{ $__("Notes") }}:</label>\n                        <span>\n                            {{ title.notes }}\n                        </span>\n                    </li>\n                    <li v-if="title.publisher_name">\n                        <label>{{ $__("Publisher name") }}:</label>\n                        <span>\n                            {{ title.publisher_name }}\n                        </span>\n                    </li>\n                    <li v-if="title.publication_type">\n                        <label>{{ $__("Publication type") }}:</label>\n                        <span\n                            >{{\n                                get_lib_from_av(\n                                    "av_title_publication_types",\n                                    title.publication_type\n                                )\n                            }}\n                        </span>\n                    </li>\n                    <li v-if="title.date_monograph_published_print">\n                        <label\n                            >{{\n                                $__(\n                                    "Date the monograph is first published in print"\n                                )\n                            }}:</label\n                        >\n                        <span>\n                            {{ title.date_monograph_published_print }}\n                        </span>\n                    </li>\n                    <li v-if="title.date_monograph_published_online">\n                        <label\n                            >{{\n                                $__(\n                                    "Date the monograph is first published online"\n                                )\n                            }}:</label\n                        >\n                        <span>\n                            {{ title.date_monograph_published_online }}\n                        </span>\n                    </li>\n                    <li v-if="title.monograph_volume">\n                        <label\n                            >{{ $__("Number of volume for monograph") }}:</label\n                        >\n                        <span>\n                            {{ title.monograph_volume }}\n                        </span>\n                    </li>\n                    <li v-if="title.monograph_edition">\n                        <label>{{ $__("Edition of the monograph") }}:</label>\n                        <span>\n                            {{ title.monograph_edition }}\n                        </span>\n                    </li>\n                    <li v-if="title.first_editor">\n                        <label>{{ $__("First editor") }}:</label>\n                        <span>\n                            {{ title.first_editor }}\n                        </span>\n                    </li>\n                    <li v-if="title.parent_publication_title_id">\n                        <label\n                            >{{\n                                $__(\n                                    "Title identifier of the parent publication"\n                                )\n                            }}:</label\n                        >\n                        <span>\n                            {{ title.parent_publication_title_id }}\n                        </span>\n                    </li>\n                    <li v-if="title.preceding_publication_title_id">\n                        <label\n                            >{{\n                                $__(\n                                    "Title identifier of any preceding publication title"\n                                )\n                            }}:</label\n                        >\n                        <span>\n                            {{ title.preceding_publication_title_id }}\n                        </span>\n                    </li>\n                    <li v-if="title.access_type">\n                        <label>{{ $__("Access type") }}:</label>\n                        <span>\n                            {{ title.access_type }}\n                        </span>\n                    </li>\n                    <li>\n                        <label>Packages ({{ title.resources.length }})</label>\n                        <div v-if="title.resources.length">\n                            <EHoldingsTitlePackagesList\n                                :resources="title.resources"\n                            />\n                        </div>\n                    </li>\n                </ol>\n            </fieldset>\n            <fieldset class="action">\n                <router-link\n                    :to="{ name: \'EHoldingsEBSCOTitlesList\' }"\n                    role="button"\n                    class="cancel"\n                    >{{ $__("Close") }}</router-link\n                >\n            </fieldset>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { inject } from "vue"\nimport EHoldingsTitlePackagesList from "./EHoldingsEBSCOTitlePackagesList.vue"\nimport { APIClient } from "../../fetch/api-client.js"\n\nexport default {\n    setup() {\n        const AVStore = inject("AVStore")\n        const { get_lib_from_av } = AVStore\n\n        return {\n            get_lib_from_av,\n        }\n    },\n    data() {\n        return {\n            title: {\n                title_id: null,\n                publication_title: "",\n                external_id: "",\n                print_identifier: "",\n                online_identifier: "",\n                date_first_issue_online: "",\n                num_first_vol_online: "",\n                num_first_issue_online: "",\n                date_last_issue_online: "",\n                num_last_vol_online: "",\n                num_last_issue_online: "",\n                title_url: "",\n                first_author: "",\n                embargo_info: "",\n                coverage_depth: "",\n                notes: "",\n                publisher_name: "",\n                publication_type: "",\n                date_monograph_published_print: "",\n                date_monograph_published_online: "",\n                monograph_volume: "",\n                monograph_edition: "",\n                first_editor: "",\n                parent_publication_title_id: "",\n                preceding_publication_title_id: "",\n                access_type: "",\n                resources: [],\n            },\n            initialized: false,\n        }\n    },\n    beforeRouteEnter(to, from, next) {\n        next(vm => {\n            vm.getTitle(to.params.title_id)\n        })\n    },\n    beforeRouteUpdate(to, from) {\n        this.title = this.getTitle(to.params.title_id)\n    },\n    methods: {\n        getTitle(title_id) {\n            const client = APIClient.erm\n            client.EBSCOTitles.get(title_id).then(\n                title => {\n                    this.title = title\n                    this.initialized = true\n                },\n                error => {}\n            )\n        },\n    },\n    components: {\n        EHoldingsTitlePackagesList,\n    },\n    name: "EHoldingsEBSCOTitlesShow",\n}\n<\/script>\n<style scoped>\nfieldset.rows label {\n    width: 25rem;\n}\n</style>\n'],sourceRoot:""}]);let l=o},5085:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(7537),i=n.n(a),r=n(3645),o=n.n(r)()(i());o.push([e.id,"\nfieldset.rows label[data-v-4c60eb1c] {\n    width: 25rem;\n}\n","",{version:3,sources:["webpack://./koha-tmpl/intranet-tmpl/prog/js/vue/components/ERM/EHoldingsLocalPackagesShow.vue"],names:[],mappings:";AA8NA;IACI,YAAY;AAChB",sourcesContent:['<template>\n    <div v-if="!initialized">{{ $__("Loading") }}</div>\n    <div v-else-if="erm_package" id="packages_show">\n        <Toolbar>\n            <ToolbarButton\n                :to="{\n                    name: \'EHoldingsLocalPackagesFormAddEdit\',\n                    params: { package_id: erm_package.package_id },\n                }"\n                icon="pencil"\n                :title="$__(\'Edit\')"\n            />\n            <a\n                @click="\n                    delete_package(erm_package.package_id, erm_package.name)\n                "\n                class="btn btn-default"\n                ><font-awesome-icon icon="trash" /> {{ $__("Delete") }}</a\n            >\n        </Toolbar>\n\n        <h2>\n            {{ $__("Package #%s").format(erm_package.package_id) }}\n        </h2>\n        <div>\n            <fieldset class="rows">\n                <ol>\n                    <li>\n                        <label>{{ $__("Package name") }}:</label>\n                        <span>\n                            {{ erm_package.name }}\n                        </span>\n                    </li>\n                    <li v-if="erm_package.vendor">\n                        <label>{{ $__("Vendor") }}:</label>\n                        <span>\n                            <a\n                                :href="`/cgi-bin/koha/acqui/booksellers.pl?booksellerid=${erm_package.vendor_id}`"\n                                >{{ erm_package.vendor.name }}</a\n                            >\n                        </span>\n                    </li>\n                    <li>\n                        <label>{{ $__("Package type") }}:</label>\n                        <span>{{\n                            get_lib_from_av(\n                                "av_package_types",\n                                erm_package.package_type\n                            )\n                        }}</span>\n                    </li>\n                    <li>\n                        <label>{{ $__("Content type") }}:</label>\n                        <span>{{\n                            get_lib_from_av(\n                                "av_package_content_types",\n                                erm_package.content_type\n                            )\n                        }}</span>\n                    </li>\n                    <li>\n                        <label>{{ $__("Notes") }}:</label>\n                        <span>{{ erm_package.notes }}</span>\n                    </li>\n                    <li v-if="erm_package.created_on">\n                        <label>{{ $__("Created on") }}:</label>\n                        <span>{{ format_date(erm_package.created_on) }}</span>\n                    </li>\n                    <li v-if="erm_package.package_agreements.length">\n                        <label>{{ $__("Agreements") }}</label>\n                        <div\n                            v-for="package_agreement in erm_package.package_agreements"\n                            :key="package_agreement.agreement_id"\n                        >\n                            <router-link\n                                :to="{\n                                    name: \'AgreementsShow\',\n                                    params: {\n                                        agreement_id:\n                                            package_agreement.agreement\n                                                .agreement_id,\n                                    },\n                                }"\n                                >{{\n                                    package_agreement.agreement.name\n                                }}</router-link\n                            >\n                        </div>\n                    </li>\n                    <li>\n                        <label>{{\n                            $__("Titles (%s)").format(\n                                erm_package.resources_count\n                            )\n                        }}</label>\n                    </li>\n                </ol>\n                <div v-if="erm_package.resources_count">\n                    <EHoldingsPackageTitlesList\n                        :package_id="erm_package.package_id.toString()"\n                    />\n                </div>\n            </fieldset>\n            <AdditionalFieldsDisplay\n                resource_type="package"\n                :additional_field_values="\n                    erm_package._strings.additional_field_values\n                "\n            />\n            <fieldset class="action">\n                <router-link\n                    :to="{ name: \'EHoldingsLocalPackagesList\' }"\n                    role="button"\n                    class="cancel"\n                    >{{ $__("Close") }}</router-link\n                >\n            </fieldset>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { inject } from "vue"\nimport EHoldingsPackageTitlesList from "./EHoldingsLocalPackageTitlesList.vue"\nimport { APIClient } from "../../fetch/api-client.js"\nimport Toolbar from "../Toolbar.vue"\nimport ToolbarButton from "../ToolbarButton.vue"\nimport AdditionalFieldsDisplay from "../AdditionalFieldsDisplay.vue"\n\nexport default {\n    setup() {\n        const format_date = $date\n\n        const { setConfirmationDialog, setMessage } = inject("mainStore")\n\n        const AVStore = inject("AVStore")\n        const { get_lib_from_av } = AVStore\n\n        return {\n            format_date,\n            get_lib_from_av,\n            setConfirmationDialog,\n            setMessage,\n        }\n    },\n    data() {\n        return {\n            erm_package: {\n                package_id: null,\n                vendor_id: null,\n                name: "",\n                external_id: "",\n                package_type: "",\n                content_type: "",\n                created_on: null,\n                resources: null,\n                package_agreements: [],\n                extended_attributes: [],\n                _strings: [],\n            },\n            initialized: false,\n        }\n    },\n    beforeRouteEnter(to, from, next) {\n        next(vm => {\n            vm.getPackage(to.params.package_id)\n        })\n    },\n    beforeRouteUpdate(to, from) {\n        this.erm_package = this.getPackage(to.params.package_id)\n    },\n    methods: {\n        getPackage(package_id) {\n            const client = APIClient.erm\n            client.localPackages.get(package_id).then(\n                erm_package => {\n                    this.erm_package = erm_package\n                    this.initialized = true\n                },\n                error => {}\n            )\n        },\n        delete_package: function (package_id, package_name) {\n            this.setConfirmationDialog(\n                {\n                    title: this.$__(\n                        "Are you sure you want to remove this package?"\n                    ),\n                    message: package_name,\n                    accept_label: this.$__("Yes, delete"),\n                    cancel_label: this.$__("No, do not delete"),\n                },\n                () => {\n                    const client = APIClient.erm\n                    client.localPackages.delete(package_id).then(\n                        success => {\n                            this.setMessage(\n                                this.$__("Local package %s deleted").format(\n                                    package_name\n                                ),\n                                true\n                            )\n                            this.$router.push({\n                                name: "EHoldingsLocalPackagesList",\n                            })\n                        },\n                        error => {}\n                    )\n                }\n            )\n        },\n    },\n    components: {\n        EHoldingsPackageTitlesList,\n        Toolbar,\n        ToolbarButton,\n        AdditionalFieldsDisplay,\n    },\n    name: "EHoldingsLocalPackagesShow",\n}\n<\/script>\n<style scoped>\nfieldset.rows label {\n    width: 25rem;\n}\n</style>\n'],sourceRoot:""}]);let l=o},6098:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(7537),i=n.n(a),r=n(3645),o=n.n(r)()(i());o.push([e.id,"\nfieldset.rows label[data-v-673e609b] {\n    width: 25rem;\n}\n","",{version:3,sources:["webpack://./koha-tmpl/intranet-tmpl/prog/js/vue/components/ERM/EHoldingsLocalResourcesShow.vue"],names:[],mappings:";AA0JA;IACI,YAAY;AAChB",sourcesContent:['<template>\n    <div v-if="!initialized">{{ $__("Loading") }}</div>\n    <div v-else-if="resource" id="eholdings_resources_show">\n        <h2>\n            {{ $__("Resource #%s").format(resource.resource_id) }}\n        </h2>\n        <div>\n            <fieldset class="rows">\n                <legend>{{ $__("Resource information") }}</legend>\n                <ol>\n                    <li v-if="resource.resource_id">\n                        <label>{{ $__("Resource identifier") }}:</label>\n                        <span>\n                            {{ resource.resource_id }}\n                        </span>\n                    </li>\n                    <li>\n                        <label>{{ $__("Publication title") }}:</label>\n                        <span\n                            ><router-link\n                                :to="{\n                                    name: \'EHoldingsLocalTitlesShow\',\n                                    params: { title_id: resource.title_id },\n                                }"\n                                >{{\n                                    resource.title.publication_title\n                                }}</router-link\n                            ></span\n                        >\n                    </li>\n                    <li>\n                        <label>{{ $__("Publisher name") }}:</label>\n                        <span>\n                            {{ resource.title.publisher_name }}\n                        </span>\n                    </li>\n                    <li>\n                        <label>{{ $__("Publication type") }}:</label>\n                        <span>\n                            {{ resource.title.publication_type }}\n                        </span>\n                    </li>\n                    <li v-if="resource.title.print_identifier">\n                        <label>{{ $__("Print-format identifier") }}:</label>\n                        <span>\n                            {{ resource.title.print_identifier }}\n                        </span>\n                    </li>\n                    <li v-if="resource.title.online_identifier">\n                        <label>{{ $__("Online-format identifier") }}:</label>\n                        <span>\n                            {{ resource.title.online_identifier }}\n                        </span>\n                    </li>\n                </ol>\n            </fieldset>\n\n            <fieldset class="rows">\n                <ol>\n                    <li>\n                        <label>{{ $__("Package") }}:</label>\n                        <span\n                            ><router-link\n                                :to="{\n                                    name: \'EHoldingsLocalPackagesShow\',\n                                    params: { package_id: resource.package_id },\n                                }"\n                                >{{ resource.package.name }}</router-link\n                            ></span\n                        >\n                    </li>\n\n                    <li>\n                        <label>{{ $__("Vendor") }}:</label>\n                        <span v-if="resource.vendor">\n                            {{ resource.vendor.name }}\n                        </span>\n                    </li>\n                    <li v-if="resource.package.content_type">\n                        <label>{{ $__("Package content type") }}:</label>\n                        <span>{{ resource.package.content_type }}</span>\n                    </li>\n                </ol>\n            </fieldset>\n\n            <fieldset class="rows">\n                <legend>Resource settings</legend>\n                <ol>\n                    <li>\n                        <label>{{ $__("Coverage dates") }}:</label>\n                        <span\n                            >{{ format_date(resource.started_on) }}-{{\n                                format_date(resource.ended_on)\n                            }}</span\n                        >\n                    </li>\n                </ol>\n            </fieldset>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { inject } from "vue"\nimport { APIClient } from "../../fetch/api-client.js"\nimport { storeToRefs } from "pinia"\nexport default {\n    setup() {\n        const format_date = $date\n\n        return {\n            format_date,\n        }\n    },\n    data() {\n        return {\n            resource: {\n                resource_id: null,\n                title_id: null,\n                package_id: null,\n                started_on: "",\n                ended_on: "",\n                proxy: "",\n                title: {},\n                package: {},\n            },\n            initialized: false,\n        }\n    },\n\n    beforeRouteEnter(to, from, next) {\n        next(vm => {\n            vm.getResource(to.params.resource_id)\n        })\n    },\n    beforeRouteUpdate(to, from) {\n        this.resource = this.getResource(to.params.resource_id)\n    },\n    methods: {\n        getResource(resource_id) {\n            const client = APIClient.erm\n            client.localResources.get(resource_id).then(\n                resource => {\n                    this.resource = resource\n                    this.initialized = true\n                },\n                error => {}\n            )\n        },\n    },\n    name: "EHoldingsLocalResourcesShow",\n}\n<\/script>\n<style scoped>\nfieldset.rows label {\n    width: 25rem;\n}\n</style>\n'],sourceRoot:""}]);let l=o},8042:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(7537),i=n.n(a),r=n(3645),o=n.n(r)()(i());o.push([e.id,"\n#package_list[data-v-2889e25f] {\n    display: table;\n}\n","",{version:3,sources:["webpack://./koha-tmpl/intranet-tmpl/prog/js/vue/components/ERM/EHoldingsLocalTitlePackagesList.vue"],names:[],mappings:";AAkGA;IACI,cAAc;AAClB",sourcesContent:['<template>\n    <div id="package_list_result">\n        <table :id="table_id"></table>\n    </div>\n</template>\n\n<script>\nimport { createVNode, render } from "vue"\nimport { useDataTable } from "../../composables/datatables"\n\nexport default {\n    setup() {\n        const table_id = "package_list"\n        useDataTable(table_id)\n\n        return {\n            table_id,\n        }\n    },\n    data() {\n        return {}\n    },\n    methods: {\n        show_resource: function (resource_id) {\n            this.$router.push({\n                name: "EHoldingsLocalResourcesShow",\n                params: { resource_id },\n            })\n        },\n        build_datatable: function () {\n            let show_resource = this.show_resource\n            let router = this.$router\n            let resources = this.resources\n            let table_id = this.table_id\n\n            $("#" + table_id).dataTable(\n                $.extend(true, {}, dataTablesDefaults, {\n                    data: resources,\n                    embed: ["package.name"],\n                    order: [[0, "asc"]],\n                    autoWidth: false,\n                    columns: [\n                        {\n                            title: __("Name"),\n                            data: "package.name",\n                            searchable: true,\n                            orderable: true,\n                            render: function (data, type, row, meta) {\n                                // Rendering done in drawCallback\n                                return ""\n                            },\n                            width: "100%",\n                        },\n                    ],\n                    drawCallback: function (settings) {\n                        var api = new $.fn.dataTable.Api(settings)\n\n                        $.each(\n                            $(this).find("tbody tr td:first-child"),\n                            function (index, e) {\n                                let tr = $(this).parent()\n                                let row = api.row(tr).data()\n                                if (!row) return // Happen if the table is empty\n                                let { href } = router.resolve({\n                                    name: "EHoldingsLocalResourcesShow",\n                                    params: { resource_id: row.resource_id },\n                                })\n                                let n = createVNode(\n                                    "a",\n                                    {\n                                        role: "button",\n                                        href,\n                                        onClick: e => {\n                                            e.preventDefault()\n                                            show_resource(row.resource_id)\n                                        },\n                                    },\n                                    `${row.package.name}`\n                                )\n                                render(n, e)\n                            }\n                        )\n                    },\n                })\n            )\n        },\n    },\n    mounted() {\n        this.build_datatable()\n    },\n    props: {\n        resources: Array,\n    },\n    name: "EHoldingsLocalTitlePackagesList",\n}\n<\/script>\n\n<style scoped>\n#package_list {\n    display: table;\n}\n</style>\n'],sourceRoot:""}]);let l=o},4922:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(7537),i=n.n(a),r=n(3645),o=n.n(r)()(i());o.push([e.id,"\nfieldset.rows label[data-v-6f7165c1] {\n    width: 25rem;\n}\n","",{version:3,sources:["webpack://./koha-tmpl/intranet-tmpl/prog/js/vue/components/ERM/EHoldingsLocalTitlesFormAdd.vue"],names:[],mappings:";AAwiBA;IACI,YAAY;AAChB",sourcesContent:['<template>\n    <div v-if="!initialized">{{ $__("Loading") }}</div>\n    <div v-else id="titles_add">\n        <h2 v-if="title.title_id">\n            {{ $__("Edit title #%s").format(title.title_id) }}\n        </h2>\n        <h2 v-else>{{ $__("New title") }}</h2>\n        <div>\n            <form @submit="onSubmit($event)">\n                <fieldset class="rows">\n                    <ol>\n                        <li v-if="title.title_id">\n                            <label for="title_title_id"\n                                >{{ $__("Title identifier") }}:</label\n                            >\n                            <span>\n                                {{ title.title_id }}\n                            </span>\n                        </li>\n\n                        <li>\n                            <label class="required" for="title_name"\n                                >{{ $__("Publication title") }}:</label\n                            >\n                            <input\n                                id="title_publication_title"\n                                v-model="title.publication_title"\n                                :placeholder="$__(\'Publication title\')"\n                                required\n                            />\n                            <span class="required">{{ $__("Required") }}</span>\n                        </li>\n\n                        <li>\n                            <label for="title_print_identifier"\n                                >{{ $__("Print-format identifier") }}:</label\n                            >\n                            <input\n                                id="title_print_identifier"\n                                v-model="title.print_identifier"\n                                :placeholder="$__(\'Print-format identifier\')"\n                            />\n                        </li>\n\n                        <li>\n                            <label for="title_online_identifier"\n                                >{{ $__("Online-format identifier") }}:</label\n                            >\n                            <input\n                                id="title_online_identifier"\n                                v-model="title.online_identifier"\n                                :placeholder="$__(\'Online-format identifier\')"\n                            />\n                        </li>\n\n                        <li>\n                            <label for="title_date_first_issue_online"\n                                >{{\n                                    $__(\n                                        "Date of first serial issue available online"\n                                    )\n                                }}:</label\n                            >\n                            <input\n                                id="title_date_first_issue_online"\n                                v-model="title.date_first_issue_online"\n                                :placeholder="\n                                    $__(\n                                        \'Date of first serial issue available online\'\n                                    )\n                                "\n                            />\n                        </li>\n\n                        <li>\n                            <label for="title_num_first_vol_online"\n                                >{{\n                                    $__(\n                                        "Number of first volume available online"\n                                    )\n                                }}:</label\n                            >\n                            <input\n                                id="title_num_first_vol_online"\n                                v-model="title.num_first_vol_online"\n                                :placeholder="\n                                    $__(\n                                        \'Number of first volume available online\'\n                                    )\n                                "\n                            />\n                        </li>\n\n                        <li>\n                            <label for="title_num_first_issue_online"\n                                >{{\n                                    $__(\n                                        "Number of first issue available online"\n                                    )\n                                }}:</label\n                            >\n                            <input\n                                id="title_num_first_issue_online"\n                                v-model="title.num_first_issue_online"\n                                :placeholder="\n                                    $__(\n                                        \'Number of first issue available online\'\n                                    )\n                                "\n                            />\n                        </li>\n\n                        <li>\n                            <label for="title_date_last_issue_online"\n                                >{{\n                                    $__("Date of last issue available online")\n                                }}:</label\n                            >\n                            <input\n                                id="title_date_last_issue_online"\n                                v-model="title.date_last_issue_online"\n                                :placeholder="\n                                    $__(\'Date of last issue available online\')\n                                "\n                            />\n                        </li>\n\n                        <li>\n                            <label for="title_num_last_vol_online"\n                                >{{\n                                    $__(\n                                        "Number of last volume available online"\n                                    )\n                                }}:</label\n                            >\n                            <input\n                                id="title_num_last_vol_online"\n                                v-model="title.num_last_vol_online"\n                                :placeholder="\n                                    $__(\n                                        \'Number of last volume available online\'\n                                    )\n                                "\n                            />\n                        </li>\n\n                        <li>\n                            <label for="title_num_last_issue_online"\n                                >{{\n                                    $__(\n                                        "Number of last issue available online"\n                                    )\n                                }}:</label\n                            >\n                            <input\n                                id="title_num_last_issue_online"\n                                v-model="title.num_last_issue_online"\n                                :placeholder="\n                                    $__(\'Number of last issue available online\')\n                                "\n                            />\n                        </li>\n\n                        <li>\n                            <label for="title_title_url"\n                                >{{ $__("Title-level URL") }}:</label\n                            >\n                            <input\n                                id="title_title_url"\n                                v-model="title.title_url"\n                                :placeholder="$__(\'Title-level URL\')"\n                            />\n                        </li>\n\n                        <li>\n                            <label for="title_first_author"\n                                >{{ $__("First author") }}:</label\n                            >\n                            <input\n                                id="title_first_author"\n                                v-model="title.first_author"\n                                :placeholder="$__(\'First author\')"\n                            />\n                        </li>\n\n                        <li>\n                            <label for="title_embargo_info"\n                                >{{ $__("Embargo information") }}:</label\n                            >\n                            <input\n                                id="title_embargo_info"\n                                v-model="title.embargo_info"\n                                :placeholder="$__(\'Embargo information\')"\n                            />\n                        </li>\n\n                        <li>\n                            <label for="title_coverage_depth"\n                                >{{ $__("Coverage depth") }}:</label\n                            >\n                            <input\n                                id="title_coverage_depth"\n                                v-model="title.coverage_depth"\n                                :placeholder="$__(\'Coverage depth\')"\n                            />\n                        </li>\n\n                        <li>\n                            <label for="title_notes">{{ $__("Notes") }}:</label>\n                            <input\n                                id="title_notes"\n                                v-model="title.notes"\n                                :placeholder="$__(\'Notes\')"\n                            />\n                        </li>\n\n                        <li>\n                            <label for="title_publisher_name"\n                                >{{ $__("Publisher name") }}:</label\n                            >\n                            <input\n                                id="title_publisher_name"\n                                v-model="title.publisher_name"\n                                :placeholder="$__(\'Publisher name\')"\n                            />\n                        </li>\n\n                        <li>\n                            <label for="title_publication_type"\n                                >{{ $__("Publication type") }}:</label\n                            >\n                            <v-select\n                                id="title_publication_type"\n                                v-model="title.publication_type"\n                                label="description"\n                                :reduce="av => av.value"\n                                :options="av_title_publication_types"\n                            />\n                        </li>\n\n                        <li>\n                            <label for="title_date_monograph_published_print"\n                                >{{\n                                    $__(\n                                        "Date the monograph is first published in print"\n                                    )\n                                }}:</label\n                            >\n                            <input\n                                id="title_date_monograph_published_print"\n                                v-model="title.date_monograph_published_print"\n                                :placeholder="\n                                    $__(\n                                        \'Date the monograph is first published in print\'\n                                    )\n                                "\n                            />\n                        </li>\n\n                        <li>\n                            <label for="title_date_monograph_published_online"\n                                >{{\n                                    $__(\n                                        "Date the monograph is first published online"\n                                    )\n                                }}:</label\n                            >\n                            <input\n                                id="title_date_monograph_published_online"\n                                v-model="title.date_monograph_published_online"\n                                :placeholder="\n                                    $__(\n                                        \'Date the monograph is first published online\'\n                                    )\n                                "\n                            />\n                        </li>\n\n                        <li>\n                            <label for="title_monograph_volume"\n                                >{{\n                                    $__("Number of volume for monograph")\n                                }}:</label\n                            >\n                            <input\n                                id="title_monograph_volume"\n                                v-model="title.monograph_volume"\n                                :placeholder="\n                                    $__(\'Number of volume for monograph\')\n                                "\n                            />\n                        </li>\n\n                        <li>\n                            <label for="title_monograph_edition"\n                                >{{ $__("Edition of the monograph") }}:</label\n                            >\n                            <input\n                                id="title_monograph_edition"\n                                v-model="title.monograph_edition"\n                                :placeholder="$__(\'Edition of the monograph\')"\n                            />\n                        </li>\n\n                        <li>\n                            <label for="title_first_editor"\n                                >{{ $__("First editor") }}:</label\n                            >\n                            <input\n                                id="title_first_editor"\n                                v-model="title.first_editor"\n                                :placeholder="$__(\'First editor\')"\n                            />\n                        </li>\n\n                        <li>\n                            <label for="title_parent_publication_title_id"\n                                >{{\n                                    $__(\n                                        "Title identifier of the parent publication"\n                                    )\n                                }}:</label\n                            >\n                            <input\n                                id="title_parent_publication_title_id"\n                                v-model="title.parent_publication_title_id"\n                                :placeholder="\n                                    $__(\n                                        \'Title identifier of the parent publication\'\n                                    )\n                                "\n                            />\n                        </li>\n\n                        <li>\n                            <label for="title_preceding_publication_title_id"\n                                >{{\n                                    $__(\n                                        "Title identifier of any preceding publication title"\n                                    )\n                                }}:</label\n                            >\n                            <input\n                                id="title_preceding_publication_title_id"\n                                v-model="title.preceding_publication_title_id"\n                                :placeholder="\n                                    $__(\n                                        \'Title identifier of any preceding publication title\'\n                                    )\n                                "\n                            />\n                        </li>\n\n                        <li>\n                            <label for="title_access_type"\n                                >{{\n                                    // FIXME May be fee-based (P) or Open Access (F).\n                                    $__("Access type")\n                                }}:</label\n                            >\n                            <input\n                                id="title_access_type"\n                                v-model="title.access_type"\n                                :placeholder="$__(\'Access type\')"\n                            />\n                        </li>\n                    </ol>\n                </fieldset>\n                <fieldset\n                    class="rows"\n                    v-if="\n                        (title.title_id && title.biblio_id) || !title.title_id\n                    "\n                >\n                    <legend>\n                        {{\n                            title.title_id\n                                ? $__("Update linked bibliographic record")\n                                : $__("Create linked bibliographic record")\n                        }}:\n                    </legend>\n                    <label for="create_linked_biblio"\n                        >{{\n                            title.title_id\n                                ? $__("Update bibliographic record")\n                                : $__("Create bibliographic record")\n                        }}:</label\n                    >\n                    <input\n                        type="checkbox"\n                        id="create_linked_biblio"\n                        v-model="title.create_linked_biblio"\n                    />\n                </fieldset>\n                <EHoldingsTitlesFormAddResources :resources="title.resources" />\n                <fieldset class="action">\n                    <input\n                        type="submit"\n                        class="btn btn-primary"\n                        :value="$__(\'Submit\')"\n                    />\n                    <router-link\n                        :to="{ name: \'EHoldingsLocalTitlesList\' }"\n                        role="button"\n                        class="cancel"\n                        >{{ $__("Cancel") }}</router-link\n                    >\n                </fieldset>\n            </form>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { inject } from "vue"\nimport EHoldingsTitlesFormAddResources from "./EHoldingsLocalTitlesFormAddResources.vue"\nimport { setMessage, setError, setWarning } from "../../messages"\nimport { APIClient } from "../../fetch/api-client.js"\nimport { storeToRefs } from "pinia"\n\nexport default {\n    setup() {\n        const AVStore = inject("AVStore")\n        const { av_title_publication_types } = storeToRefs(AVStore)\n        const { get_lib_from_av } = AVStore\n\n        return {\n            av_title_publication_types,\n            get_lib_from_av,\n        }\n    },\n    data() {\n        return {\n            title: {\n                title_id: null,\n                publication_title: "",\n                external_id: "",\n                print_identifier: "",\n                online_identifier: "",\n                date_first_issue_online: "",\n                num_first_vol_online: "",\n                num_first_issue_online: "",\n                date_last_issue_online: "",\n                num_last_vol_online: "",\n                num_last_issue_online: "",\n                title_url: "",\n                first_author: "",\n                embargo_info: "",\n                coverage_depth: "",\n                notes: "",\n                publisher_name: "",\n                publication_type: "",\n                date_monograph_published_print: "",\n                date_monograph_published_online: "",\n                monograph_volume: "",\n                monograph_edition: "",\n                first_editor: "",\n                parent_publication_title_id: "",\n                preceding_publication_title_id: "",\n                access_type: "",\n                resources: [],\n                create_linked_biblio: false,\n            },\n            initialized: false,\n        }\n    },\n    beforeRouteEnter(to, from, next) {\n        next(vm => {\n            if (to.params.title_id) {\n                vm.title = vm.getTitle(to.params.title_id)\n            } else {\n                vm.initialized = true\n            }\n        })\n    },\n    methods: {\n        getTitle(title_id) {\n            const client = APIClient.erm\n            client.localTitles.get(title_id).then(\n                title => {\n                    this.title = title\n                    this.initialized = true\n                },\n                error => {}\n            )\n        },\n        checkForm(title) {\n            let errors = []\n\n            let resources = title.resources\n            const package_ids = resources.map(al => al.package_id)\n            const duplicate_package_ids = package_ids.filter(\n                (id, i) => package_ids.indexOf(id) !== i\n            )\n\n            if (duplicate_package_ids.length) {\n                errors.push(this.$__("A package is used several times"))\n            }\n\n            errors.forEach(function (e) {\n                setWarning(e)\n            })\n            return !errors.length\n        },\n        onSubmit(e) {\n            e.preventDefault()\n\n            let title = JSON.parse(JSON.stringify(this.title)) // copy\n\n            if (!this.checkForm(title)) {\n                return false\n            }\n\n            let title_id = title.title_id\n            delete title.title_id\n            delete title.biblio_id\n\n            // Cannot use the map/keepAttrs because of the reserved keywork \'package\'\n            title.resources.forEach(function (e) {\n                delete e.package\n                delete e.resource_id\n            })\n\n            const client = APIClient.erm\n            if (title_id) {\n                client.localTitles.update(title, title_id).then(\n                    success => {\n                        setMessage(this.$__("Title updated"))\n                        this.$router.push({\n                            name: "EHoldingsLocalTitlesList",\n                        })\n                    },\n                    error => {}\n                )\n            } else {\n                client.localTitles.create(title).then(\n                    success => {\n                        setMessage(this.$__("Title created"))\n                        this.$router.push({\n                            name: "EHoldingsLocalTitlesList",\n                        })\n                    },\n                    error => {}\n                )\n            }\n        },\n    },\n    components: { EHoldingsTitlesFormAddResources },\n    name: "EHoldingsLocalTitlesFormAdd",\n}\n<\/script>\n<style scoped>\nfieldset.rows label {\n    width: 25rem;\n}\n</style>\n'],sourceRoot:""}]);let l=o},5177:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(7537),i=n.n(a),r=n(3645),o=n.n(r)()(i());o.push([e.id,"\nfieldset.rows label[data-v-2e85ed3a] {\n    width: 25rem;\n}\n","",{version:3,sources:["webpack://./koha-tmpl/intranet-tmpl/prog/js/vue/components/ERM/EHoldingsLocalTitlesFormImport.vue"],names:[],mappings:";AA6JA;IACI,YAAY;AAChB",sourcesContent:['<template>\n    <h2>{{ $__("Import from a list") }}</h2>\n    <div v-if="job_id" class="alert alert-info">\n        {{ $__("Import in progress,") }}\n        <a\n            :href="`/cgi-bin/koha/admin/background_jobs.pl?op=view&id=${job_id}`"\n            target="_blank"\n        >\n            {{ $__("see job #%s").format(job_id) }}\n        </a>\n    </div>\n    <fieldset id="package_list" class="rows">\n        {{ $__("To the following local package") }}:\n        <v-select\n            v-model="package_id"\n            label="name"\n            :reduce="p => p.package_id"\n            :options="packages"\n            :clearable="false"\n        >\n        </v-select>\n    </fieldset>\n    <div id="import_list_result" class="page-section">\n        <table :id="table_id"></table>\n    </div>\n</template>\n\n<script>\nimport { setError } from "../../messages"\nimport { createVNode, render } from "vue"\nimport { APIClient } from "../../fetch/api-client.js"\nimport { useDataTable } from "../../composables/datatables"\n\nexport default {\n    setup() {\n        const table_id = "list_list"\n        useDataTable(table_id)\n\n        return {\n            table_id,\n            logged_in_user_lists,\n        }\n    },\n    data() {\n        return {\n            job_id: null,\n            package_id: null,\n            packages: [],\n        }\n    },\n    beforeCreate() {\n        const client = APIClient.erm\n        client.localPackages.getAll().then(\n            packages => {\n                this.packages = packages\n                if (this.packages.length) {\n                    this.package_id = packages[0].package_id\n                }\n                this.initialized = true\n            },\n            error => {}\n        )\n    },\n    methods: {\n        import_from_list: async function (list_id) {\n            if (!this.package_id) {\n                setError(this.$__("Cannot import, no package selected"))\n                return\n            }\n            if (!list_id) return\n            const client = APIClient.erm\n            client.localTitles\n                .import({ list_id, package_id: this.package_id })\n                .then(\n                    result => {\n                        this.job_id = result.job_id\n                    },\n                    error => {}\n                )\n        },\n        build_datatable: function () {\n            let lists = this.logged_in_user_lists\n            let table_id = this.table_id\n            let import_from_list = this.import_from_list\n            $("#" + table_id).dataTable(\n                $.extend(true, {}, dataTablesDefaults, {\n                    data: lists,\n                    order: [[0, "asc"]],\n                    autoWidth: false,\n                    columns: [\n                        {\n                            title: __("Name"),\n                            data: "shelfname",\n                            searchable: true,\n                            orderable: true,\n                            width: "100%",\n                            render: function (data, type, row, meta) {\n                                return (\n                                    row.shelfname +\n                                    " (#" +\n                                    row.shelfnumber +\n                                    ")"\n                                )\n                            },\n                        },\n                        {\n                            title: __("Actions"),\n                            data: function (row, type, val, meta) {\n                                return \'<div class="actions"></div>\'\n                            },\n                            className: "actions noExport",\n                            searchable: false,\n                            orderable: false,\n                        },\n                    ],\n                    drawCallback: function (settings) {\n                        var api = new $.fn.dataTable.Api(settings)\n\n                        $.each(\n                            $(this).find("td .actions"),\n                            function (index, e) {\n                                let tr = $(this).parent().parent()\n                                let list_id = api.row(tr).data().shelfnumber\n                                let importButton = createVNode(\n                                    "a",\n                                    {\n                                        class: "btn btn-default btn-xs",\n                                        role: "button",\n                                        onClick: () => {\n                                            import_from_list(list_id)\n                                        },\n                                    },\n                                    [\n                                        createVNode("i", {\n                                            class: "fa fa-download",\n                                            "aria-hidden": "true",\n                                        }),\n                                        __("Import"),\n                                    ]\n                                )\n\n                                let n = createVNode("span", {}, [importButton])\n                                render(n, e)\n                            }\n                        )\n                    },\n                })\n            )\n        },\n    },\n    mounted() {\n        this.build_datatable()\n    },\n    name: "EHoldingsLocalTitlesFormImport",\n}\n<\/script>\n<style scoped>\nfieldset.rows label {\n    width: 25rem;\n}\n</style>\n'],sourceRoot:""}]);let l=o},3513:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(7537),i=n.n(a),r=n(3645),o=n.n(r)()(i());o.push([e.id,"\nlabel[data-v-5201fb7e] {\n    margin: 0px 10px 0px 0px;\n}\n","",{version:3,sources:["webpack://./koha-tmpl/intranet-tmpl/prog/js/vue/components/ERM/EHoldingsLocalTitlesKBARTImport.vue"],names:[],mappings:";AA6MA;IACI,wBAAwB;AAC5B",sourcesContent:['<template>\n    <h2>{{ $__("Import from a KBART file") }}</h2>\n    <div class="page-section" id="files">\n        <form @submit="addDocument($event)" class="file_upload">\n            <h3>{{ $__("Requirements:") }}</h3>\n            <ul style="margin-bottom: 1.5em">\n                <li>{{ $__("The file must be in TSV or CSV format") }}</li>\n                <li>\n                    {{\n                        $__(\n                            "The file should not contain any additional information / header rows, e.g. a file with a single title would be structured as follows:"\n                        )\n                    }}\n                    <ol>\n                        <li>{{ $__("Column headings row") }}</li>\n                        <li>{{ $__("Title data row") }}</li>\n                    </ol>\n                </li>\n            </ul>\n            <fieldset class="rows" id="package_list">\n                <h3>{{ $__("Select file for upload") }}:</h3>\n                <ol>\n                    <li>\n                        <label for="import_file">{{ $__("File") }}:</label>\n                        <input\n                            type="file"\n                            @change="selectFile($event)"\n                            :id="`import_file`"\n                            :name="`import_file`"\n                            required\n                            ref="fileLoader"\n                        />\n                    </li>\n                    <li>\n                        <label for="package_id"\n                            >{{ $__("To the following local package") }}:</label\n                        >\n                        <v-select\n                            id="package_id"\n                            v-model="package_id"\n                            label="name"\n                            :reduce="p => p.package_id"\n                            :options="packages"\n                            :clearable="false"\n                            :required="!package_id"\n                        >\n                            <template #search="{ attributes, events }">\n                                <input\n                                    :required="!package_id"\n                                    class="vs__search"\n                                    v-bind="attributes"\n                                    v-on="events"\n                                />\n                            </template>\n                        </v-select>\n                        <span class="required">{{ $__("Required") }}</span>\n                    </li>\n                    <li>\n                        <label for="create_linked_biblio"\n                            >{{\n                                $__("Create linked bibliographic record")\n                            }}:</label\n                        >\n                        <input\n                            type="checkbox"\n                            id="create_linked_biblio"\n                            v-model="create_linked_biblio"\n                        />\n                    </li>\n                </ol>\n            </fieldset>\n            <fieldset class="action">\n                <ButtonSubmit />\n                <a @click="clearForm()" role="button" class="cancel">{{\n                    $__("Clear form")\n                }}</a>\n            </fieldset>\n        </form>\n    </div>\n</template>\n\n<script>\nimport ButtonSubmit from "../ButtonSubmit.vue"\nimport { APIClient } from "../../fetch/api-client.js"\nimport { ref, inject } from "vue"\n\nexport default {\n    setup() {\n        const { setMessage, setWarning } = inject("mainStore")\n        return {\n            setMessage,\n            setWarning,\n        }\n    },\n    data() {\n        const fileLoader = ref()\n        return {\n            file: {\n                filename: null,\n                file_content: null,\n            },\n            packages: [],\n            package_id: null,\n            create_linked_biblio: false,\n            fileLoader,\n        }\n    },\n    beforeCreate() {\n        const client = APIClient.erm\n        client.localPackages.getAll().then(\n            packages => {\n                this.packages = packages\n                this.initialized = true\n            },\n            error => {}\n        )\n    },\n    methods: {\n        selectFile(e) {\n            let files = e.target.files\n            if (!files) return\n            let file = files[0]\n            const reader = new FileReader()\n            reader.onload = e => this.loadFile(file.name, e.target.result)\n            reader.readAsBinaryString(file)\n        },\n        loadFile(filename, content) {\n            this.file.filename = filename\n            this.file.file_content = btoa(content)\n        },\n        addDocument(e) {\n            e.preventDefault()\n\n            const client = APIClient.erm\n            const importData = {\n                file: this.file,\n                package_id: this.package_id,\n                create_linked_biblio: this.create_linked_biblio,\n            }\n            client.localTitles.import_kbart(importData).then(\n                success => {\n                    let message = ""\n                    if (success.job_ids) {\n                        if (success.job_ids.length > 1) {\n                            message += `<p style=\'font-weight: normal; font-size: medium; margin-top: 1em;\'>${this.$__(\n                                "Your file was too large to process in one job, the file has been split into %s jobs to meet the maximum size limits."\n                            ).format(success.job_ids.length)}</p>`\n                        }\n                        success.job_ids.forEach((job, i) => {\n                            message += `<li>${this.$__(\n                                "Job %s for uploaded file has been queued"\n                            ).format(\n                                i + 1\n                            )}, <a href="/cgi-bin/koha/admin/background_jobs.pl?op=view&id=${job}" target="_blank">${this.$__(\n                                "see progress"\n                            )}</a></li>`\n                        })\n                        this.setMessage(message, true)\n                    }\n                    if (success.warnings.invalid_columns) {\n                        message += `<p style=\'font-weight: normal; font-size: medium; margin-top: 1em;\'>${this.$__(\n                            "Information:"\n                        )}</p>`\n                        message += `<p>${this.$__(\n                            "Additional columns were detected in your report, please see the list below:"\n                        )}</p>`\n                        success.warnings.invalid_columns.forEach(column => {\n                            message += `<li>${column}</li>`\n                        })\n                        message += `<p style=\'margin-top: 0.1em;\'>${this.$__(\n                            "The data in these columns will not be imported."\n                        )}</p>`\n                        this.setMessage(message, true)\n                    }\n                    if (success.warnings.invalid_filetype) {\n                        message += `<p>${this.$__(\n                            "The file must be in .tsv or .csv format, please convert your file and try again."\n                        )}</p>`\n                        this.setWarning(message)\n                    }\n                },\n                error => {}\n            )\n            this.clearForm()\n        },\n        clearForm() {\n            this.file = {\n                filename: null,\n                file_type: null,\n                file_content: null,\n            }\n            this.package_id = null\n            this.create_linked_biblio = false\n            this.$refs.fileLoader.files = null\n            this.$refs.fileLoader.value = null\n        },\n    },\n    components: {\n        ButtonSubmit,\n    },\n    name: "EHoldingsLocalTitlesKBARTImport",\n}\n<\/script>\n\n<style scoped>\nlabel {\n    margin: 0px 10px 0px 0px;\n}\n</style>\n'],sourceRoot:""}]);let l=o},7406:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(7537),i=n.n(a),r=n(3645),o=n.n(r)()(i());o.push([e.id,"\nfieldset.rows label[data-v-e90d467a] {\n    width: 25rem;\n}\n","",{version:3,sources:["webpack://./koha-tmpl/intranet-tmpl/prog/js/vue/components/ERM/EHoldingsLocalTitlesShow.vue"],names:[],mappings:";AAuXA;IACI,YAAY;AAChB",sourcesContent:['<template>\n    <div v-if="!initialized">{{ $__("Loading") }}</div>\n    <div v-else-if="title" id="eholdings_title_show">\n        <Toolbar>\n            <ToolbarButton\n                :to="{\n                    name: \'EHoldingsLocalTitlesFormAddEdit\',\n                    params: { title_id: title.title_id },\n                }"\n                icon="pencil"\n                :title="$__(\'Edit\')"\n            />\n            <a\n                @click="delete_title(title.title_id, title.publication_title)"\n                class="btn btn-default"\n                ><font-awesome-icon icon="trash" /> {{ $__("Delete") }}</a\n            >\n        </Toolbar>\n\n        <h2>\n            {{ $__("Title #%s").format(title.title_id) }}\n        </h2>\n        <div>\n            <fieldset class="rows">\n                <ol>\n                    <li v-if="title.title_id">\n                        <label>{{ $__("Title identifier") }}:</label>\n                        <span>\n                            {{ title.title_id }}\n                        </span>\n                    </li>\n                    <li>\n                        <label>{{ $__("Publication title") }}:</label>\n                        <span>\n                            {{ title.publication_title }}\n                            <a\n                                v-if="title.biblio_id"\n                                :href="`/cgi-bin/koha/catalogue/detail.pl?biblionumber=${title.biblio_id}`"\n                            >\n                                {{ $__("Local bibliographic record") }}\n                            </a>\n                        </span>\n                    </li>\n                    <li v-if="title.print_identifier">\n                        <label>{{ $__("Print-format identifier") }}:</label>\n                        <span>\n                            {{ title.print_identifier }}\n                        </span>\n                    </li>\n                    <li v-if="title.online_identifier">\n                        <label>{{ $__("Online-format identifier") }}:</label>\n                        <span>\n                            {{ title.online_identifier }}\n                        </span>\n                    </li>\n                    <li v-if="title.date_first_issue_online">\n                        <label\n                            >{{\n                                $__(\n                                    "Date of first serial issue available online"\n                                )\n                            }}:</label\n                        >\n                        <span>\n                            {{ title.date_first_issue_online }}\n                        </span>\n                    </li>\n                    <li v-if="title.num_first_vol_online">\n                        <label\n                            >{{\n                                $__("Number of first volume available online")\n                            }}:</label\n                        >\n                        <span>\n                            {{ title.num_first_vol_online }}\n                        </span>\n                    </li>\n                    <li v-if="title.num_first_issue_online">\n                        <label\n                            >{{\n                                $__("Number of first issue available online")\n                            }}:</label\n                        >\n                        <span>\n                            {{ title.num_first_issue_online }}\n                        </span>\n                    </li>\n                    <li v-if="title.date_last_issue_online">\n                        <label\n                            >{{\n                                $__("Date of last issue available online")\n                            }}:</label\n                        >\n                        <span>\n                            {{ title.date_last_issue_online }}\n                        </span>\n                    </li>\n                    <li v-if="title.num_last_vol_online">\n                        <label\n                            >{{\n                                $__("Number of last volume available online")\n                            }}:</label\n                        >\n                        <span>\n                            {{ title.num_last_vol_online }}\n                        </span>\n                    </li>\n                    <li v-if="title.num_last_issue_online">\n                        <label\n                            >{{\n                                $__("Number of last issue available online")\n                            }}:</label\n                        >\n                        <span>\n                            {{ title.num_last_issue_online }}\n                        </span>\n                    </li>\n                    <li v-if="title.title_url">\n                        <label>{{ $__("Title-level URL") }}:</label>\n                        <span>\n                            <a :href="title.title_url" target="_blank">{{\n                                title.title_url\n                            }}</a>\n                        </span>\n                    </li>\n                    <li v-if="title.first_author">\n                        <label>{{ $__("First author") }}:</label>\n                        <span>\n                            {{ title.first_author }}\n                        </span>\n                    </li>\n                    <li v-if="title.embargo_info">\n                        <label>{{ $__("Embargo information") }}:</label>\n                        <span>\n                            {{ title.embargo_info }}\n                        </span>\n                    </li>\n                    <li v-if="title.coverage_depth">\n                        <label>{{ $__("Coverage depth") }}:</label>\n                        <span>\n                            {{ title.coverage_depth }}\n                        </span>\n                    </li>\n                    <li v-if="title.notes">\n                        <label>{{ $__("Notes") }}:</label>\n                        <span>\n                            {{ title.notes }}\n                        </span>\n                    </li>\n                    <li v-if="title.publisher_name">\n                        <label>{{ $__("Publisher name") }}:</label>\n                        <span>\n                            {{ title.publisher_name }}\n                        </span>\n                    </li>\n                    <li v-if="title.publication_type">\n                        <label>{{ $__("Publication type") }}:</label>\n                        <span\n                            >{{\n                                get_lib_from_av(\n                                    "av_title_publication_types",\n                                    title.publication_type\n                                )\n                            }}\n                        </span>\n                    </li>\n                    <li v-if="title.date_monograph_published_print">\n                        <label\n                            >{{\n                                $__(\n                                    "Date the monograph is first published in print"\n                                )\n                            }}:</label\n                        >\n                        <span>\n                            {{ title.date_monograph_published_print }}\n                        </span>\n                    </li>\n                    <li v-if="title.date_monograph_published_online">\n                        <label\n                            >{{\n                                $__(\n                                    "Date the monograph is first published online"\n                                )\n                            }}:</label\n                        >\n                        <span>\n                            {{ title.date_monograph_published_online }}\n                        </span>\n                    </li>\n                    <li v-if="title.monograph_volume">\n                        <label\n                            >{{ $__("Number of volume for monograph") }}:</label\n                        >\n                        <span>\n                            {{ title.monograph_volume }}\n                        </span>\n                    </li>\n                    <li v-if="title.monograph_edition">\n                        <label>{{ $__("Edition of the monograph") }}:</label>\n                        <span>\n                            {{ title.monograph_edition }}\n                        </span>\n                    </li>\n                    <li v-if="title.first_editor">\n                        <label>{{ $__("First editor") }}:</label>\n                        <span>\n                            {{ title.first_editor }}\n                        </span>\n                    </li>\n                    <li v-if="title.parent_publication_title_id">\n                        <label\n                            >{{\n                                $__(\n                                    "Title identifier of the parent publication"\n                                )\n                            }}:</label\n                        >\n                        <span>\n                            {{ title.parent_publication_title_id }}\n                        </span>\n                    </li>\n                    <li v-if="title.preceding_publication_title_id">\n                        <label\n                            >{{\n                                $__(\n                                    "Title identifier of any preceding publication title"\n                                )\n                            }}:</label\n                        >\n                        <span>\n                            {{ title.preceding_publication_title_id }}\n                        </span>\n                    </li>\n                    <li v-if="title.access_type">\n                        <label>{{ $__("Access type") }}:</label>\n                        <span>\n                            {{ title.access_type }}\n                        </span>\n                    </li>\n                    <li>\n                        <label>{{\n                            $__("Packages (%s)").format(title.resources.length)\n                        }}</label>\n                        <div v-if="title.resources.length">\n                            <EHoldingsTitlePackagesList\n                                :resources="title.resources"\n                            />\n                        </div>\n                    </li>\n                </ol>\n            </fieldset>\n            <fieldset class="action">\n                <router-link\n                    :to="{ name: \'EHoldingsLocalTitlesList\' }"\n                    role="button"\n                    class="cancel"\n                    >{{ $__("Close") }}</router-link\n                >\n            </fieldset>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { inject } from "vue"\nimport EHoldingsTitlePackagesList from "./EHoldingsLocalTitlePackagesList.vue"\nimport { APIClient } from "../../fetch/api-client.js"\nimport Toolbar from "../Toolbar.vue"\nimport ToolbarButton from "../ToolbarButton.vue"\n\nexport default {\n    setup() {\n        const AVStore = inject("AVStore")\n        const { get_lib_from_av } = AVStore\n        const { setConfirmationDialog, setMessage } = inject("mainStore")\n\n        return {\n            get_lib_from_av,\n            setConfirmationDialog,\n            setMessage,\n        }\n    },\n    data() {\n        return {\n            title: {\n                title_id: null,\n                publication_title: "",\n                external_id: "",\n                print_identifier: "",\n                online_identifier: "",\n                date_first_issue_online: "",\n                num_first_vol_online: "",\n                num_first_issue_online: "",\n                date_last_issue_online: "",\n                num_last_vol_online: "",\n                num_last_issue_online: "",\n                title_url: "",\n                first_author: "",\n                embargo_info: "",\n                coverage_depth: "",\n                notes: "",\n                publisher_name: "",\n                publication_type: "",\n                date_monograph_published_print: "",\n                date_monograph_published_online: "",\n                monograph_volume: "",\n                monograph_edition: "",\n                first_editor: "",\n                parent_publication_title_id: "",\n                preceding_publication_title_id: "",\n                access_type: "",\n                resources: [],\n            },\n            initialized: false,\n        }\n    },\n    beforeRouteEnter(to, from, next) {\n        next(vm => {\n            vm.getTitle(to.params.title_id)\n        })\n    },\n    beforeRouteUpdate(to, from) {\n        this.title = this.getTitle(to.params.title_id)\n    },\n    methods: {\n        getTitle(title_id) {\n            const client = APIClient.erm\n            client.localTitles.get(title_id).then(\n                title => {\n                    this.title = title\n                    this.initialized = true\n                },\n                error => {}\n            )\n        },\n        delete_title: function (title_id, title_publication_title) {\n            this.setConfirmationDialog(\n                {\n                    title: this.$__(\n                        "Are you sure you want to remove this title?"\n                    ),\n                    message: title_publication_title,\n                    accept_label: this.$__("Yes, delete"),\n                    cancel_label: this.$__("No, do not delete"),\n                },\n                () => {\n                    const client = APIClient.erm\n                    client.localTitles.delete(title_id).then(\n                        success => {\n                            this.setMessage(\n                                this.$__("Local title %s deleted").format(\n                                    title_publication_title\n                                ),\n                                true\n                            )\n                            this.$router.push({\n                                name: "EHoldingsLocalTitlesList",\n                            })\n                        },\n                        error => {}\n                    )\n                }\n            )\n        },\n    },\n    components: {\n        EHoldingsTitlePackagesList,\n        Toolbar,\n        ToolbarButton,\n    },\n    name: "EHoldingsLocalTitlesShow",\n}\n<\/script>\n<style scoped>\nfieldset.rows label {\n    width: 25rem;\n}\n</style>\n'],sourceRoot:""}]);let l=o},1701:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(7537),i=n.n(a),r=n(3645),o=n.n(r)()(i());o.push([e.id,"\n#license_documents ul[data-v-79350a14] {\n    padding-left: 0px;\n}\n","",{version:3,sources:["webpack://./koha-tmpl/intranet-tmpl/prog/js/vue/components/ERM/LicensesShow.vue"],names:[],mappings:";AAyPA;IACI,iBAAiB;AACrB",sourcesContent:['<template>\n    <div v-if="!initialized">{{ $__("Loading") }}</div>\n    <div v-else id="licenses_show">\n        <Toolbar>\n            <ToolbarButton\n                :to="{\n                    name: \'LicensesFormAddEdit\',\n                    params: { license_id: license.license_id },\n                }"\n                icon="pencil"\n                :title="$__(\'Edit\')"\n            />\n            <a\n                @click="delete_license(license.license_id, license.name)"\n                class="btn btn-default"\n                ><font-awesome-icon icon="trash" /> {{ $__("Delete") }}</a\n            >\n        </Toolbar>\n\n        <h2>\n            {{ $__("License #%s").format(license.license_id) }}\n        </h2>\n        <div>\n            <fieldset class="rows">\n                <ol>\n                    <li>\n                        <label>{{ $__("License name") }}:</label>\n                        <span>\n                            {{ license.name }}\n                        </span>\n                    </li>\n                    <li>\n                        <label>{{ $__("Vendor") }}:</label>\n                        <span v-if="license.vendor_id">\n                            <a\n                                :href="`/cgi-bin/koha/acqui/booksellers.pl?booksellerid=${license.vendor_id}`"\n                            >\n                                {{ license.vendor.name }}\n                            </a>\n                        </span>\n                    </li>\n                    <li>\n                        <label>{{ $__("Description") }}:</label>\n                        <span>\n                            {{ license.description }}\n                        </span>\n                    </li>\n                    <li>\n                        <label>{{ $__("Type") }}:</label>\n                        <span>{{\n                            get_lib_from_av("av_license_types", license.type)\n                        }}</span>\n                    </li>\n                    <li>\n                        <label>{{ $__("Status") }}:</label>\n                        <span>{{\n                            get_lib_from_av(\n                                "av_license_statuses",\n                                license.status\n                            )\n                        }}</span>\n                    </li>\n\n                    <li>\n                        <label>{{ $__("Started on") }}:</label>\n                        <span>{{ format_date(license.started_on) }}</span>\n                    </li>\n\n                    <li>\n                        <label>{{ $__("Ended on") }}:</label>\n                        <span>{{ format_date(license.ended_on) }}</span>\n                    </li>\n                    <li v-if="license.user_roles.length">\n                        <label>{{ $__("Users") }}</label>\n                        <table>\n                            <thead>\n                                <th>{{ $__("Name") }}</th>\n                                <th>{{ $__("Role") }}</th>\n                            </thead>\n                            <tbody>\n                                <tr\n                                    v-for="(\n                                        role, counter\n                                    ) in license.user_roles"\n                                    v-bind:key="counter"\n                                >\n                                    <td>{{ patron_to_html(role.patron) }}</td>\n                                    <td>\n                                        {{\n                                            get_lib_from_av(\n                                                "av_user_roles",\n                                                role.role\n                                            )\n                                        }}\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </li>\n                    <li v-if="license.documents.length">\n                        <label>{{ $__("Documents") }}</label>\n                        <div id="license_documents">\n                            <ul>\n                                <li\n                                    v-for="document in license.documents"\n                                    v-bind:key="document.document_id"\n                                >\n                                    <div v-if="document.file_name">\n                                        <span v-if="document.file_description"\n                                            >{{ document.file_description }} -\n                                        </span>\n                                        <a\n                                            download\n                                            :href="`/api/v1/erm/documents/${document.document_id}/file/content`"\n                                        >\n                                            {{ document.file_name }}\n                                            <i class="fa fa-download"></i>\n                                        </a>\n                                        ({{ document.file_type }})\n                                        {{ $__("Uploaded on") }}:\n                                        {{ format_date(document.uploaded_on) }}\n                                    </div>\n                                    <div v-if="document.physical_location">\n                                        {{ $__("Physical location") }}:\n                                        {{ document.physical_location }}\n                                    </div>\n                                    <div v-if="document.uri">\n                                        {{ $__("URI") }}: {{ document.uri }}\n                                    </div>\n                                    <div v-if="document.notes">\n                                        {{ $__("Notes") }}: {{ document.notes }}\n                                    </div>\n                                </li>\n                            </ul>\n                        </div>\n                    </li>\n                </ol>\n            </fieldset>\n            <AdditionalFieldsDisplay\n                resource_type="license"\n                :additional_field_values="\n                    license._strings.additional_field_values\n                "\n            />\n            <fieldset class="action">\n                <router-link\n                    :to="{ name: \'LicensesList\' }"\n                    role="button"\n                    class="cancel"\n                    >{{ $__("Close") }}</router-link\n                >\n            </fieldset>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { inject } from "vue"\nimport { APIClient } from "../../fetch/api-client.js"\nimport Toolbar from "../Toolbar.vue"\nimport ToolbarButton from "../ToolbarButton.vue"\nimport AdditionalFieldsDisplay from "../AdditionalFieldsDisplay.vue"\n\nexport default {\n    setup() {\n        const format_date = $date\n        const patron_to_html = $patron_to_html\n\n        const { setConfirmationDialog, setMessage } = inject("mainStore")\n\n        const AVStore = inject("AVStore")\n        const { get_lib_from_av } = AVStore\n\n        return {\n            format_date,\n            patron_to_html,\n            get_lib_from_av,\n            setConfirmationDialog,\n            setMessage,\n        }\n    },\n    data() {\n        return {\n            license: {\n                license_id: null,\n                name: "",\n                vendor_id: null,\n                vendor: null,\n                description: "",\n                type: "",\n                status: "",\n                user_roles: [],\n                extended_attributes: [],\n                _strings: [],\n                started_on: undefined,\n                ended_on: undefined,\n            },\n            initialized: false,\n        }\n    },\n    beforeRouteEnter(to, from, next) {\n        next(vm => {\n            vm.license = vm.getLicense(to.params.license_id)\n        })\n    },\n    methods: {\n        async getLicense(license_id) {\n            const client = APIClient.erm\n            client.licenses.get(license_id).then(\n                license => {\n                    this.license = license\n                    this.initialized = true\n                },\n                error => {}\n            )\n        },\n        delete_license: function (license_id, license_name) {\n            this.setConfirmationDialog(\n                {\n                    title: this.$__(\n                        "Are you sure you want to remove this license?"\n                    ),\n                    message: license_name,\n                    accept_label: this.$__("Yes, delete"),\n                    cancel_label: this.$__("No, do not delete"),\n                },\n                () => {\n                    const client = APIClient.erm\n                    client.licenses.delete(license_id).then(\n                        success => {\n                            this.setMessage(\n                                this.$__("License %s deleted").format(\n                                    license_name\n                                ),\n                                true\n                            )\n                            this.$router.push({ name: "LicensesList" })\n                        },\n                        error => {}\n                    )\n                }\n            )\n        },\n    },\n    components: { Toolbar, ToolbarButton, AdditionalFieldsDisplay },\n    name: "LicensesShow",\n}\n<\/script>\n<style scoped>\n#license_documents ul {\n    padding-left: 0px;\n}\n</style>\n'],sourceRoot:""}]);let l=o},7689:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(7537),i=n.n(a),r=n(3645),o=n.n(r)()(i());o.push([e.id,'\n#menu ul ul,\n#navmenulist ul ul {\n    padding-left: 2em;\n    font-size: 100%;\n}\nform .v-select {\n    display: inline-block;\n    background-color: white;\n    width: 30%;\n}\n.v-select,\ninput:not([type="submit"]):not([type="search"]):not([type="button"]):not([type="checkbox"]):not([type="radio"]),\ntextarea {\n    border-color: rgba(60, 60, 60, 0.26);\n    border-width: 1px;\n    border-radius: 4px;\n    min-width: 30%;\n}\n.flatpickr-input {\n    width: 30%;\n}\n#navmenulist ul li a.current.disabled {\n    background-color: inherit;\n    border-left: 5px solid #e6e6e6;\n    color: #000;\n}\n#navmenulist ul li a.disabled {\n    color: #666;\n    pointer-events: none;\n    font-weight: 700;\n}\n',"",{version:3,sources:["webpack://./koha-tmpl/intranet-tmpl/prog/js/vue/components/ERM/Main.vue"],names:[],mappings:";AA6KA;;IAEI,iBAAiB;IACjB,eAAe;AACnB;AAEA;IACI,qBAAqB;IACrB,uBAAuB;IACvB,UAAU;AACd;AAEA;;;IAGI,oCAAoC;IACpC,iBAAiB;IACjB,kBAAkB;IAClB,cAAc;AAClB;AACA;IACI,UAAU;AACd;AACA;IACI,yBAAyB;IACzB,8BAA8B;IAC9B,WAAW;AACf;AACA;IACI,WAAW;IACX,oBAAoB;IACpB,gBAAgB;AACpB",sourcesContent:['<template>\n    <div v-if="initialized && config.settings.ERMModule == 1">\n        <div id="sub-header">\n            <Breadcrumbs />\n            <Help />\n        </div>\n        <div class="main container-fluid">\n            <div class="row">\n                <div class="col-md-10 order-md-2 order-sm-1">\n                    <main>\n                        <Dialog />\n                        <router-view />\n                    </main>\n                </div>\n\n                <div class="col-md-2 order-sm-2 order-md-1">\n                    <LeftMenu\n                        :title="$__(\'E-resource management\')"\n                        :condition="filterProviders"\n                    ></LeftMenu>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="main container-fluid" v-else>\n        <Dialog />\n    </div>\n</template>\n\n<script>\nimport { inject } from "vue"\nimport Breadcrumbs from "../Breadcrumbs.vue"\nimport Help from "../Help.vue"\nimport LeftMenu from "../LeftMenu.vue"\nimport Dialog from "../Dialog.vue"\nimport { APIClient } from "../../fetch/api-client.js"\nimport "vue-select/dist/vue-select.css"\nimport { storeToRefs } from "pinia"\n\nexport default {\n    setup() {\n        const vendorStore = inject("vendorStore")\n\n        const AVStore = inject("AVStore")\n\n        const mainStore = inject("mainStore")\n\n        const { loading, loaded, setError } = mainStore\n\n        const ERMStore = inject("ERMStore")\n\n        const { config } = storeToRefs(ERMStore)\n\n        return {\n            vendorStore,\n            AVStore,\n            ERMStore,\n            config,\n            setError,\n            loading,\n            loaded,\n        }\n    },\n    data() {\n        return {\n            component: "agreement",\n            initialized: false,\n        }\n    },\n    beforeCreate() {\n        this.loading()\n\n        const fetch_config = () => {\n            let promises = []\n\n            const acq_client = APIClient.acquisition\n            acq_client.vendors.getAll().then(\n                vendors => {\n                    this.vendorStore.vendors = vendors\n                },\n                error => {}\n            )\n\n            const av_client = APIClient.authorised_values\n            const authorised_values = {\n                av_agreement_statuses: "ERM_AGREEMENT_STATUS",\n                av_agreement_closure_reasons: "ERM_AGREEMENT_CLOSURE_REASON",\n                av_agreement_renewal_priorities:\n                    "ERM_AGREEMENT_RENEWAL_PRIORITY",\n                av_user_roles: "ERM_USER_ROLES",\n                av_license_types: "ERM_LICENSE_TYPE",\n                av_license_statuses: "ERM_LICENSE_STATUS",\n                av_agreement_license_statuses: "ERM_AGREEMENT_LICENSE_STATUS",\n                av_agreement_license_location: "ERM_AGREEMENT_LICENSE_LOCATION",\n                av_package_types: "ERM_PACKAGE_TYPE",\n                av_package_content_types: "ERM_PACKAGE_CONTENT_TYPE",\n                av_title_publication_types: "ERM_TITLE_PUBLICATION_TYPE",\n                av_report_types: "ERM_REPORT_TYPES",\n                av_platform_reports_metrics: "ERM_PLATFORM_REPORTS_METRICS",\n                av_database_reports_metrics: "ERM_DATABASE_REPORTS_METRICS",\n                av_title_reports_metrics: "ERM_TITLE_REPORTS_METRICS",\n                av_item_reports_metrics: "ERM_ITEM_REPORTS_METRICS",\n            }\n\n            let av_cat_array = Object.keys(authorised_values).map(function (\n                av_cat\n            ) {\n                return \'"\' + authorised_values[av_cat] + \'"\'\n            })\n\n            promises.push(\n                av_client.values\n                    .getCategoriesWithValues(av_cat_array)\n                    .then(av_categories => {\n                        Object.entries(authorised_values).forEach(\n                            ([av_var, av_cat]) => {\n                                const av_match = av_categories.find(\n                                    element => element.category_name == av_cat\n                                )\n                                this.AVStore[av_var] =\n                                    av_match.authorised_values\n                            }\n                        )\n                    })\n            )\n\n            return Promise.all(promises)\n        }\n\n        const client = APIClient.erm\n        client.config\n            .get()\n            .then(config => {\n                this.config = config\n                if (this.config.settings.ERMModule != 1) {\n                    return this.setError(\n                        this.$__(\n                            "The e-resource management module is disabled, turn on <a href=\'/cgi-bin/koha/admin/preferences.pl?tab=&op=search&searchfield=ERMModule\'>ERMModule</a> to use it"\n                        ),\n                        false\n                    )\n                }\n                return fetch_config()\n            })\n            .then(() => {\n                this.loaded()\n                this.initialized = true\n            })\n    },\n    methods: {\n        async filterProviders(navigationTree) {\n            const eHoldings = navigationTree.find(\n                element => element.path === "/cgi-bin/koha/erm/eholdings"\n            )\n            const providers = this.config.settings.ERMProviders\n            eHoldings.children = eHoldings.children.filter(element =>\n                providers\n                    .map(provider => `${eHoldings.path}/${provider}`)\n                    .includes(element.path)\n            )\n            return navigationTree\n        },\n    },\n    components: {\n        Breadcrumbs,\n        Dialog,\n        Help,\n        LeftMenu,\n    },\n}\n<\/script>\n\n<style>\n#menu ul ul,\n#navmenulist ul ul {\n    padding-left: 2em;\n    font-size: 100%;\n}\n\nform .v-select {\n    display: inline-block;\n    background-color: white;\n    width: 30%;\n}\n\n.v-select,\ninput:not([type="submit"]):not([type="search"]):not([type="button"]):not([type="checkbox"]):not([type="radio"]),\ntextarea {\n    border-color: rgba(60, 60, 60, 0.26);\n    border-width: 1px;\n    border-radius: 4px;\n    min-width: 30%;\n}\n.flatpickr-input {\n    width: 30%;\n}\n#navmenulist ul li a.current.disabled {\n    background-color: inherit;\n    border-left: 5px solid #e6e6e6;\n    color: #000;\n}\n#navmenulist ul li a.disabled {\n    color: #666;\n    pointer-events: none;\n    font-weight: 700;\n}\n</style>\n'],sourceRoot:""}]);let l=o},7990:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(7537),i=n.n(a),r=n(3645),o=n.n(r)()(i());o.push([e.id,"\n.rows[data-v-18ef65d9] {\n    float: none;\n}\n","",{version:3,sources:["webpack://./koha-tmpl/intranet-tmpl/prog/js/vue/components/ERM/UsageStatisticsDataProviderDetails.vue"],names:[],mappings:";AAuGA;IACI,WAAW;AACf",sourcesContent:['<template>\n    <legend>{{ $__("Data provider") }}</legend>\n    <fieldset class="rows">\n        <ol>\n            <li>\n                <label>{{ $__("Data provider name") }}:</label>\n                <span id="usage_data_provider_name">\n                    {{ usage_data_provider.name }}\n                </span>\n            </li>\n            <li>\n                <label>{{ $__("Description") }}:</label>\n                <span id="usage_data_provider_description">\n                    {{ usage_data_provider.description }}\n                </span>\n            </li>\n            <li>\n                <label>{{ $__("Status") }}:</label>\n                <span id="harvester_status">\n                    {{\n                        usage_data_provider.active\n                            ? $__("Active")\n                            : $__("Inactive")\n                    }}\n                </span>\n            </li>\n            <li>\n                <label>{{ $__("Service type") }}:</label>\n                <span id="usage_data_provider_service_type">\n                    {{ usage_data_provider.service_type }}\n                </span>\n            </li>\n            <li>\n                <label>{{ $__("Report types") }}:</label>\n                <span id="report_type">\n                    {{ usage_data_provider.report_types }}\n                </span>\n            </li>\n            <li>\n                <label>{{ $__("Service platform") }}:</label>\n                <span id="service_platform">\n                    {{ usage_data_provider.service_platform }}\n                </span>\n            </li>\n        </ol>\n    </fieldset>\n    <legend>{{ $__("SUSHI credentials") }}</legend>\n    <fieldset class="rows">\n        <ol>\n            <li>\n                <label>{{ $__("Service URL") }}:</label>\n                <span id="usage_data_provider_service_url">\n                    {{ usage_data_provider.service_url }}\n                </span>\n            </li>\n            <li>\n                <label>{{ $__("Report release") }}:</label>\n                <span id="usage_data_provider_report_release">\n                    {{ usage_data_provider.report_release }}\n                </span>\n            </li>\n            <li>\n                <label>{{ $__("Customer ID") }}:</label>\n                <span id="usage_data_provider_customer_id">\n                    {{ usage_data_provider.customer_id }}\n                </span>\n            </li>\n            <li>\n                <label>{{ $__("Requestor ID") }}:</label>\n                <span id="usage_data_provider_requestor_id">\n                    {{ usage_data_provider.requestor_id }}\n                </span>\n            </li>\n            <li>\n                <label>{{ $__("API key") }}:</label>\n                <span id="usage_data_provider_api_key">\n                    {{ usage_data_provider.api_key }}\n                </span>\n            </li>\n            <li>\n                <label>{{ $__("Requestor name") }}:</label>\n                <span id="usage_data_provider_requestor_name">\n                    {{ usage_data_provider.requestor_name }}\n                </span>\n            </li>\n            <li>\n                <label>{{ $__("Requestor email") }}:</label>\n                <span id="usage_data_provider_requestor_email">\n                    {{ usage_data_provider.requestor_email }}\n                </span>\n            </li>\n        </ol>\n    </fieldset>\n</template>\n\n<script>\nexport default {\n    props: ["usage_data_provider"],\n    name: "UsageStatisticsDataProviderDetails",\n}\n<\/script>\n\n<style scoped>\n.rows {\n    float: none;\n}\n</style>\n'],sourceRoot:""}]);let l=o},6696:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(7537),i=n.n(a),r=n(3645),o=n.n(r)()(i());o.push([e.id,"\n#title_list[data-v-7b0f2525] {\n    display: table;\n}\n","",{version:3,sources:["webpack://./koha-tmpl/intranet-tmpl/prog/js/vue/components/ERM/UsageStatisticsDataProvidersCounterLogs.vue"],names:[],mappings:";AAyKA;IACI,cAAc;AAClB",sourcesContent:['<template>\n    <div v-if="!initialized">{{ $__("Loading") }}</div>\n    <div v-else id="counter_logs_list">\n        <div v-if="counter_files_count > 0" class="page-section">\n            <KohaTable\n                ref="table"\n                v-bind="tableOptions"\n                @delete="delete_counter_file"\n                @download="download_counter_file"\n            ></KohaTable>\n        </div>\n        <div v-else-if="initialized" class="alert alert-info">\n            {{ $__("There are no import logs defined") }}\n        </div>\n    </div>\n</template>\n\n<script>\nimport { APIClient } from "../../fetch/api-client.js"\nimport { inject, ref } from "vue"\nimport KohaTable from "../KohaTable.vue"\n\nexport default {\n    setup() {\n        const { setConfirmationDialog, setMessage } = inject("mainStore")\n\n        const table = ref()\n\n        return {\n            table,\n            setConfirmationDialog,\n            setMessage,\n        }\n    },\n    data: function () {\n        return {\n            counter_files_count: 0,\n            initialized: false,\n            before_route_entered: false,\n            building_table: false,\n            tableOptions: {\n                columns: this.getTableColumns(),\n                options: {\n                    embed: "patron",\n                },\n                url: () => this.table_url(),\n                table_settings: this.counter_log_table_settings,\n                add_filters: true,\n                filters_options: {},\n                actions: {\n                    0: ["show"],\n                    "-1": [\n                        {\n                            download: {\n                                text: this.$__("Download"),\n                                icon: "fa fa-download",\n                            },\n                        },\n                        "delete",\n                    ],\n                },\n            },\n        }\n    },\n    methods: {\n        async getCounterFiles() {\n            const client = APIClient.erm\n            await client.counter_files\n                .count({\n                    usage_data_provider_id:\n                        this.$route.params.usage_data_provider_id,\n                })\n                .then(\n                    count => {\n                        this.counter_files_count = count\n                        this.initialized = true\n                    },\n                    error => {}\n                )\n        },\n        table_url() {\n            let url = `/api/v1/erm/counter_logs?usage_data_provider_id=${this.$route.params.usage_data_provider_id}`\n            return url\n        },\n        download_counter_file(counter_log, dt, event) {\n            window.location.href =\n                "/api/v1/erm/counter_files/" +\n                counter_log.counter_files_id +\n                "/file/content"\n        },\n        delete_counter_file(counter_log, dt, event) {\n            this.setConfirmationDialog(\n                {\n                    title: this.$__(\n                        "Are you sure you want to remove this file?"\n                    ),\n                    message: counter_log.filename,\n                    accept_label: this.$__("Yes, delete"),\n                    cancel_label: this.$__("No, do not delete"),\n                },\n                () => {\n                    const client = APIClient.erm\n                    client.counter_files\n                        .delete(counter_log.counter_files_id)\n                        .then(\n                            success => {\n                                this.setMessage(\n                                    this.$__("File %s deleted").format(\n                                        counter_log.filename\n                                    ),\n                                    true\n                                )\n                                dt.draw()\n                            },\n                            error => {}\n                        )\n                }\n            )\n        },\n        getTableColumns() {\n            return [\n                {\n                    title: __("Filename"),\n                    data: "filename",\n                    searchable: true,\n                    orderable: true,\n                },\n                {\n                    data: "importdate",\n                    title: __("Import date"),\n                    render: function (data, type, row, meta) {\n                        const date = row.importdate.substr(0, 10)\n                        const time = row.importdate.substr(11, 8)\n                        return `${date} ${time}`\n                    },\n                    searchable: true,\n                    orderable: true,\n                },\n                {\n                    title: __("Imported by"),\n                    render: function (data, type, row, meta) {\n                        const { patron } = row\n                        const importer = patron\n                            ? \'<a href="/cgi-bin/koha/members/moremember.pl?borrowernumber=\' +\n                              patron.patron_id +\n                              \'">\' +\n                              $patron_to_html(patron) +\n                              "</a>"\n                            : this.$__("Cronjob")\n                        return importer\n                    },\n                    searchable: true,\n                    orderable: true,\n                },\n            ]\n        },\n    },\n    mounted() {\n        if (!this.building_table) {\n            this.building_table = true\n            this.getCounterFiles()\n        }\n    },\n    components: { KohaTable },\n    name: "UsageStatisticsTitlesList",\n}\n<\/script>\n\n<style scoped>\n#title_list {\n    display: table;\n}\n</style>\n'],sourceRoot:""}]);let l=o},5962:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(7537),i=n.n(a),r=n(3645),o=n.n(r)()(i());o.push([e.id,"\nlabel[data-v-135cca20] {\n    margin: 0px 10px 0px 0px;\n}\n","",{version:3,sources:["webpack://./koha-tmpl/intranet-tmpl/prog/js/vue/components/ERM/UsageStatisticsDataProvidersFileImport.vue"],names:[],mappings:";AA6IA;IACI,wBAAwB;AAC5B",sourcesContent:['<template>\n    <div class="page-section" id="files">\n        <form @submit="addDocument($event)" class="file_upload">\n            <h2>{{ $__("Manual upload:") }}</h2>\n            <label>{{ $__("File") }}:</label>\n            <div class="file_information">\n                <span v-if="!file.filename">\n                    {{ $__("Select a file") }}\n                    <input\n                        type="file"\n                        @change="selectFile($event)"\n                        :id="`import_file`"\n                        :name="`import_file`"\n                    />\n                </span>\n                <ol>\n                    <li v-show="file.filename">\n                        {{ $__("File name") }}:\n                        <span>{{ file.filename }}</span>\n                    </li>\n                    <li v-show="file.file_type">\n                        {{ $__("File type") }}:\n                        <span>{{ file.file_type }}</span>\n                    </li>\n                </ol>\n            </div>\n            <fieldset class="action">\n                <ButtonSubmit />\n                <a @click="clearForm($event)" role="button" class="cancel">{{\n                    $__("Clear form")\n                }}</a>\n            </fieldset>\n        </form>\n    </div>\n</template>\n\n<script>\nimport { inject } from "vue"\nimport ButtonSubmit from "../ButtonSubmit.vue"\nimport { APIClient } from "../../fetch/api-client.js"\n\nexport default {\n    setup() {\n        const AVStore = inject("AVStore") // Left in for future permissions fixes\n        const { get_lib_from_av, map_av_dt_filter } = AVStore\n\n        const { setMessage } = inject("mainStore")\n\n        return {\n            setMessage,\n        }\n    },\n    data() {\n        return {\n            file: {\n                filename: null,\n                usage_data_provider_id: null,\n                file_type: null,\n                file_content: null,\n                date: null,\n                date_uploaded: null,\n            },\n        }\n    },\n    methods: {\n        selectFile(e) {\n            let files = e.target.files\n            if (!files) return\n            let file = files[0]\n            const reader = new FileReader()\n            reader.onload = e => this.loadFile(file.name, e.target.result)\n            reader.readAsBinaryString(file)\n        },\n        loadFile(filename, content) {\n            this.file.filename = filename\n            this.file.file_content = btoa(content)\n            this.getDataProvider(this.$route.params.usage_data_provider_id)\n        },\n        addDocument(e) {\n            e.preventDefault()\n            const client = APIClient.erm\n            client.usage_data_providers\n                .process_COUNTER_file(this.file.usage_data_provider_id, {\n                    usage_data_provider_id: this.file.usage_data_provider_id,\n                    filename: this.file.filename,\n                    file_content: this.file.file_content,\n                })\n                .then(\n                    success => {\n                        let message = ""\n                        success.jobs.forEach((job, i) => {\n                            message +=\n                                "<li>" +\n                                this.$__(\n                                    "Job for uploaded file has been queued"\n                                ) +\n                                \'. <a href="/cgi-bin/koha/admin/background_jobs.pl?op=view&id=\' +\n                                job.job_id +\n                                \'" target="_blank">\' +\n                                this.$__("Check job progress") +\n                                ".</a></li>"\n                        })\n                        this.setMessage(message, true)\n                    },\n                    error => {}\n                )\n        },\n        clearForm(e) {\n            e.preventDefault()\n\n            this.file = {\n                filename: null,\n                usage_data_provider_id: null,\n                file_type: null,\n                file_content: null,\n                date: null,\n                date_uploaded: null,\n            }\n        },\n        async getDataProvider(usage_data_provider_id) {\n            const client = APIClient.erm\n            await client.usage_data_providers.get(usage_data_provider_id).then(\n                usage_data_provider => {\n                    this.file.usage_data_provider_id =\n                        usage_data_provider.erm_usage_data_provider_id\n                },\n                error => {}\n            )\n        },\n    },\n    mounted() {\n        this.getDataProvider(this.$route.params.usage_data_provider_id)\n    },\n    components: {\n        ButtonSubmit,\n    },\n    name: "UsageStatisticsDataProvidersFileImport",\n}\n<\/script>\n\n<style scoped>\nlabel {\n    margin: 0px 10px 0px 0px;\n}\n</style>\n'],sourceRoot:""}]);let l=o},9420:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(7537),i=n.n(a),r=n(3645),o=n.n(r)()(i());o.push([e.id,"\n.credentials[data-v-75dd3109] {\n    display: flex;\n}\n.credentials_form[data-v-75dd3109] {\n    width: 50%;\n}\n.list-header-btns[data-v-75dd3109] {\n    margin: 0.5em 0 0.5em 0.5em;\n}\n","",{version:3,sources:["webpack://./koha-tmpl/intranet-tmpl/prog/js/vue/components/ERM/UsageStatisticsDataProvidersFormAdd.vue"],names:[],mappings:";AAonBA;IACI,aAAa;AACjB;AACA;IACI,UAAU;AACd;AACA;IACI,2BAA2B;AAC/B",sourcesContent:['<template>\n    <div v-if="!initialized">{{ $__("Loading") }}</div>\n    <div v-else id="data_providers_add">\n        <h2 v-if="usage_data_provider.erm_usage_data_provider_id">\n            {{\n                $__("Edit usage data provider #%s").format(\n                    usage_data_provider.erm_usage_data_provider_id\n                )\n            }}\n        </h2>\n        <h2 v-else>{{ $__("New usage data provider") }}</h2>\n        <div class="page-section">\n            <form @submit="onSubmit($event)">\n                <legend>{{ $__("Data provider") }}</legend>\n                <fieldset class="rows">\n                    <ol>\n                        <li>\n                            <label\n                                class="required"\n                                for="usage_data_provider_name"\n                                >{{ $__("Data provider name") }}:</label\n                            >\n                            <input\n                                v-if="manual_form"\n                                id="usage_data_provider_name"\n                                v-model="usage_data_provider.name"\n                                :placeholder="$__(\'Data provider name\')"\n                                required\n                            />\n                            <v-select\n                                v-else\n                                id="usage_data_provider_name"\n                                v-model="selected_provider"\n                                label="name"\n                                :options="registry_data"\n                                @input="getPlatformData($event)"\n                                @update:modelValue="setPlatformData($event)"\n                                :required="!usage_data_provider.name"\n                                :placeholder="\n                                    $__(\n                                        \'Type at least two characters to search\'\n                                    )\n                                "\n                            >\n                                <template v-if="searching" v-slot:no-options\n                                    >{{ $__("Searching...") }}\n                                </template>\n                                <template v-else v-slot:no-options\n                                    >{{ $__("No results found") }}\n                                </template>\n                                <template #search="{ attributes, events }">\n                                    <input\n                                        :required="!usage_data_provider.name"\n                                        class="vs__search"\n                                        v-bind="attributes"\n                                        v-on="events"\n                                    />\n                                </template>\n                            </v-select>\n                            <span class="required">{{ $__("Required") }}</span>\n                            <button\n                                v-if="\n                                    !manual_form &&\n                                    !usage_data_provider.erm_usage_data_provider_id\n                                "\n                                type="button"\n                                class="btn btn-default"\n                                style="margin-left: 1em"\n                                @click="createManualProvider()"\n                            >\n                                {{ $__("Create manually") }}\n                            </button>\n                            <button\n                                v-if="\n                                    manual_form &&\n                                    !usage_data_provider.erm_usage_data_provider_id\n                                "\n                                type="button"\n                                style="margin-left: 1em"\n                                @click="createFromRegistry()"\n                            >\n                                {{ $__("Create from registry") }}\n                            </button>\n                        </li>\n                        <li>\n                            <label for="usage_data_provider_description"\n                                >{{ $__("Description") }}:\n                            </label>\n                            <textarea\n                                id="usage_data_provider_description"\n                                v-model="usage_data_provider.description"\n                                :placeholder="$__(\'Description\')"\n                                rows="10"\n                                cols="50"\n                                :disabled="!selected_provider && !manual_form"\n                            />\n                        </li>\n                        <li>\n                            <label for="usage_data_provider_status"\n                                >{{ $__("Harvester status") }}:</label\n                            >\n                            <v-select\n                                id="harvester_status"\n                                v-model="usage_data_provider.active"\n                                label="description"\n                                :reduce="status => status.value"\n                                :options="statuses"\n                                :disabled="!selected_provider && !manual_form"\n                            />\n                        </li>\n                        <li>\n                            <label for="usage_data_provider_service_type"\n                                >{{ $__("Service type") }}:\n                            </label>\n                            <input\n                                id="usage_data_provider_service_type"\n                                v-model="usage_data_provider.service_type"\n                                :disabled="!selected_provider && !manual_form"\n                            />\n                        </li>\n                        <li>\n                            <label for="usage_data_provider_service_platform"\n                                >{{ $__("Service platform") }}:\n                            </label>\n                            <input\n                                id="usage_data_provider_service_platform"\n                                v-model="usage_data_provider.service_platform"\n                            />\n                        </li>\n                        <li>\n                            <label\n                                class="required"\n                                for="usage_data_provider_report_types"\n                                >{{ $__("Report types") }}:\n                            </label>\n                            <v-select\n                                id="report_type"\n                                v-model="usage_data_provider.report_types"\n                                label="description"\n                                :reduce="av => av.value"\n                                :options="valid_report_types"\n                                multiple\n                                :disabled="!selected_provider && !manual_form"\n                                :required="\n                                    !usage_data_provider.report_types.length\n                                "\n                            >\n                                <template #list-header>\n                                    <button\n                                        type="button"\n                                        @click="selectAll()"\n                                        class="list-header-btns"\n                                    >\n                                        {{ $__("Select all") }}\n                                    </button>\n                                    <button\n                                        class="list-header-btns"\n                                        type="button"\n                                        @click="unselectAll()"\n                                    >\n                                        {{ $__("Unselect all") }}\n                                    </button>\n                                </template>\n                                <template #search="{ attributes, events }">\n                                    <input\n                                        :required="\n                                            !usage_data_provider.report_types\n                                                .length\n                                        "\n                                        class="vs__search"\n                                        v-bind="attributes"\n                                        v-on="events"\n                                    />\n                                </template>\n                            </v-select>\n                            <span class="required">{{ $__("Required") }}</span>\n                        </li>\n                    </ol>\n                </fieldset>\n                <legend>{{ $__("SUSHI credentials") }}</legend>\n                <fieldset class="rows credentials">\n                    <ol class="credentials_form">\n                        <li>\n                            <label\n                                :class="\n                                    required_fields.includes(\'URL\')\n                                        ? \'required\'\n                                        : \'\'\n                                "\n                                for="usage_data_provider_service_url"\n                                >{{ $__("Service URL") }}:\n                            </label>\n                            <input\n                                id="usage_data_provider_service_url"\n                                style="min-width: 60%"\n                                v-model="usage_data_provider.service_url"\n                                :required="required_fields.includes(\'URL\')"\n                                :disabled="!selected_provider && !manual_form"\n                            />\n                            <span\n                                class="required"\n                                v-if="required_fields.includes(\'URL\')"\n                                >{{ $__("Required") }}\n                            </span>\n                        </li>\n                        <li>\n                            <label\n                                :class="\n                                    required_fields.includes(\'Release\')\n                                        ? \'required\'\n                                        : \'\'\n                                "\n                                for="usage_data_provider_report_release"\n                                >{{ $__("Report release") }}:\n                            </label>\n                            <input\n                                id="usage_data_provider_report_release"\n                                style="min-width: 60%"\n                                v-model="usage_data_provider.report_release"\n                                :required="required_fields.includes(\'Release\')"\n                                :disabled="!selected_provider && !manual_form"\n                            />\n                            <span\n                                class="required"\n                                v-if="required_fields.includes(\'Release\')"\n                                >{{ $__("Required") }}\n                            </span>\n                        </li>\n                        <li>\n                            <label\n                                :class="\n                                    required_fields.includes(\'Customer\')\n                                        ? \'required\'\n                                        : \'\'\n                                "\n                                for="usage_data_provider_customer_id"\n                                >{{ $__("Customer ID") }}:\n                            </label>\n                            <input\n                                id="usage_data_provider_customer_id"\n                                style="min-width: 60%"\n                                v-model="usage_data_provider.customer_id"\n                                :required="required_fields.includes(\'Customer\')"\n                                :disabled="!selected_provider && !manual_form"\n                            />\n                            <span\n                                class="required"\n                                v-if="required_fields.includes(\'Customer\')"\n                                >{{ $__("Required") }}\n                            </span>\n                        </li>\n                        <li>\n                            <label\n                                :class="\n                                    required_fields.includes(\'Requestor\')\n                                        ? \'required\'\n                                        : \'\'\n                                "\n                                for="usage_data_provider_requestor_id"\n                                >{{ $__("Requestor ID") }}:\n                            </label>\n                            <input\n                                id="usage_data_provider_requestor_id"\n                                style="min-width: 60%"\n                                v-model="usage_data_provider.requestor_id"\n                                :required="\n                                    required_fields.includes(\'Requestor\')\n                                "\n                                :disabled="!selected_provider && !manual_form"\n                            />\n                            <span\n                                class="required"\n                                v-if="required_fields.includes(\'Requestor\')"\n                                >{{ $__("Required") }}\n                            </span>\n                        </li>\n                        <li>\n                            <label\n                                for="usage_data_provider_api_key"\n                                :class="\n                                    required_fields.includes(\'API\')\n                                        ? \'required\'\n                                        : \'\'\n                                "\n                                >{{ $__("API key") }}:\n                            </label>\n                            <input\n                                id="usage_data_provider_api_key"\n                                style="min-width: 60%"\n                                v-model="usage_data_provider.api_key"\n                                :disabled="!selected_provider && !manual_form"\n                                :required="required_fields.includes(\'API\')"\n                            />\n                            <span\n                                class="required"\n                                v-if="required_fields.includes(\'API\')"\n                                >{{ $__("Required") }}\n                            </span>\n                        </li>\n                        <li>\n                            <label for="usage_data_provider_requestor_name"\n                                >{{ $__("Requestor name") }}:\n                            </label>\n                            <input\n                                id="usage_data_provider_requestor_name"\n                                style="min-width: 60%"\n                                v-model="usage_data_provider.requestor_name"\n                                :disabled="!selected_provider && !manual_form"\n                            />\n                        </li>\n                        <li>\n                            <label for="usage_data_provider_requestor_email"\n                                >{{ $__("Requestor email") }}:\n                            </label>\n                            <input\n                                id="usage_data_provider_requestor_email"\n                                style="min-width: 60%"\n                                v-model="usage_data_provider.requestor_email"\n                                :disabled="!selected_provider && !manual_form"\n                            />\n                        </li>\n                    </ol>\n                    <ol class="credentials_form" v-if="sushi_service">\n                        <h3>{{ $__("Credentials information") }}</h3>\n                        <li>\n                            <label for="customer_id_info"\n                                >{{ $__("Customer ID info") }}:\n                            </label>\n                            <span id="customer_id_info">{{\n                                sushi_service.customer_id_info\n                                    ? sushi_service.customer_id_info\n                                    : $__("No information provided")\n                            }}</span>\n                        </li>\n                        <li>\n                            <label for="requestor_id_info"\n                                >{{ $__("Requestor ID info") }}:\n                            </label>\n                            <span id="requestor_id_info">{{\n                                sushi_service.requestor_id_info\n                                    ? sushi_service.requestor_id_info\n                                    : $__("No information provided")\n                            }}</span>\n                        </li>\n                        <li>\n                            <label for="api_key_info"\n                                >{{ $__("API key info") }}:\n                            </label>\n                            <span id="api_key_info">{{\n                                sushi_service.api_key_info\n                                    ? sushi_service.api_key_info\n                                    : $__("No information provided")\n                            }}</span>\n                        </li>\n                        <span\n                            >{{ $__("Please refer to the ") }}\n                            <a href="https://registry.countermetrics.org/">{{\n                                $__("COUNTER registry")\n                            }}</a>\n                            {{ $__("for more information.") }}</span\n                        >\n                    </ol>\n                </fieldset>\n                <fieldset class="action">\n                    <ButtonSubmit />\n                    <router-link\n                        v-if="previous_route === \'data_provider_show\'"\n                        :to="{ name: \'UsageStatisticsDataProvidersShow\' }"\n                        role="button"\n                        class="cancel"\n                        >{{ $__("Cancel") }}</router-link\n                    >\n                    <router-link\n                        v-else\n                        :to="{ name: \'UsageStatisticsDataProvidersList\' }"\n                        role="button"\n                        class="cancel"\n                        >{{ $__("Cancel") }}</router-link\n                    >\n                </fieldset>\n            </form>\n        </div>\n    </div>\n</template>\n\n<script>\nimport ButtonSubmit from "../ButtonSubmit.vue"\nimport { setMessage, setWarning } from "../../messages"\nimport { APIClient } from "../../fetch/api-client.js"\nimport { inject } from "vue"\nimport { storeToRefs } from "pinia"\n\nexport default {\n    setup() {\n        const AVStore = inject("AVStore")\n        const { av_report_types } = storeToRefs(AVStore)\n\n        return {\n            av_report_types,\n        }\n    },\n    data() {\n        return {\n            usage_data_provider: {\n                erm_usage_data_provider_id: null,\n                name: "",\n                description: "",\n                active: 1,\n                method: "",\n                aggregator: "",\n                service_type: "",\n                service_url: "",\n                report_release: "",\n                customer_id: "",\n                requestor_id: "",\n                api_key: "",\n                requestor_name: "",\n                requestor_email: "",\n                report_types: [],\n            },\n            initialized: false,\n            previous_route: "",\n            statuses: [\n                { description: this.$__("Active"), value: 1 },\n                { description: this.$__("Inactive"), value: 0 },\n            ],\n            registry_data: [],\n            valid_report_types: [...this.av_report_types],\n            selected_provider: null,\n            manual_form: false,\n            required_fields: [],\n            sushi_service: null,\n            searching: false,\n        }\n    },\n    beforeRouteEnter(to, from, next) {\n        next(vm => {\n            if (to.params.usage_data_provider_id) {\n                vm.getDataProvider(to.params.usage_data_provider_id)\n            } else {\n                vm.initialized = true\n            }\n            if (from.params.usage_data_provider_id) {\n                vm.previous_route = "data_provider_show"\n            } else {\n                vm.previous_route = "data_provider_list"\n            }\n        })\n    },\n    methods: {\n        async getDataProvider(erm_usage_data_provider_id) {\n            const client = APIClient.erm\n            client.usage_data_providers.get(erm_usage_data_provider_id).then(\n                usage_data_provider => {\n                    this.usage_data_provider = usage_data_provider\n                    this.usage_data_provider.report_types =\n                        this.formatReportTypes(usage_data_provider.report_types)\n                    this.getCounterRegistry(usage_data_provider.name, "edit")\n                },\n                error => {}\n            )\n        },\n        async getCounterRegistry(query, caller) {\n            const client = APIClient.erm\n            client.counter_registry.getAll({ name: query }).then(\n                registry_data => {\n                    this.registry_data = registry_data\n                    if (caller === "edit" && registry_data.length > 0) {\n                        this.selected_provider = registry_data.find(\n                            platform =>\n                                platform.name === this.usage_data_provider.name\n                        )\n                        this.valid_report_types =\n                            this.valid_report_types.filter(report =>\n                                this.selected_provider.reports.some(\n                                    r => r.report_id === report.value\n                                )\n                            )\n                    }\n                    if (caller === "edit" && registry_data.length === 0) {\n                        this.manual_form = true\n                    }\n                    this.searching = false\n                    this.initialized = true\n                },\n                error => {}\n            )\n        },\n        async getSushiService(url) {\n            const client = APIClient.erm\n            client.sushi_service.getAll({ url }).then(\n                sushi_service => {\n                    const { url, api_key_required, requestor_id_required } =\n                        sushi_service\n                    this.usage_data_provider.service_url = url\n                    this.required_fields = ["URL", "Release", "Customer"]\n                    api_key_required && this.required_fields.push("API")\n                    requestor_id_required &&\n                        this.required_fields.push("Requestor")\n                    this.sushi_service = sushi_service || {}\n                },\n                error => {}\n            )\n        },\n        getPlatformData(e) {\n            if (e.target.value.length > 1) {\n                this.searching = true\n                this.getCounterRegistry(e.target.value, "search")\n            }\n        },\n        async setPlatformData(e) {\n            const { sushi_services, reports, name } = e\n            this.valid_report_types = this.valid_report_types.filter(report =>\n                reports.some(r => r.report_id === report.value)\n            )\n            if (this.valid_report_types.length === 0) {\n                setWarning(\n                    this.$__(\n                        "This provider does not currently support any COUNTER 5 reports via SUSHI."\n                    )\n                )\n            }\n\n            this.selected_provider = e\n            this.usage_data_provider.name = name\n            await this.getSushiService(sushi_services[0].url)\n            this.usage_data_provider.report_release =\n                sushi_services[0].counter_release\n        },\n        createManualProvider() {\n            this.manual_form = true\n            this.selected_provider = null\n            this.sushi_service = null\n            this.required_fields = []\n        },\n        createFromRegistry() {\n            this.manual_form = false\n            this.selected_provider = null\n            this.sushi_service = null\n            this.required_fields = []\n            this.usage_data_provider.report_types = []\n        },\n        selectAll() {\n            this.usage_data_provider.report_types = this.valid_report_types.map(\n                report => {\n                    return report.value\n                }\n            )\n        },\n        unselectAll() {\n            this.usage_data_provider.report_types = []\n        },\n        formatReportTypes(reportTypes) {\n            const dataType =\n                typeof reportTypes === "string" ? "string" : "array"\n\n            if (dataType === "array") {\n                let report_types_string = ""\n                reportTypes.forEach(item => {\n                    report_types_string += item\n                    report_types_string += ";"\n                })\n                return report_types_string\n            }\n            if (dataType === "string") {\n                const single_report_types = reportTypes.split(";")\n                single_report_types.pop() // remove trailing "" from array\n                return single_report_types\n            }\n        },\n        onSubmit(e) {\n            e.preventDefault()\n\n            let usage_data_provider = JSON.parse(\n                JSON.stringify(this.usage_data_provider)\n            )\n            let erm_usage_data_provider_id =\n                usage_data_provider.erm_usage_data_provider_id\n            usage_data_provider.report_types = this.formatReportTypes(\n                usage_data_provider.report_types\n            )\n\n            delete usage_data_provider.erm_usage_data_provider_id\n\n            const client = APIClient.erm\n            if (erm_usage_data_provider_id) {\n                client.usage_data_providers\n                    .update(usage_data_provider, erm_usage_data_provider_id)\n                    .then(\n                        success => {\n                            setMessage(this.$__("Data provider updated"))\n                            this.$router.push({\n                                name: "UsageStatisticsDataProvidersShow",\n                                params: {\n                                    usage_data_provider_id:\n                                        erm_usage_data_provider_id,\n                                },\n                            })\n                        },\n                        error => {}\n                    )\n            } else {\n                client.usage_data_providers.create(usage_data_provider).then(\n                    success => {\n                        erm_usage_data_provider_id =\n                            success.erm_usage_data_provider_id\n                        setMessage(this.$__("Data provider created"))\n                        this.$router.push({\n                            name: "UsageStatisticsDataProvidersShow",\n                            params: {\n                                usage_data_provider_id:\n                                    erm_usage_data_provider_id,\n                            },\n                        })\n                    },\n                    error => {}\n                )\n            }\n        },\n    },\n    components: {\n        ButtonSubmit,\n    },\n    name: "UsageStatisticsDataProvidersFormAdd",\n}\n<\/script>\n\n<style scoped>\n.credentials {\n    display: flex;\n}\n.credentials_form {\n    width: 50%;\n}\n.list-header-btns {\n    margin: 0.5em 0 0.5em 0.5em;\n}\n</style>\n'],sourceRoot:""}]);let l=o},6025:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(7537),i=n.n(a),r=n(3645),o=n.n(r)()(i());o.push([e.id,"\n#usage_data_provider_list[data-v-4d706922] {\n    display: table;\n}\n.toolbar_options[data-v-4d706922] {\n    display: flex;\n}\n","",{version:3,sources:["webpack://./koha-tmpl/intranet-tmpl/prog/js/vue/components/ERM/UsageStatisticsDataProvidersList.vue"],names:[],mappings:";AAmWA;IACI,cAAc;AAClB;AACA;IACI,aAAa;AACjB",sourcesContent:['<template>\n    <div v-if="!initialized">{{ $__("Loading") }}</div>\n    <div v-else id="usage_data_providers_list">\n        <template class="toolbar_options">\n            <Toolbar />\n            <div\n                v-if="usage_data_provider_count > 0"\n                id="toolbar"\n                class="btn-toolbar"\n            >\n                <router-link\n                    :to="{ name: \'UsageStatisticsDataProvidersSummary\' }"\n                    class="btn btn-default"\n                >\n                    <i class="fa fa-list"></i>\n                    {{ $__("Data providers summary") }}</router-link\n                >\n            </div>\n        </template>\n        <div v-if="usage_data_provider_count > 0" class="page-section">\n            <KohaTable\n                ref="table"\n                v-bind="tableOptions"\n                @show="show_usage_data_provider"\n                @edit="edit_usage_data_provider"\n                @delete="delete_usage_data_provider"\n                @run_now="run_harvester_now"\n                @test_connection="test_harvester_connection"\n            ></KohaTable>\n        </div>\n        <div v-else-if="initialized" class="alert alert-info">\n            {{ $__("There are no usage data providers defined") }}\n        </div>\n    </div>\n</template>\n\n<script>\nimport Toolbar from "./UsageStatisticsDataProvidersToolbar.vue"\nimport { inject, ref } from "vue"\nimport { APIClient } from "../../fetch/api-client.js"\nimport KohaTable from "../KohaTable.vue"\n\nexport default {\n    setup() {\n        const AVStore = inject("AVStore") // Left in for future permissions fixes\n        const { get_lib_from_av, map_av_dt_filter } = AVStore\n\n        const { setConfirmationDialog, setMessage, setWarning } =\n            inject("mainStore")\n\n        const table = ref()\n\n        return {\n            get_lib_from_av,\n            map_av_dt_filter,\n            setConfirmationDialog,\n            setMessage,\n            setWarning,\n            table,\n        }\n    },\n    data: function () {\n        return {\n            usage_data_provider_count: 0,\n            initialized: false,\n            building_table: false,\n            tableOptions: {\n                columns: this.getTableColumns(),\n                options: {},\n                url: () => this.table_url(),\n                table_settings: this.usage_data_provider_table_settings,\n                add_filters: true,\n                actions: {\n                    0: ["show"],\n                    "-1": [\n                        {\n                            run_now: {\n                                text: this.$__("Run now"),\n                                icon: "fa fa-play",\n                            },\n                        },\n                        {\n                            test_connection: {\n                                text: this.$__("Test"),\n                                icon: "fa fa-check",\n                            },\n                        },\n                        "edit",\n                        "delete",\n                    ],\n                },\n            },\n        }\n    },\n    methods: {\n        async getUsageDataProviderCount() {\n            const client = APIClient.erm\n            await client.usage_data_providers.count().then(\n                count => {\n                    this.usage_data_provider_count = count\n                    this.initialized = true\n                },\n                error => {}\n            )\n        },\n        table_url() {\n            let url = "/api/v1/erm/usage_data_providers"\n            return url\n        },\n        show_usage_data_provider(usage_data_provider, dt, event) {\n            event.preventDefault()\n\n            this.$router.push({\n                name: "UsageStatisticsDataProvidersShow",\n                params: {\n                    usage_data_provider_id:\n                        usage_data_provider.erm_usage_data_provider_id,\n                },\n            })\n        },\n        edit_usage_data_provider(usage_data_provider, dt, event) {\n            this.$router.push({\n                name: "UsageStatisticsDataProvidersFormAddEdit",\n                params: {\n                    usage_data_provider_id:\n                        usage_data_provider.erm_usage_data_provider_id,\n                },\n            })\n        },\n        delete_usage_data_provider(usage_data_provider, dt, event) {\n            this.setConfirmationDialog(\n                {\n                    title: this.$__(\n                        "Are you sure you want to remove this data provider?"\n                    ),\n                    message: usage_data_provider.name,\n                    accept_label: this.$__("Yes, delete"),\n                    cancel_label: this.$__("No, do not delete"),\n                },\n                () => {\n                    const client = APIClient.erm\n                    client.usage_data_providers\n                        .delete(usage_data_provider.erm_usage_data_provider_id)\n                        .then(\n                            success => {\n                                this.setMessage(\n                                    this.$__("Data provider %s deleted").format(\n                                        usage_data_provider.name\n                                    ),\n                                    true\n                                )\n                                dt.draw()\n                            },\n                            error => {}\n                        )\n                }\n            )\n        },\n        run_harvester_now(usage_data_provider, dt, event) {\n            const { erm_usage_data_provider_id: id, name } = usage_data_provider\n\n            if (!usage_data_provider.active) {\n                this.setConfirmationDialog(\n                    {\n                        title: this.$__(\n                            "This data provider is set to \'Inactive\', do you wish to update the status to \'Active\'?"\n                        ),\n                        message: name,\n                        accept_label: this.$__("Yes, update status"),\n                        cancel_label: this.$__("No, do not update status"),\n                    },\n                    () => {\n                        usage_data_provider.active = 1\n                        delete usage_data_provider.erm_usage_data_provider_id\n                        // const counter_files = usage_data_provider.counter_files\n                        // delete usage_data_provider.counter_files\n                        delete usage_data_provider.earliest_platform\n                        delete usage_data_provider.latest_platform\n                        delete usage_data_provider.earliest_title\n                        delete usage_data_provider.latest_title\n                        delete usage_data_provider.earliest_database\n                        delete usage_data_provider.latest_database\n                        delete usage_data_provider.earliest_item\n                        delete usage_data_provider.latest_item\n                        const client = APIClient.erm\n                        client.usage_data_providers\n                            .update(usage_data_provider, id)\n                            .then(\n                                success => {\n                                    this.setMessage(\n                                        this.$__(\n                                            "Updated status for usage data provider %s"\n                                        ).format(name),\n                                        true\n                                    )\n                                    // usage_data_provider.counter_files =\n                                    // counter_files\n                                    dt.draw()\n                                },\n                                error => {}\n                            )\n                    }\n                )\n            } else {\n                let date = new Date()\n                this.setConfirmationDialog(\n                    {\n                        title: this.$__(\n                            "Are you sure you want to run the harvester for this data provider?"\n                        ),\n                        message: name,\n                        accept_label: this.$__("Yes, run"),\n                        cancel_label: this.$__("No, do not run"),\n                        inputs: [\n                            {\n                                id: "begin_date",\n                                type: "Date",\n                                value: null,\n                                required: true,\n                                label: this.$__("Begin date"),\n                            },\n                            {\n                                id: "end_date",\n                                type: "Date",\n                                value: $date_to_rfc3339($date(date.toString())),\n                                required: true,\n                                label: this.$__("End date"),\n                            },\n                        ],\n                    },\n                    callback_result => {\n                        const client = APIClient.erm\n                        client.usage_data_providers\n                            .process_SUSHI_response(id, {\n                                begin_date: callback_result.inputs.find(\n                                    input => {\n                                        return input.id == "begin_date"\n                                    }\n                                ).value,\n                                end_date: callback_result.inputs.find(input => {\n                                    return input.id == "end_date"\n                                }).value,\n                            })\n                            .then(\n                                success => {\n                                    let message = ""\n                                    success.jobs.forEach((job, i) => {\n                                        message +=\n                                            "<li>" +\n                                            this.$__(\n                                                "Job for report type <strong>%s</strong> has been queued"\n                                            ).format(job.report_type) +\n                                            \'. <a href="/cgi-bin/koha/admin/background_jobs.pl?op=view&id=\' +\n                                            job.job_id +\n                                            \'" target="_blank">\' +\n                                            this.$__("Check job progress") +\n                                            ".</a></li>"\n                                    })\n                                    this.setMessage(message, true)\n                                },\n                                error => {}\n                            )\n                    }\n                )\n            }\n        },\n        test_harvester_connection(usage_data_provider, dt, event) {\n            const { erm_usage_data_provider_id: id, name } = usage_data_provider\n\n            if (usage_data_provider.active) {\n                const client = APIClient.erm\n                client.usage_data_providers.test(id).then(\n                    success => {\n                        if (success) {\n                            this.setMessage(\n                                this.$__(\n                                    "Harvester connection was successful for usage data provider %s"\n                                ).format(name),\n                                true\n                            )\n                        } else {\n                            this.setMessage(\n                                this.$__(\n                                    "No connection for usage data provider %s, please check your credentials and try again."\n                                ).format(name),\n                                true\n                            )\n                        }\n                    },\n                    error => {}\n                )\n            } else {\n                this.setWarning(\n                    this.$__(\n                        "This data provider is inactive - connection testing is not possible"\n                    ),\n                    true\n                )\n            }\n        },\n        getTableColumns() {\n            return [\n                {\n                    title: __("Name"),\n                    data: "me.erm_usage_data_provider_id:me.name",\n                    searchable: true,\n                    orderable: true,\n                    render: function (data, type, row, meta) {\n                        return (\n                            \'<a href="/cgi-bin/koha/erm/eusage/usage_data_providers/\' +\n                            row.erm_usage_data_provider_id +\n                            \'" class="show">\' +\n                            escape_str(\n                                `${row.name} (#${row.erm_usage_data_provider_id})`\n                            ) +\n                            "</a>"\n                        )\n                    },\n                },\n                {\n                    title: __("Description"),\n                    data: "description",\n                    searchable: true,\n                    orderable: true,\n                },\n                {\n                    title: __("Status"),\n                    render: function (data, type, row, meta) {\n                        const status = row.active ? "Active" : "Inactive"\n                        return status\n                    },\n                    searchable: true,\n                    orderable: true,\n                },\n                {\n                    title: __("Last run"),\n                    data: "last_run",\n                    searchable: true,\n                    orderable: true,\n                },\n            ]\n        },\n    },\n    mounted() {\n        if (!this.building_table) {\n            this.building_table = true\n            this.getUsageDataProviderCount()\n        }\n    },\n    components: { Toolbar, KohaTable },\n    name: "DataProvidersList",\n}\n<\/script>\n\n<style scoped>\n#usage_data_provider_list {\n    display: table;\n}\n.toolbar_options {\n    display: flex;\n}\n</style>\n'],sourceRoot:""}]);let l=o},7042:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(7537),i=n.n(a),r=n(3645),o=n.n(r)()(i());o.push([e.id,"\n.active[data-v-1f44bada] {\n    cursor: pointer;\n}\n.toptabs[data-v-1f44bada] {\n    margin-bottom: 0;\n}\n","",{version:3,sources:["webpack://./koha-tmpl/intranet-tmpl/prog/js/vue/components/ERM/UsageStatisticsDataProvidersShow.vue"],names:[],mappings:";AAwPA;IACI,eAAe;AACnB;AACA;IACI,gBAAgB;AACpB",sourcesContent:['<template>\n    <div v-if="!initialized">{{ $__("Loading") }}</div>\n    <div v-else id="usage_data_providers_show">\n        <Toolbar>\n            <ToolbarButton\n                :to="{\n                    name: \'UsageStatisticsDataProvidersFormAddEdit\',\n                    params: {\n                        usage_data_provider_id:\n                            usage_data_provider.erm_usage_data_provider_id,\n                    },\n                }"\n                icon="pencil"\n                :title="$__(\'Edit\')"\n            />\n            <a\n                @click="\n                    delete_usage_data_provider(\n                        usage_data_provider.erm_usage_data_provider_id,\n                        usage_data_provider.name\n                    )\n                "\n                class="btn btn-default"\n                ><font-awesome-icon icon="trash" /> {{ $__("Delete") }}</a\n            >\n        </Toolbar>\n\n        <h2>\n            {{\n                $__("Data provider #%s").format(\n                    usage_data_provider.erm_usage_data_provider_id\n                )\n            }}\n        </h2>\n        <div id="usage_data_providerstabs" class="toptabs numbered">\n            <ul class="nav nav-tabs">\n                <li class="nav-item">\n                    <a\n                        href="#"\n                        class="nav-link"\n                        data-content="detail"\n                        @click="change_tab_content"\n                        v-bind:class="tab_content === \'detail\' ? \'active\' : \'\'"\n                        >{{ $__("Detail") }}</a\n                    >\n                </li>\n                <li\n                    v-for="(item, i) in available_data_types"\n                    class="nav-item"\n                    :key="i"\n                >\n                    <a\n                        href="#"\n                        class="nav-link"\n                        :data-content="item.data_type"\n                        @click="change_tab_content"\n                        v-bind:class="\n                            tab_content === item.data_type ? \'active\' : \'\'\n                        "\n                        >{{ item.tab_name }}</a\n                    >\n                </li>\n                <li class="nav-item">\n                    <a\n                        href="#"\n                        class="nav-link"\n                        data-content="upload"\n                        @click="change_tab_content"\n                        v-bind:class="tab_content === \'upload\' ? \'active\' : \'\'"\n                        >{{ $__("Manual upload") }}</a\n                    >\n                </li>\n                <li class="nav-item">\n                    <a\n                        href="#"\n                        class="nav-link"\n                        data-content="imports"\n                        @click="change_tab_content"\n                        v-bind:class="tab_content === \'imports\' ? \'active\' : \'\'"\n                        >{{ $__("Import logs") }}</a\n                    >\n                </li>\n            </ul>\n        </div>\n        <div class="tab-content">\n            <div\n                v-if="tab_content === \'detail\'"\n                class="usage_data_provider_detail"\n            >\n                <UsageStatisticsDataProviderDetails\n                    :usage_data_provider="usage_data_provider"\n                />\n            </div>\n            <template v-for="(item, i) in available_data_types">\n                <div v-if="tab_content === item.data_type" :key="i">\n                    <UsageStatisticsProviderDataList\n                        :data_type="item.data_type"\n                    />\n                </div>\n            </template>\n            <div v-if="tab_content === \'upload\'">\n                <UsageStatisticsDataProvidersFileImport />\n            </div>\n            <div v-if="tab_content === \'imports\'">\n                <UsageStatisticsDataProvidersCounterLogs />\n            </div>\n        </div>\n        <fieldset class="action">\n            <router-link\n                :to="{ name: \'UsageStatisticsDataProvidersList\' }"\n                role="button"\n                class="cancel"\n                >{{ $__("Close") }}</router-link\n            >\n        </fieldset>\n    </div>\n</template>\n\n<script>\nimport { inject } from "vue"\nimport { APIClient } from "../../fetch/api-client.js"\nimport Toolbar from "../Toolbar.vue"\nimport ToolbarButton from "../ToolbarButton.vue"\nimport UsageStatisticsDataProvidersFileImport from "./UsageStatisticsDataProvidersFileImport.vue"\nimport UsageStatisticsDataProvidersCounterLogs from "./UsageStatisticsDataProvidersCounterLogs.vue"\nimport UsageStatisticsDataProviderDetails from "./UsageStatisticsDataProviderDetails.vue"\nimport UsageStatisticsProviderDataList from "./UsageStatisticsProviderDataList.vue"\n\nexport default {\n    setup() {\n        const AVStore = inject("AVStore")\n        const { get_lib_from_av } = AVStore\n\n        const { setConfirmationDialog, setMessage } = inject("mainStore")\n\n        return {\n            get_lib_from_av,\n            setConfirmationDialog,\n            setMessage,\n        }\n    },\n    data() {\n        return {\n            usage_data_provider: {\n                erm_usage_data_provider_id: null,\n                name: "",\n                description: "",\n                active: 1,\n                method: "",\n                aggregator: "",\n                service_type: "",\n                service_url: "",\n                report_release: "",\n                customer_id: "",\n                requestor_id: "",\n                api_key: "",\n                requestor_name: "",\n                requestor_email: "",\n                report_types: [],\n            },\n            initialized: false,\n            tab_content: "detail",\n            available_data_types: [\n                {\n                    test: "TR",\n                    data_type: "title",\n                    tab_name: this.$__("Titles"),\n                },\n                {\n                    test: "PR",\n                    data_type: "platform",\n                    tab_name: this.$__("Platforms"),\n                },\n                { test: "IR", data_type: "item", tab_name: this.$__("Items") },\n                {\n                    test: "DR",\n                    data_type: "database",\n                    tab_name: this.$__("Databases"),\n                },\n            ],\n        }\n    },\n    beforeRouteEnter(to, from, next) {\n        next(vm => {\n            vm.getUsageDataProvider(to.params.usage_data_provider_id)\n        })\n    },\n    methods: {\n        async getUsageDataProvider(usage_data_provider_id) {\n            const client = APIClient.erm\n            client.usage_data_providers.get(usage_data_provider_id).then(\n                usage_data_provider => {\n                    this.usage_data_provider = usage_data_provider\n                    this.initialized = true\n                },\n                error => {}\n            )\n        },\n        change_tab_content(e) {\n            this.tab_content = e.target.getAttribute("data-content")\n        },\n        delete_usage_data_provider: function (\n            usage_data_provider_id,\n            usage_data_provider_name\n        ) {\n            this.setConfirmationDialog(\n                {\n                    title: this.$__(\n                        "Are you sure you want to remove this data provider?"\n                    ),\n                    message: usage_data_provider_name,\n                    accept_label: this.$__("Yes, delete"),\n                    cancel_label: this.$__("No, do not delete"),\n                },\n                () => {\n                    const client = APIClient.erm\n                    client.usage_data_providers\n                        .delete(usage_data_provider_id)\n                        .then(\n                            success => {\n                                this.setMessage(\n                                    this.$__(\n                                        "Usage data provider %s deleted"\n                                    ).format(usage_data_provider_name),\n                                    true\n                                )\n                                this.$router.push({\n                                    name: "UsageStatisticsDataProvidersList",\n                                })\n                            },\n                            error => {}\n                        )\n                }\n            )\n        },\n    },\n    name: "UsageStatisticsDataProvidersShow",\n    components: {\n        UsageStatisticsDataProvidersFileImport,\n        UsageStatisticsDataProvidersCounterLogs,\n        UsageStatisticsDataProviderDetails,\n        UsageStatisticsProviderDataList,\n        Toolbar,\n        ToolbarButton,\n    },\n}\n<\/script>\n<style scoped>\n.active {\n    cursor: pointer;\n}\n.toptabs {\n    margin-bottom: 0;\n}\n</style>\n'],sourceRoot:""}]);let l=o},6112:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(7537),i=n.n(a),r=n(3645),o=n.n(r)()(i());o.push([e.id,"\n#usage_data_provider_summary[data-v-2a340c9a] {\n    display: table;\n}\n.hide-table[data-v-2a340c9a] {\n    display: none;\n}\n","",{version:3,sources:["webpack://./koha-tmpl/intranet-tmpl/prog/js/vue/components/ERM/UsageStatisticsDataProvidersSummary.vue"],names:[],mappings:";AAoKA;IACI,cAAc;AAClB;AACA;IACI,aAAa;AACjB",sourcesContent:['<template>\n    <div v-if="!initialized">{{ $__("Loading") }}</div>\n    <div\n        v-else-if="usage_data_providers.length"\n        id="usage_data_providers_summary"\n    >\n        <div id="toolbar" class="btn-toolbar">\n            <router-link\n                :to="{ name: \'UsageStatisticsDataProvidersList\' }"\n                class="btn btn-default"\n            >\n                <i class="fa fa-list"></i>\n                {{ $__("Data providers list") }}</router-link\n            >\n        </div>\n        <div\n            v-if="usage_data_providers.length"\n            class="page-section hide-table"\n            ref="table_div"\n        >\n            <KohaTable ref="table" v-bind="tableOptions"></KohaTable>\n        </div>\n    </div>\n</template>\n\n<script>\nimport Toolbar from "./UsageStatisticsDataProvidersToolbar.vue"\nimport { inject, ref } from "vue"\nimport { APIClient } from "../../fetch/api-client.js"\nimport KohaTable from "../KohaTable.vue"\n\nexport default {\n    setup() {\n        const AVStore = inject("AVStore") // Left in for future permissions fixes\n        const { get_lib_from_av, map_av_dt_filter } = AVStore\n\n        const { setConfirmationDialog, setMessage } = inject("mainStore")\n\n        const table = ref()\n\n        return {\n            get_lib_from_av,\n            map_av_dt_filter,\n            setConfirmationDialog,\n            setMessage,\n            table,\n        }\n    },\n    data: function () {\n        return {\n            usage_data_providers: [],\n            initialized: false,\n            building_table: false,\n            tableOptions: {\n                columns: this.getTableColumns(),\n                options: { embed: "counter_files" },\n                url: () => this.table_url(),\n                table_settings: this.usage_data_provider_table_settings,\n                // add_filters: true,\n                actions: {},\n            },\n        }\n    },\n    methods: {\n        async getUsageDataProviders() {\n            const client = APIClient.erm\n            await client.usage_data_providers.getAll().then(\n                usage_data_providers => {\n                    this.usage_data_providers = usage_data_providers\n                    this.initialized = true\n                },\n                error => {}\n            )\n        },\n        table_url() {\n            let url = "/api/v1/erm/usage_data_providers"\n            return url\n        },\n        getTableColumns() {\n            const columns = [\n                {\n                    title: __("Provider"),\n                    data: "me.erm_usage_data_provider_id:me.name",\n                    searchable: true,\n                    orderable: true,\n                    render: function (data, type, row, meta) {\n                        return row.name\n                    },\n                },\n            ]\n\n            const data_types = ["title", "platform", "database", "item"]\n            data_types.forEach(data_type => {\n                columns.push(\n                    {\n                        title: __("Start"),\n                        data: "description",\n                        searchable: true,\n                        orderable: true,\n                        render: function (data, type, row, meta) {\n                            const date = row[`earliest_${data_type}`]\n                                ? row[`earliest_${data_type}`]\n                                : __("N/A")\n                            return date\n                        },\n                    },\n                    {\n                        title: __("End"),\n                        data: "description",\n                        searchable: true,\n                        orderable: true,\n                        render: function (data, type, row, meta) {\n                            const date = row[`latest_${data_type}`]\n                                ? row[`latest_${data_type}`]\n                                : __("N/A")\n                            return date\n                        },\n                    }\n                )\n            })\n\n            return columns\n        },\n        createTableHeader() {\n            const table = this.$refs.table.$el.getElementsByTagName("table")[0]\n\n            const row = table.insertRow(0)\n            const [cellOne, cellTwo, cellThree, cellFour, cellFive] =\n                Array.from("1".repeat(5)).map(item => {\n                    const cell = document.createElement("th")\n                    row.appendChild(cell)\n                    return cell\n                })\n            cellTwo.colSpan = 2\n            cellTwo.innerHTML = this.$__("Title reports")\n            cellThree.colSpan = 2\n            cellThree.innerHTML = this.$__("Platform reports")\n            cellFour.colSpan = 2\n            cellFour.innerHTML = this.$__("Database reports")\n            cellFive.colSpan = 2\n            cellFive.innerHTML = this.$__("Item reports")\n\n            this.$refs.table_div.classList.remove("hide-table")\n        },\n    },\n    watch: {\n        table() {\n            // table needs to be rendered before header can be created and\n            // table is hidden by .hide-table until table header is created\n            this.createTableHeader()\n        },\n    },\n    mounted() {\n        if (!this.building_table) {\n            this.building_table = true\n            this.getUsageDataProviders()\n        }\n    },\n    components: { Toolbar, KohaTable },\n    name: "UsageStatisticsDataProvidersSummary",\n}\n<\/script>\n\n<style scoped>\n#usage_data_provider_summary {\n    display: table;\n}\n.hide-table {\n    display: none;\n}\n</style>\n'],sourceRoot:""}]);let l=o},6096:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(7537),i=n.n(a),r=n(3645),o=n.n(r)()(i());o.push([e.id,"\n#title_list[data-v-780409a4] {\n    display: table;\n}\n","",{version:3,sources:["webpack://./koha-tmpl/intranet-tmpl/prog/js/vue/components/ERM/UsageStatisticsProviderDataList.vue"],names:[],mappings:";AAmKA;IACI,cAAc;AAClB",sourcesContent:['<template>\n    <div v-if="!initialized">{{ $__("Loading") }}</div>\n    <div v-else id="data_list">\n        <div v-if="data_count > 0" class="page-section">\n            <KohaTable ref="table" v-bind="tableOptions"></KohaTable>\n        </div>\n        <div v-else-if="initialized" class="alert alert-info">\n            {{\n                $__("No %s data has been harvested for this provider").format(\n                    data_type\n                )\n            }}\n        </div>\n    </div>\n</template>\n\n<script>\nimport { APIClient } from "../../fetch/api-client.js"\nimport { ref } from "vue"\nimport KohaTable from "../KohaTable.vue"\n\nexport default {\n    setup() {\n        const table = ref()\n\n        return {\n            table,\n        }\n    },\n    data() {\n        return {\n            data_count: 0,\n            initialized: false,\n            before_route_entered: false,\n            building_table: false,\n            tableOptions: {\n                columns: this.getTableColumns(),\n                options: {},\n                url: () => this.table_url(),\n                table_settings: this.title_table_settings,\n                add_filters: true,\n            },\n        }\n    },\n    methods: {\n        async getData() {\n            const client = APIClient.erm\n            await client[`usage_${this.data_type}s`]\n                .count({\n                    usage_data_provider_id:\n                        this.$route.params.usage_data_provider_id,\n                })\n                .then(\n                    count => {\n                        this.data_count = count\n                        this.initialized = true\n                    },\n                    error => {}\n                )\n        },\n        table_url() {\n            let url = "/api/v1/erm/usage_%ss?usage_data_provider_id=%s".format(\n                this.data_type,\n                this.$route.params.usage_data_provider_id\n            )\n            return url\n        },\n        getTableColumns() {\n            const column_options = [\n                {\n                    used_by: ["title", "platform", "item", "database"],\n                    column: {\n                        title:\n                            this.data_type.charAt(0).toUpperCase() +\n                            this.data_type.slice(1),\n                        data: this.data_type,\n                        searchable: true,\n                        orderable: true,\n                    },\n                },\n                {\n                    used_by: ["item", "database", "platforms"],\n                    column: {\n                        title: __("Platform"),\n                        data: "platform",\n                        searchable: true,\n                        orderable: true,\n                    },\n                },\n                {\n                    used_by: ["title", "item", "database"],\n                    column: {\n                        title: __("Publisher"),\n                        data: "publisher",\n                        searchable: true,\n                        orderable: true,\n                    },\n                },\n                {\n                    used_by: ["title", "database"],\n                    column: {\n                        title: __("Publisher ID"),\n                        data: "publisher_id",\n                        searchable: true,\n                        orderable: true,\n                    },\n                },\n                {\n                    used_by: ["title"],\n                    column: {\n                        title: __("DOI"),\n                        data: "title_doi",\n                        searchable: true,\n                        orderable: true,\n                    },\n                },\n                {\n                    used_by: ["title"],\n                    column: {\n                        title: __("Print ISSN"),\n                        data: "print_issn",\n                        searchable: true,\n                        orderable: true,\n                    },\n                },\n                {\n                    used_by: ["title"],\n                    column: {\n                        title: __("Online ISSN"),\n                        data: "online_issn",\n                        searchable: true,\n                        orderable: true,\n                    },\n                },\n                {\n                    used_by: ["title"],\n                    column: {\n                        title: __("URI"),\n                        data: "title_uri",\n                        searchable: true,\n                        orderable: true,\n                    },\n                },\n            ]\n            const columns = column_options\n                .filter(column => column.used_by.includes(this.data_type))\n                .map(result => result.column)\n            return columns\n        },\n    },\n    mounted() {\n        if (!this.building_table) {\n            this.building_table = true\n            this.getData()\n        }\n    },\n    props: ["data_type"],\n    components: { KohaTable },\n    name: "UsageStatisticsProviderDataList",\n}\n<\/script>\n\n<style scoped>\n#title_list {\n    display: table;\n}\n</style>\n'],sourceRoot:""}]);let l=o},8719:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(7537),i=n.n(a),r=n(3645),o=n.n(r)()(i());o.push([e.id,'\nh2[data-v-771263ae] {\n    margin-bottom: 0em;\n}\n.custom_usage_report h3[data-v-771263ae] {\n    margin-top: 1em;\n}\n.custom_report_builder[data-v-771263ae] {\n    display: flex;\n    flex-direction: column;\n}\n.checkbox_options[data-v-771263ae] {\n    display: flex;\n    justify-content: flex-start;\n    gap: 0px;\n}\n.checkbox[data-v-771263ae] {\n    display: inline-block;\n    float: none;\n    margin: 0;\n    padding: 0;\n    width: auto;\n}\n.date_display[data-v-771263ae] {\n    display: flex;\n    flex-direction: column;\n    justify-content: left;\n    text-align: left;\n    width: 100%;\n    gap: 0.5em;\n}\n.date_display_title[data-v-771263ae] {\n    text-align: left;\n    width: 100%;\n}\n.date_display_radio[data-v-771263ae] {\n    width: 100%;\n    text-align: left;\n}\ninput[data-v-771263ae]:not([type="submit"]):not([type="search"]):not([type="button"]):not([type="checkbox"]) {\n    min-width: 5%;\n}\n.month_selectors[data-v-771263ae] {\n    margin-right: 1em;\n}\n.month_labels[data-v-771263ae] {\n    width: 2em;\n    text-align: right;\n    margin: 0em;\n}\n.year_input[data-v-771263ae] {\n    width: 30%;\n    min-height: 2em;\n}\n.button_format[data-v-771263ae] {\n    padding: 0.5em 1em;\n    margin-left: 0.5em;\n}\n.save_report[data-v-771263ae] {\n    display: flex;\n    gap: 0.5em;\n    margin-top: 1em;\n}\n',"",{version:3,sources:["webpack://./koha-tmpl/intranet-tmpl/prog/js/vue/components/ERM/UsageStatisticsReportBuilder.vue"],names:[],mappings:";AAm/BA;IACI,kBAAkB;AACtB;AACA;IACI,eAAe;AACnB;AACA;IACI,aAAa;IACb,sBAAsB;AAC1B;AACA;IACI,aAAa;IACb,2BAA2B;IAC3B,QAAQ;AACZ;AACA;IACI,qBAAqB;IACrB,WAAW;IACX,SAAS;IACT,UAAU;IACV,WAAW;AACf;AACA;IACI,aAAa;IACb,sBAAsB;IACtB,qBAAqB;IACrB,gBAAgB;IAChB,WAAW;IACX,UAAU;AACd;AACA;IACI,gBAAgB;IAChB,WAAW;AACf;AACA;IACI,WAAW;IACX,gBAAgB;AACpB;AACA;IACI,aAAa;AACjB;AACA;IACI,iBAAiB;AACrB;AACA;IACI,UAAU;IACV,iBAAiB;IACjB,WAAW;AACf;AACA;IACI,UAAU;IACV,eAAe;AACnB;AACA;IACI,kBAAkB;IAClB,kBAAkB;AACtB;AACA;IACI,aAAa;IACb,UAAU;IACV,eAAe;AACnB",sourcesContent:['<template>\n    <div id="report-builder">\n        <h2>{{ $__("Build a custom report") }}</h2>\n        <form @submit="buildCustomReport($event)" class="custom_usage_report">\n            <fieldset class="rows custom_report_builder">\n                <div class="">\n                    <h3>{{ $__("Select report data") }}</h3>\n                    <ol>\n                        <li>\n                            <label for="interval"\n                                >{{ $__("Data display") }}:</label\n                            >\n                            <v-select\n                                id="interval"\n                                v-model="query.data_display"\n                                label="description"\n                                :reduce="interval => interval.value"\n                                :options="[\n                                    {\n                                        value: \'monthly\',\n                                        description: $__(\'By month\'),\n                                    },\n                                    {\n                                        value: \'monthly_with_totals\',\n                                        description: $__(\n                                            \'By month with period total\'\n                                        ),\n                                    },\n                                    {\n                                        value: \'yearly\',\n                                        description: $__(\'By year\'),\n                                    },\n                                    {\n                                        value: \'metric_type\',\n                                        description: $__(\'By metric type\'),\n                                    },\n                                    {\n                                        value: \'usage_data_provider\',\n                                        description: $__(\n                                            \'By data provider totals\'\n                                        ),\n                                    },\n                                ]"\n                                :required="!query.data_display"\n                            >\n                                <template #search="{ attributes, events }">\n                                    <input\n                                        :required="!query.data_display"\n                                        class="vs__search"\n                                        v-bind="attributes"\n                                        v-on="events"\n                                    />\n                                </template>\n                            </v-select>\n                            <span class="required">{{ $__("Required") }}</span>\n                        </li>\n                        <li>\n                            <label for="usage_data_provider"\n                                >{{ $__("Choose data provider") }}:</label\n                            >\n                            <v-select\n                                id="usage_data_provider"\n                                v-model="query.usage_data_providers"\n                                label="name"\n                                :reduce="\n                                    provider =>\n                                        provider.erm_usage_data_provider_id\n                                "\n                                :options="usage_data_provider_list"\n                                @update:modelValue="\n                                    setReportTypesAndResetFilterData($event)\n                                "\n                                multiple\n                            />\n                        </li>\n                        <li>\n                            <label for="report_types"\n                                >{{ $__("Choose report") }}:</label\n                            >\n                            <v-select\n                                id="report_type"\n                                v-model="query.report_type"\n                                label="description"\n                                :reduce="report => report.value"\n                                :options="report_types_options"\n                                @update:modelValue="\n                                    setMetricTypesAndProviderList($event)\n                                "\n                                :required="!query.report_type"\n                            >\n                                <template #search="{ attributes, events }">\n                                    <input\n                                        :required="!query.report_type"\n                                        class="vs__search"\n                                        v-bind="attributes"\n                                        v-on="events"\n                                    />\n                                </template>\n                            </v-select>\n                            <span class="required">{{ $__("Required") }}</span>\n                        </li>\n                        <li>\n                            <label for="metric_types"\n                                >{{ $__("Choose metric type") }}:</label\n                            >\n                            <v-select\n                                id="metric_types"\n                                v-model="query.metric_types"\n                                label="description"\n                                :reduce="metric => metric.value"\n                                :options="metric_types_options"\n                                multiple\n                                :disabled="\n                                    this.metric_types_options.length === 0\n                                "\n                            />\n                        </li>\n                        <li>\n                            <label for="access_types"\n                                >{{ $__("Choose access type") }}:</label\n                            >\n                            <v-select\n                                id="access_types"\n                                v-model="query.access_types"\n                                label="description"\n                                :options="access_types_options"\n                                multiple\n                                :disabled="\n                                    this.access_types_options.length === 0\n                                "\n                            />\n                        </li>\n                        <li>\n                            <label for="start_year"\n                                >{{ $__("Start year") }}:</label\n                            >\n                            <input\n                                id="start_year"\n                                class="year_input"\n                                v-model="query.start_year"\n                                :placeholder="\n                                    $__(\'Please enter year in format YYYY\')\n                                "\n                                required\n                            />\n                            <span class="required">{{ $__("Required") }}</span>\n                        </li>\n                        <li>\n                            <label for="start_month"\n                                >{{ $__("Start month") }}:</label\n                            >\n                            <v-select\n                                id="start-month"\n                                v-model="query.start_month"\n                                label="description"\n                                :reduce="month => month.value"\n                                :options="months_data"\n                                :disabled="\n                                    (query.data_display &&\n                                        query.data_display.includes(\n                                            \'yearly\'\n                                        )) ||\n                                    !query.data_display\n                                "\n                            />\n                        </li>\n                        <li>\n                            <label for="end_year">{{ $__("End year") }}:</label>\n                            <input\n                                id="end_year"\n                                class="year_input"\n                                v-model="query.end_year"\n                                :placeholder="\n                                    $__(\'Please enter year in format YYYY\')\n                                "\n                                required\n                            />\n                            <span class="required">{{ $__("Required") }}</span>\n                        </li>\n                        <li>\n                            <label for="end_month"\n                                >{{ $__("End month") }}:</label\n                            >\n                            <v-select\n                                id="end_month"\n                                v-model="query.end_month"\n                                label="description"\n                                :reduce="month => month.value"\n                                :options="months_data"\n                                :disabled="\n                                    (query.data_display &&\n                                        query.data_display.includes(\n                                            \'yearly\'\n                                        )) ||\n                                    !query.data_display\n                                "\n                            />\n                        </li>\n                        <li>\n                            <label for="keyword">{{ $__("Keyword") }}:</label>\n                            <v-select\n                                id="keyword"\n                                v-model="query.keywords"\n                                :label="data_type"\n                                :options="filter_data"\n                                multiple\n                                @input="dataSearchFilter($event)"\n                                :placeholder="\n                                    $__(\n                                        \'Type at least two characters to search\'\n                                    )\n                                "\n                            />\n                        </li>\n                    </ol>\n                </div>\n                <div class="">\n                    <h3>{{ $__("Select report columns") }}</h3>\n                    <ol class="checkbox_options">\n                        <li\n                            v-for="(\n                                prop, key, index\n                            ) in title_property_column_options"\n                            v-bind:key="index"\n                            class="checkbox_options"\n                        >\n                            <label :for="prop.name" class="checkbox"\n                                >{{ prop.name }}:</label\n                            >\n                            <input\n                                type="checkbox"\n                                :name="prop.name"\n                                :id="prop.name"\n                                :checked="true"\n                                v-model="\n                                    title_property_column_options[key].active\n                                "\n                                :disabled="\n                                    !prop.used_by.includes(this.data_type)\n                                "\n                            />\n                        </li>\n                    </ol>\n                </div>\n                <div\n                    v-if="\n                        query.data_display &&\n                        query.data_display.includes(\'monthly\')\n                    "\n                >\n                    <h3>{{ $__("Select date display method") }}</h3>\n                    <div class="date_display">\n                        <label\n                            for="yearly_filter_required"\n                            class="date_display_title"\n                            >{{ $__("Display data filtered by year") }}:</label\n                        >\n                        <label\n                            for="yearly_filter_required_yes"\n                            class="date_display_radio"\n                        >\n                            <input\n                                type="radio"\n                                name="yearly_or_monthly"\n                                id="yearly_filter_required_yes"\n                                @change="monthSelector($event)"\n                                :checked="yearly_filter_required ? true : false"\n                            />\n                            {{\n                                $__(\n                                    "Yes - Table will be limited to 12 columns (Jan-Dec) with the option to switch between years"\n                                )\n                            }}\n                        </label>\n                        <label\n                            for="yearly_filter_required_no"\n                            class="date_display_radio"\n                        >\n                            <input\n                                type="radio"\n                                name="yearly_or_monthly"\n                                id="yearly_filter_required_no"\n                                @change="monthSelector($event)"\n                                :checked="\n                                    !yearly_filter_required ? true : false\n                                "\n                            />\n                            {{\n                                $__(\n                                    "No - Table will include one column for every month of data selected"\n                                )\n                            }}\n                        </label>\n                    </div>\n                </div>\n                <div v-if="!yearly_filter_required">\n                    <h3>{{ $__("Select which months to display") }}</h3>\n                    <ol>\n                        <li\n                            v-for="(\n                                year, key, index\n                            ) in time_period_columns_builder"\n                            v-bind:key="key + index"\n                            class="checkbox_options"\n                        >\n                            <label :for="key">{{ $__(key) }}: </label>\n                            <div\n                                v-for="(month, i) in year"\n                                v-bind:key="key + i"\n                                class="month_selectors"\n                            >\n                                <label for="month" class="month_labels">\n                                    {{ month.short }}\n                                </label>\n                                <input\n                                    type="checkbox"\n                                    :name="month.short"\n                                    :id="month.short + key"\n                                    :key="month + key + i"\n                                    :checked="true"\n                                    @change="\n                                        updateMonthsRequired(\n                                            $event,\n                                            key,\n                                            i,\n                                            this.time_period_columns_builder\n                                        )\n                                    "\n                                />\n                            </div>\n                        </li>\n                    </ol>\n                </div>\n            </fieldset>\n            <fieldset class="action">\n                <ButtonSubmit />\n                <button @click="clearForm($event)" class="btn btn-default">\n                    {{ $__("Clear") }}\n                </button>\n            </fieldset>\n            <div class="save_report">\n                <input\n                    id="report_name"\n                    v-model="report_name"\n                    :placeholder="$__(\'Enter report name\')"\n                    class="year_input"\n                />\n                <button\n                    @click="saveToDefaultReports($event)"\n                    class="btn btn-default"\n                >\n                    {{ $__("Save report") }}\n                </button>\n            </div>\n        </form>\n    </div>\n</template>\n\n<script>\nimport ButtonSubmit from "../ButtonSubmit.vue"\nimport { inject } from "vue"\nimport { storeToRefs } from "pinia"\nimport { APIClient } from "../../fetch/api-client.js"\n\nexport default {\n    setup() {\n        const AVStore = inject("AVStore")\n        const {\n            av_report_types,\n            av_platform_reports_metrics,\n            av_database_reports_metrics,\n            av_title_reports_metrics,\n            av_item_reports_metrics,\n        } = storeToRefs(AVStore)\n\n        const { setConfirmationDialog, setMessage, setError } =\n            inject("mainStore")\n\n        const { getMonthsData, getColumnOptions } = inject("reportsStore")\n\n        const months_data = getMonthsData()\n        const title_property_column_options = getColumnOptions()\n\n        return {\n            av_report_types,\n            av_platform_reports_metrics,\n            av_database_reports_metrics,\n            av_title_reports_metrics,\n            av_item_reports_metrics,\n            setConfirmationDialog,\n            setMessage,\n            setError,\n            months_data,\n            title_property_column_options,\n        }\n    },\n    data() {\n        return {\n            query: {\n                data_display: "monthly",\n                report_type: null,\n                metric_types: null,\n                access_types: null,\n                usage_data_providers: null,\n                keywords: null,\n                start_month: null,\n                start_year: null,\n                end_month: null,\n                end_year: null,\n            },\n            yearly_filter_required: true,\n            metric_types_matrix: {\n                Searches_Platform: ["PR", "PR_P1"],\n                Searches_Automated: ["DR", "DR_D1"],\n                Searches_Federated: ["DR", "DR_D1"],\n                Searches_Regular: ["DR", "DR_D1"],\n                Total_Item_Investigations: [\n                    "PR",\n                    "DR",\n                    "DR_D1",\n                    "TR",\n                    "TR_B3",\n                    "TR_J3",\n                    "IR",\n                ],\n                Total_Item_Requests: [\n                    "PR",\n                    "PR_P1",\n                    "DR",\n                    "DR_D1",\n                    "TR",\n                    "TR_B1",\n                    "TR_B3",\n                    "TR_J1",\n                    "TR_J3",\n                    "TR_J4",\n                    "IR",\n                    "IR_A1",\n                    "IR_M1",\n                ],\n                Unique_Item_Investigations: [\n                    "PR",\n                    "DR",\n                    "TR",\n                    "TR_B3",\n                    "TR_J3",\n                    "IR",\n                ],\n                Unique_Item_Requests: [\n                    "PR",\n                    "PR_P1",\n                    "DR",\n                    "TR",\n                    "TR_B3",\n                    "TR_J1",\n                    "TR_J3",\n                    "TR_J4",\n                    "IR",\n                    "IR_A1",\n                ],\n                Unique_Title_Investigations: ["PR", "DR", "TR", "TR_B3"],\n                Unique_Title_Requests: [\n                    "PR",\n                    "PR_P1",\n                    "DR",\n                    "TR",\n                    "TR_B1",\n                    "TR_B3",\n                ],\n                Limit_Exceeded: ["DR", "DR_D2", "TR", "TR_B2", "TR_J2", "IR"],\n                No_License: ["DR", "DR_D2", "TR", "TR_B2", "TR_J2", "IR"],\n            },\n            metric_types_options: [],\n            access_types_options: [],\n            report_types_options: [...this.av_report_types],\n            filter_data: [],\n            usage_data_provider_list: [...this.usage_data_providers],\n            time_period_columns_builder: null,\n            request_url: null,\n            report_name: "",\n            data_type: null,\n        }\n    },\n    methods: {\n        async getData(query, report_type) {\n            const client = APIClient.erm\n            await client[`usage_${report_type}s`].getAll(query).then(\n                response => {\n                    // If multiple searches are done we need to keep the results of the\n                    // earlier searches but not allow for duplicate objects in the option array\n                    const addNewData = [...this.filter_data, ...response]\n                    const removedDuplicates = [\n                        ...new Map(\n                            addNewData.map(object => [\n                                object[`${report_type}_id`],\n                                object,\n                            ])\n                        ).values(),\n                    ]\n                    this.filter_data = removedDuplicates\n                },\n                error => {}\n            )\n        },\n        dataSearchFilter(e) {\n            const report_type = this.query.report_type\n            const data_type = this.data_type\n            if (!report_type) {\n                alert("Please select a report type")\n            }\n            if (e.target.value.length > 1) {\n                const providers = this.query.usage_data_providers\n                    ? this.query.usage_data_providers\n                    : []\n                const dataQueryObject = {}\n                dataQueryObject[data_type] = { "-like": `${e.target.value}%` }\n                if (providers.length) {\n                    dataQueryObject.usage_data_provider_id = providers\n                }\n                this.getData(dataQueryObject, this.data_type)\n            }\n        },\n        validateYear(year) {\n            const validYearCheck = /^\\d{4}$/.test(year) ? true : false\n            return validYearCheck\n        },\n        clearForm(e) {\n            e.preventDefault()\n\n            this.query = {\n                data_display: "monthly",\n                report_type: null,\n                metric_types: null,\n                access_types: null,\n                usage_data_providers: null,\n                keywords: null,\n                start_month: null,\n                start_year: null,\n                end_month: null,\n                end_year: null,\n            }\n            this.yearly_filter_required = true\n        },\n        buildCustomReport(e) {\n            e.preventDefault()\n\n            const urlParams = this.validateFormAndCreateUrlParams()\n\n            this.$router.push({\n                name: "UsageStatisticsReportsViewer",\n                query: { data: JSON.stringify(urlParams) },\n            })\n        },\n        monthSelector(e) {\n            if (!this.query.start_year || !this.query.end_year) {\n                alert(\n                    "Please select a start and end year before choosing this option"\n                )\n                return\n            }\n            if (e.target.id === "yearly_filter_required_no") {\n                const years = []\n                for (\n                    let i = parseInt(this.query.start_year);\n                    i <= parseInt(this.query.end_year);\n                    i++\n                ) {\n                    years.push(i)\n                }\n\n                const months = this.determineMonths(\n                    this.query,\n                    years,\n                    this.months_data\n                )\n\n                this.time_period_columns_builder = months\n                this.yearly_filter_required = false\n            } else {\n                this.time_period_columns_builder = null\n                this.yearly_filter_required = true\n            }\n        },\n        determineMonths(query, years, months_data) {\n            const { start_month, end_month } = query\n            const months_per_year = {}\n            const numberOfYears = years.length\n\n            years.forEach((year, index) => {\n                // No month parameters selected - return all months\n                if (!start_month && !end_month) {\n                    const copied_months = months_data.map(month => {\n                        return { ...month }\n                    })\n                    months_per_year[year] = copied_months\n                    return\n                }\n                // If a report of 3+ years is chosen, "middle" years will return all months\n                if (index > 0 && index + 1 < numberOfYears) {\n                    const copied_months = months_data.map(month => {\n                        return { ...month }\n                    })\n                    months_per_year[year] = copied_months\n                    return\n                }\n                // If a single year report is chosen, return the correct number of months\n                if (index === 0 && numberOfYears === 1) {\n                    const months = []\n                    const first_month = start_month ? parseInt(start_month) : 1\n                    const last_month = end_month ? parseInt(end_month) : 12\n                    for (let i = first_month; i <= last_month; i++) {\n                        months.push(months_data[i - 1])\n                    }\n                    months_per_year[year] = months\n                    return\n                }\n                // If a multiple year report is chosen, ensure the first year has the correct months\n                if (index === 0 && numberOfYears > 1) {\n                    const months = []\n                    const first_month = start_month ? parseInt(start_month) : 1\n                    for (let i = first_month; i <= 12; i++) {\n                        months.push(months_data[i - 1])\n                    }\n                    months_per_year[year] = months\n                    return\n                }\n                // If a multiple year report is chosen, ensure the final year has the correct months\n                if (index + 1 === numberOfYears && numberOfYears > 1) {\n                    const months = []\n                    const last_month = end_month ? parseInt(end_month) : 12\n                    for (let i = 1; i <= last_month; i++) {\n                        months.push(months_data[i - 1])\n                    }\n                    months_per_year[year] = months\n                    return\n                }\n            })\n            return months_per_year\n        },\n        updateMonthsRequired($event, key, index, time_period_columns) {\n            const value = $event.target.checked\n\n            time_period_columns[key][index].active = value\n\n            this.time_period_columns_builder = time_period_columns\n        },\n        buildMonthlyUrlQuery(\n            query,\n            time_period_columns,\n            data_display,\n            db_table\n        ) {\n            let url\n            let prefix\n            switch (data_display) {\n                case "monthly":\n                case "monthly_with_totals":\n                    url = `/api/v1/erm/eUsage/monthly_report/${db_table}`\n                    prefix = "erm_usage_muses"\n                    break\n                case "metric_type":\n                    url = `/api/v1/erm/eUsage/metric_types_report/${db_table}`\n                    prefix = "erm_usage_muses"\n                    break\n                case "usage_data_provider":\n                    url = `/api/v1/erm/eUsage/provider_rollup_report/${db_table}`\n                    prefix = `erm_usage_${db_table}s.erm_usage_muses`\n                    break\n            }\n\n            // Work out which years are included in the query\n            const years = []\n            const {\n                start_year,\n                end_year,\n                metric_types,\n                access_types,\n                usage_data_providers,\n                keywords,\n                report_type,\n            } = query\n\n            for (let i = parseInt(start_year); i <= parseInt(end_year); i++) {\n                years.push(i)\n            }\n\n            const months = time_period_columns\n                ? time_period_columns\n                : this.determineMonths(query, years, this.months_data)\n            this.time_period_columns_builder = months\n\n            // Build a query array by year - [{ year1 }, {year2} ...etc]\n            const queryArray = years.map(year => {\n                const queryByYear = {}\n\n                queryByYear[`${prefix}.year`] = year\n                queryByYear[`${prefix}.report_type`] = report_type\n\n                // Find the months applicable to each year, ignoring months that have been de-selected\n                const queryMonths = months[year]\n                    .filter(month => month.active)\n                    .map(month => {\n                        return month.value\n                    })\n                queryByYear[`${prefix}.month`] = queryMonths\n                // Add any keyword query\n                if (keywords) {\n                    const object_ids = keywords.map(object => {\n                        return object[`${db_table}_id`]\n                    })\n                    queryByYear[`${prefix}.${db_table}_id`] = object_ids\n                }\n                // Add any metric types query\n                if (metric_types) {\n                    queryByYear[`${prefix}.metric_type`] = metric_types\n                }\n                // Add any access types query\n                if (access_types) {\n                    queryByYear[`${prefix}.access_type`] = access_types\n                }\n                // Add any data provider query\n                if (usage_data_providers) {\n                    queryByYear[`${prefix}.usage_data_provider_id`] =\n                        usage_data_providers\n                }\n\n                return queryByYear\n            })\n\n            url += `?q=${JSON.stringify(queryArray)}`\n\n            return url\n        },\n        buildYearlyUrlQuery(query, db_table) {\n            let url = `/api/v1/erm/eUsage/yearly_report/${db_table}`\n            const {\n                start_year,\n                end_year,\n                metric_types,\n                access_types,\n                usage_data_providers,\n                keywords,\n                report_type,\n            } = query\n            const queryObject = {}\n            // Work out which years are included in the query\n            const years = []\n\n            for (let i = parseInt(start_year); i <= parseInt(end_year); i++) {\n                years.push(i)\n            }\n            queryObject["erm_usage_yuses.year"] = years\n            this.time_period_columns_builder = years\n            queryObject[`erm_usage_yuses.report_type`] = report_type\n\n            // Add any metric types query\n            if (metric_types) {\n                queryObject[`erm_usage_yuses.metric_type`] = metric_types\n            }\n            // Add any access types query\n            if (access_types) {\n                queryObject[`erm_usage_yuses.access_type`] = access_types\n            }\n            // Add any keyword query\n            if (keywords) {\n                const object_ids = keywords.map(object => {\n                    return object[`${db_table}_id`]\n                })\n                queryObject[`erm_usage_yuses.${db_table}_id`] = object_ids\n            }\n            // Add any data provider query\n            if (usage_data_providers) {\n                queryObject[`erm_usage_yuses.usage_data_provider_id`] =\n                    usage_data_providers\n            }\n            url += `?q=${JSON.stringify(queryObject)}`\n\n            return url\n        },\n        setMetricTypesAndProviderList(e) {\n            const report_type = e\n            const possible_metric_types = []\n            let av_type\n\n            this.filter_data.length = 0\n            this.query.keywords = null\n\n            if (report_type) {\n                switch (report_type.substring(0, 1)) {\n                    case "P":\n                        av_type = this.av_platform_reports_metrics\n                        this.data_type = "platform"\n                        break\n                    case "T":\n                        av_type = this.av_title_reports_metrics\n                        this.data_type = "title"\n                        break\n                    case "I":\n                        av_type = this.av_item_reports_metrics\n                        this.data_type = "item"\n                        break\n                    case "D":\n                        av_type = this.av_database_reports_metrics\n                        this.data_type = "database"\n                        break\n                }\n\n                if (report_type === "TR_J3" || report_type === "TR_B3") {\n                    this.access_types_options = ["Controlled", "OA_Gold"]\n                } else {\n                    this.access_types_options = []\n                }\n\n                for (const metric in this.metric_types_matrix) {\n                    if (\n                        this.metric_types_matrix[metric].includes(\n                            report_type,\n                            false\n                        )\n                    ) {\n                        const av_metric_type = av_type.find(\n                            type => metric === type.value\n                        )\n                        possible_metric_types.push(av_metric_type)\n                    }\n                }\n                this.metric_types_options = possible_metric_types\n\n                // Limit usage data providers to those with the applicable report type\n                this.usage_data_provider_list =\n                    this.usage_data_providers.filter(provider => {\n                        const report_types = provider.report_types\n                        const single_report_types = report_types.split(";")\n                        single_report_types.pop()\n\n                        return single_report_types.includes(report_type)\n                    })\n                // Unselect any additional columns that aren\'t applicable to this data_type\n                const title_properties = Object.keys(\n                    this.title_property_column_options\n                )\n                title_properties.shift() // Remove the first column as this is a default\n                title_properties.forEach(prop => {\n                    if (\n                        !this.title_property_column_options[\n                            prop\n                        ].used_by.includes(this.data_type)\n                    ) {\n                        this.title_property_column_options[prop].active = false\n                    }\n                })\n            } else {\n                this.metric_types_options = []\n                this.query.metric_types = null\n                // Reset data providers to include all providers\n                this.usage_data_provider_list = [...this.usage_data_providers]\n            }\n        },\n        setReportTypesAndResetFilterData(providers) {\n            const permittedReportTypes = []\n            if (providers.length === 0) {\n                this.report_types_options = this.av_report_types\n                this.query.keywords = null\n                this.filter_data.length = 0\n                return\n            }\n\n            providers.forEach(id => {\n                const data_provider = this.usage_data_providers.find(\n                    item => item.erm_usage_data_provider_id === id\n                )\n                const report_types = data_provider.report_types\n                const single_report_types = report_types.split(";")\n                single_report_types.pop() // remove trailing "" from array\n\n                single_report_types.forEach(type => {\n                    const report_type = this.av_report_types.find(\n                        rt => rt.value === type\n                    )\n                    permittedReportTypes.push(report_type)\n                })\n                // If we change/remove a data provider then we don\'t want data being displayed from that provider in the dropdown\n                const removeProviderData = this.filter_data.filter(\n                    obj => obj.erm_usage_data_provider_id !== id\n                )\n                this.filter_data = removeProviderData\n            })\n            this.report_types_options = permittedReportTypes\n        },\n        defineColumns(title_props) {\n            const columns = []\n            // Add user selected columns\n            const title_properties = Object.keys(title_props)\n            title_properties.forEach(prop => {\n                if (title_props[prop].active) {\n                    columns.push(title_props[prop].id)\n                }\n            })\n\n            return columns\n        },\n        async saveToDefaultReports(e) {\n            e.preventDefault()\n\n            if (!this.report_name) {\n                alert("Please provide a report name")\n                return\n            }\n            const params = this.validateFormAndCreateUrlParams()\n            const report = {\n                report_name: this.report_name,\n                report_url_params: JSON.stringify(params),\n            }\n\n            const client = APIClient.erm\n            await client.default_usage_reports.create(report).then(\n                success => {\n                    this.setMessage(this.$__("Report saved successfully"))\n                },\n                error => {}\n            )\n        },\n        validateFormAndCreateUrlParams() {\n            const queryObject = { ...this.query }\n            const {\n                start_year,\n                end_year,\n                data_display,\n                report_type,\n                metric_types,\n                access_types,\n            } = queryObject\n\n            if (!report_type || !start_year || !end_year) {\n                alert(\n                    "You have not filled in all the required fields, please try again"\n                )\n                return\n            }\n\n            // validate if the year is a valid string\n            const valid_start_year = this.validateYear(start_year)\n            const valid_end_year = this.validateYear(end_year)\n\n            if (!valid_start_year || !valid_end_year) {\n                this.setError(\n                    this.$__("Please enter a year with the format YYYY")\n                )\n                return\n            }\n\n            // If no metric types are selected then all possible values should be included for backend data filtering\n            if (!metric_types || (metric_types && metric_types.length === 0)) {\n                const final_metric_types = this.metric_types_options.map(\n                    metric => {\n                        return metric.value\n                    }\n                )\n                queryObject.metric_types = final_metric_types\n            }\n            // If no access types are selected then all possible values should be included for backend data filtering ( but only for TR_J3 and TR_B3 reports)\n            if (\n                (report_type === "TR_J3" || report_type === "TR_B3") &&\n                (!access_types || (access_types && access_types.length === 0))\n            ) {\n                const final_access_types = this.access_types_options.map(\n                    access => {\n                        return access\n                    }\n                )\n                queryObject.access_types = final_access_types\n            }\n\n            // Determine which database table should be queried\n            const url = !data_display.includes("yearly")\n                ? this.buildMonthlyUrlQuery(\n                      queryObject,\n                      this.time_period_columns_builder,\n                      data_display,\n                      this.data_type\n                  )\n                : this.buildYearlyUrlQuery(queryObject, this.data_type)\n            const type = data_display\n            const columns =\n                data_display === "usage_data_provider"\n                    ? []\n                    : this.defineColumns(this.title_property_column_options)\n            const yearly_filter = data_display.includes("monthly")\n                ? this.yearly_filter_required\n                : false\n\n            const urlParams = {\n                url,\n                columns,\n                queryObject,\n                yearly_filter,\n                type,\n                tp_columns: this.time_period_columns_builder,\n            }\n\n            return urlParams\n        },\n    },\n    props: ["usage_data_providers"],\n    components: {\n        ButtonSubmit,\n    },\n}\n<\/script>\n\n<style scoped>\nh2 {\n    margin-bottom: 0em;\n}\n.custom_usage_report h3 {\n    margin-top: 1em;\n}\n.custom_report_builder {\n    display: flex;\n    flex-direction: column;\n}\n.checkbox_options {\n    display: flex;\n    justify-content: flex-start;\n    gap: 0px;\n}\n.checkbox {\n    display: inline-block;\n    float: none;\n    margin: 0;\n    padding: 0;\n    width: auto;\n}\n.date_display {\n    display: flex;\n    flex-direction: column;\n    justify-content: left;\n    text-align: left;\n    width: 100%;\n    gap: 0.5em;\n}\n.date_display_title {\n    text-align: left;\n    width: 100%;\n}\n.date_display_radio {\n    width: 100%;\n    text-align: left;\n}\ninput:not([type="submit"]):not([type="search"]):not([type="button"]):not([type="checkbox"]) {\n    min-width: 5%;\n}\n.month_selectors {\n    margin-right: 1em;\n}\n.month_labels {\n    width: 2em;\n    text-align: right;\n    margin: 0em;\n}\n.year_input {\n    width: 30%;\n    min-height: 2em;\n}\n.button_format {\n    padding: 0.5em 1em;\n    margin-left: 0.5em;\n}\n.save_report {\n    display: flex;\n    gap: 0.5em;\n    margin-top: 1em;\n}\n</style>\n'],sourceRoot:""}]);let l=o},1024:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(7537),i=n.n(a),r=n(3645),o=n.n(r)()(i());o.push([e.id,"\n.rows[data-v-cb441022] {\n    float: none;\n}\n.toptabs[data-v-cb441022] {\n    margin-bottom: 0;\n}\n","",{version:3,sources:["webpack://./koha-tmpl/intranet-tmpl/prog/js/vue/components/ERM/UsageStatisticsReportsHome.vue"],names:[],mappings:";AA6GA;IACI,WAAW;AACf;AACA;IACI,gBAAgB;AACpB",sourcesContent:['<template>\n    <div v-if="!initialized">{{ $__("Loading") }}</div>\n    <div v-else id="report_builder">\n        <h2>{{ $__("Usage statistics reports") }}</h2>\n        <div id="usage_data_providerstabs" class="toptabs numbered">\n            <ul class="nav nav-tabs" role="tablist">\n                <li class="nav-item" role="presentation">\n                    <a\n                        href="#"\n                        class="nav-link"\n                        data-content="default"\n                        @click="changeCustomOrDefault"\n                        v-bind:class="\n                            custom_or_default === \'default\' ? \'active\' : \'\'\n                        "\n                        >{{ $__("Saved reports") }}</a\n                    >\n                </li>\n                <li class="nav-item" role="presentation">\n                    <a\n                        href="#"\n                        class="nav-link"\n                        data-content="custom"\n                        @click="changeCustomOrDefault"\n                        v-bind:class="\n                            custom_or_default === \'custom\' ? \'active\' : \'\'\n                        "\n                        >{{ $__("Create report") }}</a\n                    >\n                </li>\n            </ul>\n        </div>\n        <div class="tab-content">\n            <div v-if="custom_or_default === \'default\'">\n                <UsageStatisticsSavedReports />\n            </div>\n            <div v-if="custom_or_default === \'custom\'">\n                <UsageStatisticsReportBuilder\n                    :usage_data_providers="usage_data_providers"\n                />\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { inject } from "vue"\nimport ButtonSubmit from "../ButtonSubmit.vue"\nimport { APIClient } from "../../fetch/api-client.js"\nimport UsageStatisticsReportBuilder from "./UsageStatisticsReportBuilder.vue"\nimport UsageStatisticsSavedReports from "./UsageStatisticsSavedReports.vue"\n\nexport default {\n    setup() {\n        const { setConfirmationDialog, setMessage, setError } =\n            inject("mainStore")\n\n        return {\n            setConfirmationDialog,\n            setMessage,\n            setError,\n        }\n    },\n    data() {\n        return {\n            initialized: false,\n            custom_or_default: "default",\n            default_usage_report: null,\n            default_usage_reports: [],\n            usage_data_providers: [],\n        }\n    },\n    beforeRouteEnter(to, from, next) {\n        next(vm => {\n            vm.getUsageDataProviders()\n        })\n    },\n    methods: {\n        async getUsageDataProviders() {\n            const client = APIClient.erm\n            await client.usage_data_providers.getAll().then(\n                usage_data_providers => {\n                    if (usage_data_providers.length === 0) {\n                        this.setError(\n                            this.$__(\n                                "No data providers have been created -  no report data will be available"\n                            )\n                        )\n                    }\n                    this.usage_data_providers = usage_data_providers\n                    this.initialized = true\n                },\n                error => {}\n            )\n        },\n        changeCustomOrDefault(e) {\n            this.custom_or_default = e.target.getAttribute("data-content")\n        },\n    },\n    components: {\n        ButtonSubmit,\n        UsageStatisticsReportBuilder,\n        UsageStatisticsSavedReports,\n    },\n    name: "UsageStatisticsReportsHome",\n}\n<\/script>\n\n<style scoped>\n.rows {\n    float: none;\n}\n.toptabs {\n    margin-bottom: 0;\n}\n</style>\n'],sourceRoot:""}]);let l=o},1236:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(7537),i=n.n(a),r=n(3645),o=n.n(r)()(i());o.push([e.id,"\n.title_property_options[data-v-43cec692] {\n    display: flex;\n}\n.checkbox[data-v-43cec692] {\n    display: inline-block;\n    float: none;\n    margin: 0;\n    padding: 0;\n    width: auto;\n}\n.yearly_filter[data-v-43cec692] {\n    display: flex;\n    align-items: center;\n    gap: 1em;\n}\n.v-select[data-v-43cec692] {\n    max-width: 30%;\n}\n.hide-table[data-v-43cec692] {\n    display: none;\n}\n","",{version:3,sources:["webpack://./koha-tmpl/intranet-tmpl/prog/js/vue/components/ERM/UsageStatisticsReportsViewer.vue"],names:[],mappings:";AAggBA;IACI,aAAa;AACjB;AACA;IACI,qBAAqB;IACrB,WAAW;IACX,SAAS;IACT,UAAU;IACV,WAAW;AACf;AACA;IACI,aAAa;IACb,mBAAmB;IACnB,QAAQ;AACZ;AACA;IACI,cAAc;AAClB;AACA;IACI,aAAa;AACjB",sourcesContent:['<template>\n    <div v-if="!initialized">{{ $__("Loading") }}</div>\n    <div v-if="initialized" id="usage_list">\n        <fieldset v-if="yearly_filter" class="yearly_filter">\n            <label for="year_filter">{{ $__("Display by year") }}:</label>\n            <v-select\n                id="year_select"\n                v-model="year"\n                :reduce="year => year"\n                label="description"\n                :options="years"\n            />\n            <input\n                @click="update_table()"\n                id="filter_table"\n                type="button"\n                :value="$__(\'Update table\')"\n            />\n        </fieldset>\n        <div class="page-section hide-table" ref="table_div">\n            <KohaTable ref="table" v-bind="tableOptions"></KohaTable>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { inject, ref } from "vue"\nimport KohaTable from "../KohaTable.vue"\n\nexport default {\n    setup() {\n        const table = ref()\n\n        const { getMonthsData, getColumnOptions, checkReportColumns } =\n            inject("reportsStore")\n\n        return {\n            getMonthsData,\n            getColumnOptions,\n            checkReportColumns,\n            table,\n        }\n    },\n    beforeCreate() {\n        const urlParams = JSON.parse(this.$route.query.data)\n        this.params = urlParams\n        this.report_type = this.params.type\n        let data_type\n        switch (this.params.queryObject.report_type.substring(0, 1)) {\n            case "P":\n                data_type = "platform"\n                break\n            case "T":\n                data_type = "title"\n                break\n            case "I":\n                data_type = "item"\n                break\n            case "D":\n                data_type = "database"\n                break\n        }\n        this.data_type = data_type\n        this.embed =\n            this.report_type === "yearly"\n                ? ["erm_usage_yuses"]\n                : ["erm_usage_muses"]\n        switch (this.report_type) {\n            case "monthly":\n            case "monthly_with_totals":\n                this.embed = "erm_usage_muses"\n                break\n            case "yearly":\n                this.embed = "erm_usage_yuses"\n                break\n            case "metric_type":\n                this.embed = "erm_usage_muses"\n                break\n            case "usage_data_provider":\n                this.embed = `erm_usage_${data_type}s.erm_usage_muses`\n                break\n        }\n\n        this.years = Object.keys(this.params.tp_columns)\n        this.year = this.years[this.years.length - 1]\n    },\n    data() {\n        return {\n            building_table: false,\n            initialized: false,\n            tableOptions: {\n                columns: this.buildColumnArray(\n                    this.report_type,\n                    this.params,\n                    this.data_type\n                ),\n                options: { embed: this.embed },\n                url: () => this.tableURL(this.year, this.params),\n                table_settings: this.report_type.includes("monthly")\n                    ? this.monthly_usage_table_settings\n                    : this.yearly_usage_table_settings,\n                add_filters: true,\n            },\n            yearly_filter: null,\n            params: this.params,\n            year: this.year,\n            years: this.years,\n        }\n    },\n    methods: {\n        buildColumnArray(report_display, params, data_type) {\n            const columns = params.columns\n            const months_data = this.getMonthsData()\n            const column_options = this.getColumnOptions()\n            const time_period_columns = params.tp_columns\n            const yearly_filter = params.yearly_filter\n            const query = params.queryObject\n            const report_type = params.queryObject.report_type\n            const column_set = []\n\n            columns.forEach(column => {\n                column_set.push(column_options[column].column)\n                // Reset all columns except data providers to inactive\n                if (column !== 1) column_options[column].active = false\n            })\n\n            report_display !== "usage_data_provider" &&\n                column_set.unshift({\n                    title: __(\n                        data_type.charAt(0).toUpperCase() + data_type.slice(1)\n                    ),\n                    data: data_type,\n                    searchable: true,\n                    orderable: true,\n                })\n\n            // Add metric type to each row\n            if (report_display !== "metric_type") {\n                // Add yop if it is required\n                if (this.checkReportColumns(report_type, "YOP")) {\n                    column_set.push({\n                        title: __("YOP"),\n                        data: "yop",\n                        searchable: true,\n                        orderable: true,\n                    })\n                }\n                // Add access type if it is required\n                if (this.checkReportColumns(report_type, "Access_Type")) {\n                    column_set.push({\n                        title: __("Access type"),\n                        data: "access_type",\n                        searchable: true,\n                        orderable: true,\n                    })\n                }\n                column_set.push({\n                    title: __("Metric"),\n                    render: function (data, type, row, meta) {\n                        return row.metric_type\n                    },\n                    searchable: true,\n                    orderable: true,\n                })\n            }\n\n            if (report_display === "usage_data_provider") {\n                column_set.unshift({\n                    title: __("Data provider"),\n                    data: "name",\n                    searchable: true,\n                    orderable: true,\n                })\n                column_set.push({\n                    title: __("Period total"),\n                    data: "provider_rollup_total",\n                    searchable: true,\n                    orderable: true,\n                })\n                return column_set\n            }\n\n            // Add monthly columns\n            if (yearly_filter) {\n                months_data.forEach(month => {\n                    column_set.push({\n                        title: __(month.short),\n                        render: function (data, type, row, meta) {\n                            const find_correct_month =\n                                row.erm_usage_muses.filter(\n                                    item => item.month === month.value\n                                )\n                            const usage_record = find_correct_month.length\n                            const usage = usage_record\n                                ? find_correct_month[0].usage_count\n                                : "-"\n                            return usage\n                        },\n                        searchable: true,\n                        orderable: true,\n                    })\n                })\n            } else {\n                if (report_display.includes("monthly")) {\n                    const years = Object.keys(time_period_columns)\n\n                    years.forEach(year => {\n                        const abbreviated_year = year.substring(2)\n                        const selected_months = time_period_columns[year]\n\n                        selected_months.forEach(month => {\n                            if (month.active) {\n                                const column_title = `${month.short}${abbreviated_year}`\n                                column_set.push({\n                                    title: __(column_title),\n                                    render: function (data, type, row, meta) {\n                                        const filtered_by_year =\n                                            row.erm_usage_muses.filter(\n                                                item =>\n                                                    item.year === parseInt(year)\n                                            )\n                                        const find_correct_month =\n                                            filtered_by_year.filter(\n                                                item =>\n                                                    item.month === month.value\n                                            )\n                                        const data_available =\n                                            find_correct_month.length\n\n                                        const usage = data_available\n                                            ? find_correct_month[0].usage_count\n                                            : "-"\n                                        return usage\n                                    },\n                                    searchable: true,\n                                    orderable: true,\n                                })\n                            }\n                        })\n                    })\n                }\n                if (report_display === "yearly") {\n                    const years = time_period_columns\n\n                    years.forEach(year => {\n                        const title = String(year)\n                        column_set.push({\n                            title: __(title),\n                            render: function (data, type, row, meta) {\n                                const find_usage = row.erm_usage_yuses.find(\n                                    item => item.year === year\n                                )\n                                const usage = find_usage\n                                    ? find_usage.totalcount\n                                    : "-"\n                                return usage\n                            },\n                            searchable: true,\n                            orderable: true,\n                        })\n                    })\n                }\n                if (report_display === "metric_type") {\n                    const metric_types = query.metric_types\n                    const access_types = query.access_types\n                    // Add yop if it is required\n                    if (this.checkReportColumns(report_type, "YOP")) {\n                        column_set.push({\n                            title: __("YOP"),\n                            data: "yop",\n                            searchable: true,\n                            orderable: true,\n                        })\n                    }\n                    metric_types.forEach(metric => {\n                        if (access_types && access_types.length > 0) {\n                            access_types.forEach(access => {\n                                column_set.push({\n                                    title: __(access),\n                                    render: function (data, type, row, meta) {\n                                        const filterByType =\n                                            row.erm_usage_muses.filter(\n                                                item =>\n                                                    item.access_type === access\n                                            )\n                                        const filterByMetric =\n                                            filterByType.filter(\n                                                item =>\n                                                    item.metric_type === metric\n                                            )\n                                        const period_total =\n                                            filterByMetric.reduce(\n                                                (acc, item) => {\n                                                    return (\n                                                        acc + item.usage_count\n                                                    )\n                                                },\n                                                0\n                                            )\n                                        return period_total\n                                    },\n                                    searchable: false,\n                                    orderable: false,\n                                })\n                            })\n                        } else {\n                            column_set.push({\n                                title: __(metric),\n                                render: function (data, type, row, meta) {\n                                    const filterByMetric =\n                                        row.erm_usage_muses.filter(\n                                            item => item.metric_type === metric\n                                        )\n                                    const period_total = filterByMetric.reduce(\n                                        (acc, item) => {\n                                            return acc + item.usage_count\n                                        },\n                                        0\n                                    )\n                                    return period_total\n                                },\n                                searchable: false,\n                                orderable: false,\n                            })\n                        }\n                    })\n                }\n            }\n            // Add totals column if required\n            if (report_display === "monthly_with_totals") {\n                column_set.push({\n                    title: __("Period total"),\n                    data: "usage_total",\n                    searchable: true,\n                    orderable: true,\n                })\n            }\n            return column_set\n        },\n        async update_table() {\n            this.$refs.table.redraw(this.tableURL(this.year, this.params))\n        },\n        buildFilteredQuery(query, time_period_columns, year) {\n            const queryObject = {}\n            const {\n                metric_types,\n                access_types,\n                usage_data_providers,\n                keywords,\n                report_type,\n            } = query\n            let data_type\n            switch (report_type.substring(0, 1)) {\n                case "P":\n                    data_type = "platform"\n                    break\n                case "T":\n                    data_type = "title"\n                    break\n                case "I":\n                    data_type = "item"\n                    break\n                case "D":\n                    data_type = "database"\n                    break\n            }\n            let url = `/api/v1/erm/eUsage/monthly_report/${data_type}`\n\n            // Identify the year\n            queryObject[`erm_usage_muses.year`] = year\n            queryObject[`erm_usage_muses.report_type`] = report_type\n            // Add months to query\n            const months = time_period_columns[year].map(month => {\n                return month.value\n            })\n            queryObject[`erm_usage_muses.month`] = months\n            // Add any keyword query\n            if (keywords) {\n                const object_ids = keywords.map(object => {\n                    return object[`${data_type}_id`]\n                })\n                queryObject[`erm_usage_muses.${data_type}_id`] = object_ids\n            }\n            // Add any metric types query\n            if (metric_types) {\n                queryObject[`erm_usage_muses.metric_type`] = metric_types\n            }\n            // Add any metric types query\n            if (access_types) {\n                queryObject[`erm_usage_muses.access_type`] = access_types\n            }\n            // Add any data provider query\n            if (usage_data_providers) {\n                queryObject[`erm_usage_muses.usage_data_provider_id`] =\n                    usage_data_providers\n            }\n\n            url += `?q=[${JSON.stringify(queryObject)}]`\n\n            return url\n        },\n        tableURL(year, params) {\n            const filter_required = params.yearly_filter\n            if (filter_required) {\n                const query = params.queryObject\n                const time_period_columns = params.tp_columns\n\n                const url = this.buildFilteredQuery(\n                    query,\n                    time_period_columns,\n                    year\n                )\n\n                return url\n            } else {\n                const url = params.url\n\n                return url\n            }\n        },\n        mergeTitleDataIntoOneLine(numberOfMetricTypes, numberOfAccessTypes) {\n            let dt = this.$refs.table.useTableObject()\n            dt.on("draw", () => {\n                const rows = dt.rows().nodes().to$()\n                const numberOfRows = numberOfAccessTypes\n                    ? numberOfMetricTypes * numberOfAccessTypes\n                    : numberOfMetricTypes\n                const data_rows = []\n                for (let i = 0; i < rows.length; i = i + numberOfRows) {\n                    data_rows.push([rows.slice(i, i + numberOfRows)])\n                }\n\n                data_rows\n                    .map(item => item[0])\n                    .forEach(titleRows => {\n                        Array.from(titleRows).forEach((row, i) => {\n                            const cells = row.cells\n                            if (i === 0) {\n                                cells[0].rowSpan = numberOfRows\n                                cells[0].style.textAlign = "center"\n                                cells[0].style.verticalAlign = "middle"\n                                cells[0].style.borderRight = "1px solid #BCBCBC"\n                            } else {\n                                cells[0].remove()\n                            }\n                        })\n                    })\n            })\n            this.$refs.table_div.classList.remove("hide-table")\n        },\n        createMetricReportTableHeader(metric_types, access_types) {\n            const table = this.$refs.table.$el.getElementsByTagName("table")[0]\n            const numberOfColumns = table.rows[0].cells.length\n            const dataColumns = metric_types.length * access_types\n            const numberOfNonStatisticColumns = numberOfColumns - dataColumns\n            const numberOfCellsToCreate =\n                numberOfNonStatisticColumns + metric_types.length\n\n            const row = table.insertRow(0)\n            const cellsToInsert = Array.from("1".repeat(numberOfCellsToCreate))\n            const cells = cellsToInsert.map(item => {\n                const cell = document.createElement("th")\n                row.appendChild(cell)\n                return cell\n            })\n\n            const metricTypeColumns = cells.splice(numberOfNonStatisticColumns)\n            metric_types.forEach((metric, i) => {\n                const cell = metricTypeColumns[i]\n                cell.colSpan = access_types\n                cell.innerHTML = metric\n            })\n            this.$refs.table_div.classList.remove("hide-table")\n        },\n    },\n    watch: {\n        table() {\n            const number_of_access_types = this.params.queryObject.access_types\n                ? this.params.queryObject.access_types.length\n                : 0\n            if (this.report_type === "metric_type") {\n                if (number_of_access_types) {\n                    this.createMetricReportTableHeader(\n                        this.params.queryObject.metric_types,\n                        number_of_access_types\n                    )\n                } else {\n                    this.$refs.table_div.classList.remove("hide-table")\n                }\n            } else {\n                this.mergeTitleDataIntoOneLine(\n                    this.params.queryObject.metric_types.length,\n                    number_of_access_types\n                )\n            }\n        },\n    },\n    mounted() {\n        if (!this.building_table) {\n            this.yearly_filter = this.params.yearly_filter\n            this.building_table = true\n            this.initialized = true\n        }\n    },\n    components: {\n        KohaTable,\n    },\n    name: "UsageStatisticsReportsViewer",\n}\n<\/script>\n\n<style scoped>\n.title_property_options {\n    display: flex;\n}\n.checkbox {\n    display: inline-block;\n    float: none;\n    margin: 0;\n    padding: 0;\n    width: auto;\n}\n.yearly_filter {\n    display: flex;\n    align-items: center;\n    gap: 1em;\n}\n.v-select {\n    max-width: 30%;\n}\n.hide-table {\n    display: none;\n}\n</style>\n'],sourceRoot:""}]);let l=o},883:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(7537),i=n.n(a),r=n(3645),o=n.n(r)()(i());o.push([e.id,"\n#navmenulist a.router-link-active[data-v-b0868e7e] {\n    font-weight: 700;\n}\n#menu ul ul[data-v-b0868e7e],\n#navmenulist ul ul[data-v-b0868e7e] {\n    padding-left: 2em;\n    font-size: 100%;\n}\n#navmenulist ul li a.disabled[data-v-b0868e7e] {\n    color: #666;\n    pointer-events: none;\n    font-weight: 700;\n}\n#navmenulist ul li a.disabled.router-link-active[data-v-b0868e7e] {\n    color: #000;\n}\n","",{version:3,sources:["webpack://./koha-tmpl/intranet-tmpl/prog/js/vue/components/LeftMenu.vue"],names:[],mappings:";AAiDA;IACI,gBAAgB;AACpB;AACA;;IAEI,iBAAiB;IACjB,eAAe;AACnB;AAEA;IACI,WAAW;IACX,oBAAoB;IACpB,gBAAgB;AACpB;AACA;IACI,WAAW;AACf",sourcesContent:['<template>\n    <aside>\n        <div id="navmenu">\n            <div id="navmenulist">\n                <h5>{{ $__(title) }}</h5>\n                <ul>\n                    <NavigationItem\n                        v-for="(item, key) in navigationTree"\n                        v-bind:key="key"\n                        :item="item"\n                    ></NavigationItem>\n                </ul>\n            </div>\n        </div>\n    </aside>\n</template>\n\n<script>\nimport { inject } from "vue"\nimport NavigationItem from "./NavigationItem.vue"\nexport default {\n    name: "LeftMenu",\n    data() {\n        return {\n            navigationTree: this.leftNavigation,\n        }\n    },\n    setup: () => {\n        const navigationStore = inject("navigationStore")\n        const { leftNavigation } = navigationStore\n        return {\n            leftNavigation,\n        }\n    },\n    async beforeMount() {\n        if (this.condition)\n            this.navigationTree = await this.condition(this.navigationTree)\n    },\n    props: {\n        title: String,\n        condition: Function,\n    },\n    components: {\n        NavigationItem,\n    },\n}\n<\/script>\n\n<style scoped>\n#navmenulist a.router-link-active {\n    font-weight: 700;\n}\n#menu ul ul,\n#navmenulist ul ul {\n    padding-left: 2em;\n    font-size: 100%;\n}\n\n#navmenulist ul li a.disabled {\n    color: #666;\n    pointer-events: none;\n    font-weight: 700;\n}\n#navmenulist ul li a.disabled.router-link-active {\n    color: #000;\n}\n</style>\n'],sourceRoot:""}]);let l=o},2863:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(7537),i=n.n(a),r=n(3645),o=n.n(r)()(i());o.push([e.id,"\nspan.item-last {\n    padding: 7px 3px;\n}\n#navmenulist .breadcrumb-item::before {\n    display: none;\n}\n","",{version:3,sources:["webpack://./koha-tmpl/intranet-tmpl/prog/js/vue/components/NavigationItem.vue"],names:[],mappings:";AA8DA;IACI,gBAAgB;AACpB;AACA;IACI,aAAa;AACjB",sourcesContent:['<template>\n    <li class="breadcrumb-item">\n        <span>\n            <router-link\n                v-if="item.name"\n                :to="{ name: item.name, params }"\n                :class="{ disabled: item.disabled }"\n            >\n                <template v-if="item.icon">\n                    <i :class="`${item.icon}`"></i>&nbsp;\n                </template>\n                <span v-if="item.title">{{ $__(item.title) }}</span>\n            </router-link>\n            <router-link\n                v-else-if="item.path"\n                :to="item.path"\n                :class="{ disabled: item.disabled }"\n            >\n                <template v-if="item.icon">\n                    <i :class="`${item.icon}`"></i>&nbsp;\n                </template>\n                <span v-if="item.title">{{ $__(item.title) }}</span>\n            </router-link>\n            <a\n                v-else-if="item.href"\n                :href="item.href"\n                :class="{ disabled: item.disabled }"\n            >\n                <template v-if="item.icon">\n                    <i :class="`${item.icon}`"></i>&nbsp;\n                </template>\n                <span v-if="item.title">{{ $__(item.title) }}</span>\n            </a>\n            <a v-else href="#" aria-current="page">\n                <template v-if="item.icon">\n                    <i :class="`${item.icon}`"></i>&nbsp;\n                </template>\n                <span class="item-last" v-if="item.title">{{\n                    $__(item.title)\n                }}</span>\n            </a>\n        </span>\n        <ul v-if="item.children && item.children.length">\n            <NavigationItem\n                v-for="(item, key) in item.children"\n                :item="item"\n            ></NavigationItem>\n        </ul>\n    </li>\n</template>\n\n<script>\nexport default {\n    name: "NavigationItem",\n    props: {\n        item: Object,\n        params: Object,\n    },\n}\n<\/script>\n\n<style>\nspan.item-last {\n    padding: 7px 3px;\n}\n#navmenulist .breadcrumb-item::before {\n    display: none;\n}\n</style>\n'],sourceRoot:""}]);let l=o},4740:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(7537),i=n.n(a),r=n(3645),o=n.n(r)()(i());o.push([e.id,":root{--vs-colors--lightest:rgba(60,60,60,0.26);--vs-colors--light:rgba(60,60,60,0.5);--vs-colors--dark:#333;--vs-colors--darkest:rgba(0,0,0,0.15);--vs-search-input-color:inherit;--vs-search-input-placeholder-color:inherit;--vs-font-size:1rem;--vs-line-height:1.4;--vs-state-disabled-bg:#f8f8f8;--vs-state-disabled-color:var(--vs-colors--light);--vs-state-disabled-controls-color:var(--vs-colors--light);--vs-state-disabled-cursor:not-allowed;--vs-border-color:var(--vs-colors--lightest);--vs-border-width:1px;--vs-border-style:solid;--vs-border-radius:4px;--vs-actions-padding:4px 6px 0 3px;--vs-controls-color:var(--vs-colors--light);--vs-controls-size:1;--vs-controls--deselect-text-shadow:0 1px 0 #fff;--vs-selected-bg:#f0f0f0;--vs-selected-color:var(--vs-colors--dark);--vs-selected-border-color:var(--vs-border-color);--vs-selected-border-style:var(--vs-border-style);--vs-selected-border-width:var(--vs-border-width);--vs-dropdown-bg:#fff;--vs-dropdown-color:inherit;--vs-dropdown-z-index:1000;--vs-dropdown-min-width:160px;--vs-dropdown-max-height:350px;--vs-dropdown-box-shadow:0px 3px 6px 0px var(--vs-colors--darkest);--vs-dropdown-option-bg:#000;--vs-dropdown-option-color:var(--vs-dropdown-color);--vs-dropdown-option-padding:3px 20px;--vs-dropdown-option--active-bg:#5897fb;--vs-dropdown-option--active-color:#fff;--vs-dropdown-option--deselect-bg:#fb5858;--vs-dropdown-option--deselect-color:#fff;--vs-transition-timing-function:cubic-bezier(1,-0.115,0.975,0.855);--vs-transition-duration:150ms}.v-select{font-family:inherit;position:relative}.v-select,.v-select *{box-sizing:border-box}:root{--vs-transition-timing-function:cubic-bezier(1,0.5,0.8,1);--vs-transition-duration:0.15s}@-webkit-keyframes vSelectSpinner{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes vSelectSpinner{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.vs__fade-enter-active,.vs__fade-leave-active{pointer-events:none;transition:opacity var(--vs-transition-duration) var(--vs-transition-timing-function)}.vs__fade-enter,.vs__fade-leave-to{opacity:0}:root{--vs-disabled-bg:var(--vs-state-disabled-bg);--vs-disabled-color:var(--vs-state-disabled-color);--vs-disabled-cursor:var(--vs-state-disabled-cursor)}.vs--disabled .vs__clear,.vs--disabled .vs__dropdown-toggle,.vs--disabled .vs__open-indicator,.vs--disabled .vs__search,.vs--disabled .vs__selected{background-color:var(--vs-disabled-bg);cursor:var(--vs-disabled-cursor)}.v-select[dir=rtl] .vs__actions{padding:0 3px 0 6px}.v-select[dir=rtl] .vs__clear{margin-left:6px;margin-right:0}.v-select[dir=rtl] .vs__deselect{margin-left:0;margin-right:2px}.v-select[dir=rtl] .vs__dropdown-menu{text-align:right}.vs__dropdown-toggle{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:none;border:var(--vs-border-width) var(--vs-border-style) var(--vs-border-color);border-radius:var(--vs-border-radius);display:flex;padding:0 0 4px;white-space:normal}.vs__selected-options{display:flex;flex-basis:100%;flex-grow:1;flex-wrap:wrap;padding:0 2px;position:relative}.vs__actions{align-items:center;display:flex;padding:var(--vs-actions-padding)}.vs--searchable .vs__dropdown-toggle{cursor:text}.vs--unsearchable .vs__dropdown-toggle{cursor:pointer}.vs--open .vs__dropdown-toggle{border-bottom-color:transparent;border-bottom-left-radius:0;border-bottom-right-radius:0}.vs__open-indicator{fill:var(--vs-controls-color);transform:scale(var(--vs-controls-size));transition:transform var(--vs-transition-duration) var(--vs-transition-timing-function);transition-timing-function:var(--vs-transition-timing-function)}.vs--open .vs__open-indicator{transform:rotate(180deg) scale(var(--vs-controls-size))}.vs--loading .vs__open-indicator{opacity:0}.vs__clear{fill:var(--vs-controls-color);background-color:transparent;border:0;cursor:pointer;margin-right:8px;padding:0}.vs__dropdown-menu{background:var(--vs-dropdown-bg);border:var(--vs-border-width) var(--vs-border-style) var(--vs-border-color);border-radius:0 0 var(--vs-border-radius) var(--vs-border-radius);border-top-style:none;box-shadow:var(--vs-dropdown-box-shadow);box-sizing:border-box;color:var(--vs-dropdown-color);display:block;left:0;list-style:none;margin:0;max-height:var(--vs-dropdown-max-height);min-width:var(--vs-dropdown-min-width);overflow-y:auto;padding:5px 0;position:absolute;text-align:left;top:calc(100% - var(--vs-border-width));width:100%;z-index:var(--vs-dropdown-z-index)}.vs__no-options{text-align:center}.vs__dropdown-option{clear:both;color:var(--vs-dropdown-option-color);cursor:pointer;display:block;line-height:1.42857143;padding:var(--vs-dropdown-option-padding);white-space:nowrap}.vs__dropdown-option--highlight{background:var(--vs-dropdown-option--active-bg);color:var(--vs-dropdown-option--active-color)}.vs__dropdown-option--deselect{background:var(--vs-dropdown-option--deselect-bg);color:var(--vs-dropdown-option--deselect-color)}.vs__dropdown-option--disabled{background:var(--vs-state-disabled-bg);color:var(--vs-state-disabled-color);cursor:var(--vs-state-disabled-cursor)}.vs__selected{align-items:center;background-color:var(--vs-selected-bg);border:var(--vs-selected-border-width) var(--vs-selected-border-style) var(--vs-selected-border-color);border-radius:var(--vs-border-radius);color:var(--vs-selected-color);display:flex;line-height:var(--vs-line-height);margin:4px 2px 0;padding:0 .25em;z-index:0}.vs__deselect{fill:var(--vs-controls-color);-webkit-appearance:none;-moz-appearance:none;appearance:none;background:none;border:0;cursor:pointer;display:inline-flex;margin-left:4px;padding:0;text-shadow:var(--vs-controls--deselect-text-shadow)}.vs--single .vs__selected{background-color:transparent;border-color:transparent}.vs--single.vs--loading .vs__selected,.vs--single.vs--open .vs__selected{opacity:.4;position:absolute}.vs--single.vs--searching .vs__selected{display:none}.vs__search::-webkit-search-cancel-button{display:none}.vs__search::-ms-clear,.vs__search::-webkit-search-decoration,.vs__search::-webkit-search-results-button,.vs__search::-webkit-search-results-decoration{display:none}.vs__search,.vs__search:focus{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:none;border:1px solid transparent;border-left:none;box-shadow:none;color:var(--vs-search-input-color);flex-grow:1;font-size:var(--vs-font-size);line-height:var(--vs-line-height);margin:4px 0 0;max-width:100%;outline:none;padding:0 7px;width:0;z-index:1}.vs__search::-moz-placeholder{color:var(--vs-search-input-placeholder-color)}.vs__search:-ms-input-placeholder{color:var(--vs-search-input-placeholder-color)}.vs__search::placeholder{color:var(--vs-search-input-placeholder-color)}.vs--unsearchable .vs__search{opacity:1}.vs--unsearchable:not(.vs--disabled) .vs__search{cursor:pointer}.vs--single.vs--searching:not(.vs--open):not(.vs--loading) .vs__search{opacity:.2}.vs__spinner{align-self:center;-webkit-animation:vSelectSpinner 1.1s linear infinite;animation:vSelectSpinner 1.1s linear infinite;border:.9em solid hsla(0,0%,39%,.1);border-left-color:rgba(60,60,60,.45);font-size:5px;opacity:0;overflow:hidden;text-indent:-9999em;transform:translateZ(0) scale(var(--vs-controls--spinner-size,var(--vs-controls-size)));transition:opacity .1s}.vs__spinner,.vs__spinner:after{border-radius:50%;height:5em;transform:scale(var(--vs-controls--spinner-size,var(--vs-controls-size)));width:5em}.vs--loading .vs__spinner{opacity:1}\n\n/*# sourceMappingURL=vue-select.css.map*/","",{version:3,sources:["webpack://VueSelect/src/css/global/variables.css","webpack://VueSelect/src/css/global/component.css","webpack://VueSelect/src/css/global/animations.css","webpack://VueSelect/src/css/global/states.css","webpack://VueSelect/src/css/modules/dropdown-toggle.css","webpack://VueSelect/src/css/modules/open-indicator.css","webpack://VueSelect/src/css/modules/clear.css","webpack://VueSelect/src/css/modules/dropdown-menu.css","webpack://VueSelect/src/css/modules/dropdown-option.css","webpack://VueSelect/src/css/modules/selected.css","webpack://VueSelect/src/css/modules/search-input.css","webpack://VueSelect/src/css/modules/spinner.css","webpack://./node_modules/vue-select/dist/vue-select.css"],names:[],mappings:"AAAA,MACI,yCAA6C,CAC7C,qCAAyC,CACzC,sBAAuB,CACvB,qCAAyC,CAGzC,+BAAgC,CAChC,2CAA4C,CAG5C,mBAAoB,CACpB,oBAAqB,CAGrB,8BAA0C,CAC1C,iDAAkD,CAClD,0DAA2D,CAC3D,sCAAuC,CAGvC,4CAA6C,CAC7C,qBAAsB,CACtB,uBAAwB,CACxB,sBAAuB,CAGvB,kCAAmC,CAGnC,2CAA4C,CAC5C,oBAAqB,CACrB,gDAAiD,CAGjD,wBAAyB,CACzB,0CAA2C,CAC3C,iDAAkD,CAClD,iDAAkD,CAClD,iDAAkD,CAGlD,qBAAsB,CACtB,2BAA4B,CAC5B,0BAA2B,CAC3B,6BAA8B,CAC9B,8BAA+B,CAC/B,kEAAmE,CAGnE,4BAA6B,CAC7B,mDAAoD,CACpD,qCAAsC,CAGtC,uCAAwC,CACxC,uCAAwC,CAGxC,yCAA0C,CAC1C,yCAA0C,CAG1C,kEAAsE,CACtE,8BACJ,CCjEA,UAEE,mBAAoB,CADpB,iBAEF,CAEA,sBAEE,qBACF,CCRA,MACI,yDAA6D,CAC7D,8BACJ,CAGA,kCACI,GACI,sBACJ,CACA,GACI,uBACJ,CACJ,CAEA,0BACI,GACI,sBACJ,CACA,GACI,uBACJ,CACJ,CAGA,8CAEI,mBAAoB,CACpB,qFAEJ,CACA,mCAEI,SACJ,CCvBA,MACI,4CAA6C,CAC7C,kDAAmD,CACnD,oDACJ,CAGI,oJAMI,sCAAuC,CADvC,gCAEJ,CAYA,gCACI,mBACJ,CAEA,8BACI,eAAgB,CAChB,cACJ,CAEA,iCACI,aAAc,CACd,gBACJ,CAEA,sCACI,gBACJ,CCzCJ,qBACI,uBAAgB,CAAhB,oBAAgB,CAAhB,eAAgB,CAGhB,eAAgB,CAChB,2EAA4E,CAC5E,qCAAsC,CAJtC,YAAa,CACb,eAAkB,CAIlB,kBACJ,CAEA,sBACI,YAAa,CACb,eAAgB,CAChB,WAAY,CACZ,cAAe,CACf,aAAc,CACd,iBACJ,CAEA,aAEI,kBAAmB,CADnB,YAAa,CAEb,iCACJ,CAGA,qCACI,WACJ,CACA,uCACI,cACJ,CACA,+BACI,+BAAgC,CAChC,2BAA4B,CAC5B,4BACJ,CCzCA,oBACI,6BAA8B,CAC9B,wCAAyC,CACzC,uFACwC,CACxC,+DACJ,CAIA,8BACI,uDACJ,CAIA,iCACI,SACJ,CCvBA,WACI,6BAA8B,CAG9B,4BAA6B,CAD7B,QAAS,CAET,cAAe,CACf,gBAAiB,CAJjB,SAKJ,CCPA,mBAoBI,gCAAiC,CALjC,2EAA4E,CAE5E,iEAAkE,CADlE,qBAAsB,CAFtB,wCAAyC,CAZzC,qBAAsB,CAmBtB,8BAA+B,CApB/B,aAAc,CAKd,MAAO,CAaP,eAAgB,CAVhB,QAAS,CAET,wCAAyC,CACzC,sCAAuC,CACvC,eAAgB,CALhB,aAAc,CALd,iBAAkB,CAelB,eAAgB,CAbhB,uCAAwC,CAKxC,UAAW,CAHX,kCAeJ,CAEA,gBACI,iBACJ,CC3BA,qBAII,UAAW,CACX,qCAAsC,CAEtC,cAAe,CALf,aAAc,CADd,sBAAuB,CAEvB,yCAA0C,CAG1C,kBAEJ,CAEA,gCACI,+CAAgD,CAChD,6CACJ,CAEA,+BACI,iDAAkD,CAClD,+CACJ,CAEA,+BACI,sCAAuC,CACvC,oCAAqC,CACrC,sCACJ,CCxBA,cAEI,kBAAmB,CACnB,sCAAuC,CACvC,sGACmC,CACnC,qCAAsC,CACtC,8BAA+B,CAN/B,YAAa,CAOb,iCAAkC,CAClC,gBAAuB,CACvB,eAAiB,CACjB,SACJ,CAEA,cAQI,6BAA8B,CAN9B,uBAAgB,CAAhB,oBAAgB,CAAhB,eAAgB,CAKhB,eAAgB,CAFhB,QAAS,CACT,cAAe,CALf,mBAAoB,CAEpB,eAAgB,CAChB,SAAU,CAKV,oDACJ,CAKI,0BACI,4BAA6B,CAC7B,wBACJ,CACA,yEAGI,UAAY,CADZ,iBAEJ,CACA,wCACI,YACJ,CClCJ,0CACI,YACJ,CAEA,wJAII,YACJ,CAEA,8BAGI,uBAAgB,CAAhB,oBAAgB,CAAhB,eAAgB,CAQhB,eAAgB,CAJhB,4BAAiB,CAAjB,gBAAiB,CAKjB,eAAgB,CAVhB,kCAAmC,CAanC,WAAY,CAVZ,6BAA8B,CAD9B,iCAAkC,CAKlC,cAAiB,CAKjB,cAAe,CANf,YAAa,CAEb,aAAc,CAGd,OAAQ,CAGR,SACJ,CAEA,8BACI,8CACJ,CAFA,kCACI,8CACJ,CAFA,yBACI,8CACJ,CAQI,8BACI,SACJ,CACA,iDACI,cACJ,CAKA,uEACI,UACJ,CC1DJ,aACI,iBAAkB,CAWlB,qDAA8C,CAA9C,6CAA8C,CAH9C,mCAA+C,CAA/C,oCAA+C,CAN/C,aAAc,CADd,SAAU,CAGV,eAAgB,CADhB,mBAAoB,CAMpB,uFACoE,CAEpE,sBACJ,CACA,gCAEI,iBAAkB,CAElB,UAAW,CACX,yEAA2E,CAF3E,SAGJ,CAGA,0BACI,SACJ;;ACzBA,wCAAwC",sourcesContent:[":root {\n    --vs-colors--lightest: rgba(60, 60, 60, 0.26);\n    --vs-colors--light: rgba(60, 60, 60, 0.5);\n    --vs-colors--dark: #333;\n    --vs-colors--darkest: rgba(0, 0, 0, 0.15);\n\n    /* Search Input */\n    --vs-search-input-color: inherit;\n    --vs-search-input-placeholder-color: inherit;\n\n    /* Font */\n    --vs-font-size: 1rem;\n    --vs-line-height: 1.4;\n\n    /* Disabled State */\n    --vs-state-disabled-bg: rgb(248, 248, 248);\n    --vs-state-disabled-color: var(--vs-colors--light);\n    --vs-state-disabled-controls-color: var(--vs-colors--light);\n    --vs-state-disabled-cursor: not-allowed;\n\n    /* Borders */\n    --vs-border-color: var(--vs-colors--lightest);\n    --vs-border-width: 1px;\n    --vs-border-style: solid;\n    --vs-border-radius: 4px;\n\n    /* Actions: house the component controls */\n    --vs-actions-padding: 4px 6px 0 3px;\n\n    /* Component Controls: Clear, Open Indicator */\n    --vs-controls-color: var(--vs-colors--light);\n    --vs-controls-size: 1;\n    --vs-controls--deselect-text-shadow: 0 1px 0 #fff;\n\n    /* Selected */\n    --vs-selected-bg: #f0f0f0;\n    --vs-selected-color: var(--vs-colors--dark);\n    --vs-selected-border-color: var(--vs-border-color);\n    --vs-selected-border-style: var(--vs-border-style);\n    --vs-selected-border-width: var(--vs-border-width);\n\n    /* Dropdown */\n    --vs-dropdown-bg: #fff;\n    --vs-dropdown-color: inherit;\n    --vs-dropdown-z-index: 1000;\n    --vs-dropdown-min-width: 160px;\n    --vs-dropdown-max-height: 350px;\n    --vs-dropdown-box-shadow: 0px 3px 6px 0px var(--vs-colors--darkest);\n\n    /* Options */\n    --vs-dropdown-option-bg: #000;\n    --vs-dropdown-option-color: var(--vs-dropdown-color);\n    --vs-dropdown-option-padding: 3px 20px;\n\n    /* Active State */\n    --vs-dropdown-option--active-bg: #5897fb;\n    --vs-dropdown-option--active-color: #fff;\n\n    /* Deselect State */\n    --vs-dropdown-option--deselect-bg: #fb5858;\n    --vs-dropdown-option--deselect-color: #fff;\n\n    /* Transitions */\n    --vs-transition-timing-function: cubic-bezier(1, -0.115, 0.975, 0.855);\n    --vs-transition-duration: 150ms;\n}\n",".v-select {\n  position: relative;\n  font-family: inherit;\n}\n\n.v-select,\n.v-select * {\n  box-sizing: border-box;\n}\n",":root {\n    --vs-transition-timing-function: cubic-bezier(1, 0.5, 0.8, 1);\n    --vs-transition-duration: 0.15s;\n}\n\n/* KeyFrames */\n@-webkit-keyframes vSelectSpinner {\n    0% {\n        transform: rotate(0deg);\n    }\n    100% {\n        transform: rotate(360deg);\n    }\n}\n\n@keyframes vSelectSpinner {\n    0% {\n        transform: rotate(0deg);\n    }\n    100% {\n        transform: rotate(360deg);\n    }\n}\n\n/* Dropdown Default Transition */\n.vs__fade-enter-active,\n.vs__fade-leave-active {\n    pointer-events: none;\n    transition: opacity var(--vs-transition-duration)\n        var(--vs-transition-timing-function);\n}\n.vs__fade-enter,\n.vs__fade-leave-to {\n    opacity: 0;\n}\n","/** Component States */\n\n/*\n * Disabled\n *\n * When the component is disabled, all interaction\n * should be prevented. Here we modify the bg color,\n * and change the cursor displayed on the interactive\n * components.\n */\n\n:root {\n    --vs-disabled-bg: var(--vs-state-disabled-bg);\n    --vs-disabled-color: var(--vs-state-disabled-color);\n    --vs-disabled-cursor: var(--vs-state-disabled-cursor);\n}\n\n.vs--disabled {\n    .vs__dropdown-toggle,\n    .vs__clear,\n    .vs__search,\n    .vs__selected,\n    .vs__open-indicator {\n        cursor: var(--vs-disabled-cursor);\n        background-color: var(--vs-disabled-bg);\n    }\n}\n\n/*\n *  RTL - Right to Left Support\n *\n *  Because we're using a flexbox layout, the `dir=\"rtl\"`\n *  HTML attribute does most of the work for us by\n *  rearranging the child elements visually.\n */\n\n.v-select[dir='rtl'] {\n    .vs__actions {\n        padding: 0 3px 0 6px;\n    }\n\n    .vs__clear {\n        margin-left: 6px;\n        margin-right: 0;\n    }\n\n    .vs__deselect {\n        margin-left: 0;\n        margin-right: 2px;\n    }\n\n    .vs__dropdown-menu {\n        text-align: right;\n    }\n}\n","/**\n    Dropdown Toggle\n\n    The dropdown toggle is the primary wrapper of the component. It\n    has two direct descendants: .vs__selected-options, and .vs__actions.\n\n    .vs__selected-options holds the .vs__selected's as well as the\n    main search input.\n\n    .vs__actions holds the clear button and dropdown toggle.\n */\n\n.vs__dropdown-toggle {\n    appearance: none;\n    display: flex;\n    padding: 0 0 4px 0;\n    background: none;\n    border: var(--vs-border-width) var(--vs-border-style) var(--vs-border-color);\n    border-radius: var(--vs-border-radius);\n    white-space: normal;\n}\n\n.vs__selected-options {\n    display: flex;\n    flex-basis: 100%;\n    flex-grow: 1;\n    flex-wrap: wrap;\n    padding: 0 2px;\n    position: relative;\n}\n\n.vs__actions {\n    display: flex;\n    align-items: center;\n    padding: var(--vs-actions-padding);\n}\n\n/* Dropdown Toggle States */\n.vs--searchable .vs__dropdown-toggle {\n    cursor: text;\n}\n.vs--unsearchable .vs__dropdown-toggle {\n    cursor: pointer;\n}\n.vs--open .vs__dropdown-toggle {\n    border-bottom-color: transparent;\n    border-bottom-left-radius: 0;\n    border-bottom-right-radius: 0;\n}\n","/* Open Indicator */\n\n/*\n  The open indicator appears as a down facing\n  caret on the right side of the select.\n */\n\n.vs__open-indicator {\n    fill: var(--vs-controls-color);\n    transform: scale(var(--vs-controls-size));\n    transition: transform var(--vs-transition-duration)\n        var(--vs-transition-timing-function);\n    transition-timing-function: var(--vs-transition-timing-function);\n}\n\n/* Open State */\n\n.vs--open .vs__open-indicator {\n    transform: rotate(180deg) scale(var(--vs-controls-size));\n}\n\n/* Loading State */\n\n.vs--loading .vs__open-indicator {\n    opacity: 0;\n}\n","/* Clear Button */\n\n.vs__clear {\n    fill: var(--vs-controls-color);\n    padding: 0;\n    border: 0;\n    background-color: transparent;\n    cursor: pointer;\n    margin-right: 8px;\n}\n","/* Dropdown Menu */\n\n.vs__dropdown-menu {\n    display: block;\n    box-sizing: border-box;\n    position: absolute;\n    /* calc to ensure the left and right borders of the dropdown appear flush with the toggle. */\n    top: calc(100% - var(--vs-border-width));\n    left: 0;\n    z-index: var(--vs-dropdown-z-index);\n    padding: 5px 0;\n    margin: 0;\n    width: 100%;\n    max-height: var(--vs-dropdown-max-height);\n    min-width: var(--vs-dropdown-min-width);\n    overflow-y: auto;\n    box-shadow: var(--vs-dropdown-box-shadow);\n    border: var(--vs-border-width) var(--vs-border-style) var(--vs-border-color);\n    border-top-style: none;\n    border-radius: 0 0 var(--vs-border-radius) var(--vs-border-radius);\n    text-align: left;\n    list-style: none;\n    background: var(--vs-dropdown-bg);\n    color: var(--vs-dropdown-color);\n}\n\n.vs__no-options {\n    text-align: center;\n}\n","/* List Items */\n.vs__dropdown-option {\n    line-height: 1.42857143; /* Normalize line height */\n    display: block;\n    padding: var(--vs-dropdown-option-padding);\n    clear: both;\n    color: var(--vs-dropdown-option-color); /* Overrides most CSS frameworks */\n    white-space: nowrap;\n    cursor: pointer;\n}\n\n.vs__dropdown-option--highlight {\n    background: var(--vs-dropdown-option--active-bg);\n    color: var(--vs-dropdown-option--active-color);\n}\n\n.vs__dropdown-option--deselect {\n    background: var(--vs-dropdown-option--deselect-bg);\n    color: var(--vs-dropdown-option--deselect-color);\n}\n\n.vs__dropdown-option--disabled {\n    background: var(--vs-state-disabled-bg);\n    color: var(--vs-state-disabled-color);\n    cursor: var(--vs-state-disabled-cursor);\n}\n","/* Selected Tags */\n.vs__selected {\n    display: flex;\n    align-items: center;\n    background-color: var(--vs-selected-bg);\n    border: var(--vs-selected-border-width) var(--vs-selected-border-style)\n        var(--vs-selected-border-color);\n    border-radius: var(--vs-border-radius);\n    color: var(--vs-selected-color);\n    line-height: var(--vs-line-height);\n    margin: 4px 2px 0px 2px;\n    padding: 0 0.25em;\n    z-index: 0;\n}\n\n.vs__deselect {\n    display: inline-flex;\n    appearance: none;\n    margin-left: 4px;\n    padding: 0;\n    border: 0;\n    cursor: pointer;\n    background: none;\n    fill: var(--vs-controls-color);\n    text-shadow: var(--vs-controls--deselect-text-shadow);\n}\n\n/* States */\n\n.vs--single {\n    .vs__selected {\n        background-color: transparent;\n        border-color: transparent;\n    }\n    &.vs--open .vs__selected,\n    &.vs--loading .vs__selected {\n        position: absolute;\n        opacity: 0.4;\n    }\n    &.vs--searching .vs__selected {\n        display: none;\n    }\n}\n","/* Search Input */\n\n/**\n * Super weird bug... If this declaration is grouped\n * below, the cancel button will still appear in chrome.\n * If it's up here on it's own, it'll hide it.\n */\n.vs__search::-webkit-search-cancel-button {\n    display: none;\n}\n\n.vs__search::-webkit-search-decoration,\n.vs__search::-webkit-search-results-button,\n.vs__search::-webkit-search-results-decoration,\n.vs__search::-ms-clear {\n    display: none;\n}\n\n.vs__search,\n.vs__search:focus {\n    color: var(--vs-search-input-color);\n    appearance: none;\n    line-height: var(--vs-line-height);\n    font-size: var(--vs-font-size);\n    border: 1px solid transparent;\n    border-left: none;\n    outline: none;\n    margin: 4px 0 0 0;\n    padding: 0 7px;\n    background: none;\n    box-shadow: none;\n    width: 0;\n    max-width: 100%;\n    flex-grow: 1;\n    z-index: 1;\n}\n\n.vs__search::placeholder {\n    color: var(--vs-search-input-placeholder-color);\n}\n\n/**\n    States\n */\n\n/* Unsearchable */\n.vs--unsearchable {\n    .vs__search {\n        opacity: 1;\n    }\n    &:not(.vs--disabled) .vs__search {\n        cursor: pointer;\n    }\n}\n\n/* Single, when searching but not loading or open */\n.vs--single.vs--searching:not(.vs--open):not(.vs--loading) {\n    .vs__search {\n        opacity: 0.2;\n    }\n}\n","/* Loading Spinner */\n.vs__spinner {\n    align-self: center;\n    opacity: 0;\n    font-size: 5px;\n    text-indent: -9999em;\n    overflow: hidden;\n    border-top: 0.9em solid rgba(100, 100, 100, 0.1);\n    border-right: 0.9em solid rgba(100, 100, 100, 0.1);\n    border-bottom: 0.9em solid rgba(100, 100, 100, 0.1);\n    border-left: 0.9em solid rgba(60, 60, 60, 0.45);\n    transform: translateZ(0)\n        scale(var(--vs-controls--spinner-size, var(--vs-controls-size)));\n    animation: vSelectSpinner 1.1s infinite linear;\n    transition: opacity 0.1s;\n}\n.vs__spinner,\n.vs__spinner:after {\n    border-radius: 50%;\n    width: 5em;\n    height: 5em;\n    transform: scale(var(--vs-controls--spinner-size, var(--vs-controls-size)));\n}\n\n/* Loading Spinner States */\n.vs--loading .vs__spinner {\n    opacity: 1;\n}\n",":root{--vs-colors--lightest:rgba(60,60,60,0.26);--vs-colors--light:rgba(60,60,60,0.5);--vs-colors--dark:#333;--vs-colors--darkest:rgba(0,0,0,0.15);--vs-search-input-color:inherit;--vs-search-input-placeholder-color:inherit;--vs-font-size:1rem;--vs-line-height:1.4;--vs-state-disabled-bg:#f8f8f8;--vs-state-disabled-color:var(--vs-colors--light);--vs-state-disabled-controls-color:var(--vs-colors--light);--vs-state-disabled-cursor:not-allowed;--vs-border-color:var(--vs-colors--lightest);--vs-border-width:1px;--vs-border-style:solid;--vs-border-radius:4px;--vs-actions-padding:4px 6px 0 3px;--vs-controls-color:var(--vs-colors--light);--vs-controls-size:1;--vs-controls--deselect-text-shadow:0 1px 0 #fff;--vs-selected-bg:#f0f0f0;--vs-selected-color:var(--vs-colors--dark);--vs-selected-border-color:var(--vs-border-color);--vs-selected-border-style:var(--vs-border-style);--vs-selected-border-width:var(--vs-border-width);--vs-dropdown-bg:#fff;--vs-dropdown-color:inherit;--vs-dropdown-z-index:1000;--vs-dropdown-min-width:160px;--vs-dropdown-max-height:350px;--vs-dropdown-box-shadow:0px 3px 6px 0px var(--vs-colors--darkest);--vs-dropdown-option-bg:#000;--vs-dropdown-option-color:var(--vs-dropdown-color);--vs-dropdown-option-padding:3px 20px;--vs-dropdown-option--active-bg:#5897fb;--vs-dropdown-option--active-color:#fff;--vs-dropdown-option--deselect-bg:#fb5858;--vs-dropdown-option--deselect-color:#fff;--vs-transition-timing-function:cubic-bezier(1,-0.115,0.975,0.855);--vs-transition-duration:150ms}.v-select{font-family:inherit;position:relative}.v-select,.v-select *{box-sizing:border-box}:root{--vs-transition-timing-function:cubic-bezier(1,0.5,0.8,1);--vs-transition-duration:0.15s}@-webkit-keyframes vSelectSpinner{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes vSelectSpinner{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.vs__fade-enter-active,.vs__fade-leave-active{pointer-events:none;transition:opacity var(--vs-transition-duration) var(--vs-transition-timing-function)}.vs__fade-enter,.vs__fade-leave-to{opacity:0}:root{--vs-disabled-bg:var(--vs-state-disabled-bg);--vs-disabled-color:var(--vs-state-disabled-color);--vs-disabled-cursor:var(--vs-state-disabled-cursor)}.vs--disabled .vs__clear,.vs--disabled .vs__dropdown-toggle,.vs--disabled .vs__open-indicator,.vs--disabled .vs__search,.vs--disabled .vs__selected{background-color:var(--vs-disabled-bg);cursor:var(--vs-disabled-cursor)}.v-select[dir=rtl] .vs__actions{padding:0 3px 0 6px}.v-select[dir=rtl] .vs__clear{margin-left:6px;margin-right:0}.v-select[dir=rtl] .vs__deselect{margin-left:0;margin-right:2px}.v-select[dir=rtl] .vs__dropdown-menu{text-align:right}.vs__dropdown-toggle{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:none;border:var(--vs-border-width) var(--vs-border-style) var(--vs-border-color);border-radius:var(--vs-border-radius);display:flex;padding:0 0 4px;white-space:normal}.vs__selected-options{display:flex;flex-basis:100%;flex-grow:1;flex-wrap:wrap;padding:0 2px;position:relative}.vs__actions{align-items:center;display:flex;padding:var(--vs-actions-padding)}.vs--searchable .vs__dropdown-toggle{cursor:text}.vs--unsearchable .vs__dropdown-toggle{cursor:pointer}.vs--open .vs__dropdown-toggle{border-bottom-color:transparent;border-bottom-left-radius:0;border-bottom-right-radius:0}.vs__open-indicator{fill:var(--vs-controls-color);transform:scale(var(--vs-controls-size));transition:transform var(--vs-transition-duration) var(--vs-transition-timing-function);transition-timing-function:var(--vs-transition-timing-function)}.vs--open .vs__open-indicator{transform:rotate(180deg) scale(var(--vs-controls-size))}.vs--loading .vs__open-indicator{opacity:0}.vs__clear{fill:var(--vs-controls-color);background-color:transparent;border:0;cursor:pointer;margin-right:8px;padding:0}.vs__dropdown-menu{background:var(--vs-dropdown-bg);border:var(--vs-border-width) var(--vs-border-style) var(--vs-border-color);border-radius:0 0 var(--vs-border-radius) var(--vs-border-radius);border-top-style:none;box-shadow:var(--vs-dropdown-box-shadow);box-sizing:border-box;color:var(--vs-dropdown-color);display:block;left:0;list-style:none;margin:0;max-height:var(--vs-dropdown-max-height);min-width:var(--vs-dropdown-min-width);overflow-y:auto;padding:5px 0;position:absolute;text-align:left;top:calc(100% - var(--vs-border-width));width:100%;z-index:var(--vs-dropdown-z-index)}.vs__no-options{text-align:center}.vs__dropdown-option{clear:both;color:var(--vs-dropdown-option-color);cursor:pointer;display:block;line-height:1.42857143;padding:var(--vs-dropdown-option-padding);white-space:nowrap}.vs__dropdown-option--highlight{background:var(--vs-dropdown-option--active-bg);color:var(--vs-dropdown-option--active-color)}.vs__dropdown-option--deselect{background:var(--vs-dropdown-option--deselect-bg);color:var(--vs-dropdown-option--deselect-color)}.vs__dropdown-option--disabled{background:var(--vs-state-disabled-bg);color:var(--vs-state-disabled-color);cursor:var(--vs-state-disabled-cursor)}.vs__selected{align-items:center;background-color:var(--vs-selected-bg);border:var(--vs-selected-border-width) var(--vs-selected-border-style) var(--vs-selected-border-color);border-radius:var(--vs-border-radius);color:var(--vs-selected-color);display:flex;line-height:var(--vs-line-height);margin:4px 2px 0;padding:0 .25em;z-index:0}.vs__deselect{fill:var(--vs-controls-color);-webkit-appearance:none;-moz-appearance:none;appearance:none;background:none;border:0;cursor:pointer;display:inline-flex;margin-left:4px;padding:0;text-shadow:var(--vs-controls--deselect-text-shadow)}.vs--single .vs__selected{background-color:transparent;border-color:transparent}.vs--single.vs--loading .vs__selected,.vs--single.vs--open .vs__selected{opacity:.4;position:absolute}.vs--single.vs--searching .vs__selected{display:none}.vs__search::-webkit-search-cancel-button{display:none}.vs__search::-ms-clear,.vs__search::-webkit-search-decoration,.vs__search::-webkit-search-results-button,.vs__search::-webkit-search-results-decoration{display:none}.vs__search,.vs__search:focus{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:none;border:1px solid transparent;border-left:none;box-shadow:none;color:var(--vs-search-input-color);flex-grow:1;font-size:var(--vs-font-size);line-height:var(--vs-line-height);margin:4px 0 0;max-width:100%;outline:none;padding:0 7px;width:0;z-index:1}.vs__search::-moz-placeholder{color:var(--vs-search-input-placeholder-color)}.vs__search:-ms-input-placeholder{color:var(--vs-search-input-placeholder-color)}.vs__search::placeholder{color:var(--vs-search-input-placeholder-color)}.vs--unsearchable .vs__search{opacity:1}.vs--unsearchable:not(.vs--disabled) .vs__search{cursor:pointer}.vs--single.vs--searching:not(.vs--open):not(.vs--loading) .vs__search{opacity:.2}.vs__spinner{align-self:center;-webkit-animation:vSelectSpinner 1.1s linear infinite;animation:vSelectSpinner 1.1s linear infinite;border:.9em solid hsla(0,0%,39%,.1);border-left-color:rgba(60,60,60,.45);font-size:5px;opacity:0;overflow:hidden;text-indent:-9999em;transform:translateZ(0) scale(var(--vs-controls--spinner-size,var(--vs-controls-size)));transition:opacity .1s}.vs__spinner,.vs__spinner:after{border-radius:50%;height:5em;transform:scale(var(--vs-controls--spinner-size,var(--vs-controls-size)));width:5em}.vs--loading .vs__spinner{opacity:1}\n\n/*# sourceMappingURL=vue-select.css.map*/"],sourceRoot:""}]);let l=o},3645:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n="",a=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),a&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),a&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n}).join("")},t.i=function(e,n,a,i,r){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(a)for(var l=0;l<this.length;l++){var s=this[l][0];null!=s&&(o[s]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);if(!a||!o[d[0]])void 0!==r&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=r),n&&(d[2]&&(d[1]="@media ".concat(d[2]," {").concat(d[1],"}")),d[2]=n),i&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=i):d[4]="".concat(i)),t.push(d)}},t}},7537:function(e){"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var a=btoa(unescape(encodeURIComponent(JSON.stringify(n))));return[t].concat(n.sources.map(function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")})).concat(["/*# ".concat("sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a)," */")]).join("\n")}return[t].join("\n")}},4845:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>B});var a=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],i={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(e){return"undefined"!=typeof console&&console.warn(e)},getWeek:function(e){var t=new Date(e.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var n=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},r={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(e){var t=e%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},o=function(e,t){return void 0===t&&(t=2),("000"+e).slice(-1*t)},l=function(e){return!0===e?1:0};function s(e,t){var n;return function(){var a=this,i=arguments;clearTimeout(n),n=setTimeout(function(){return e.apply(a,i)},t)}}var c=function(e){return e instanceof Array?e:[e]};function d(e,t,n){if(!0===n)return e.classList.add(t);e.classList.remove(t)}function u(e,t,n){var a=window.document.createElement(e);return t=t||"",n=n||"",a.className=t,void 0!==n&&(a.textContent=n),a}function p(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function _(e,t){var n=u("div","numInputWrapper"),a=u("input","numInput "+e),i=u("span","arrowUp"),r=u("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?a.type="number":(a.type="text",a.pattern="\\d*"),void 0!==t)for(var o in t)a.setAttribute(o,t[o]);return n.appendChild(a),n.appendChild(i),n.appendChild(r),n}function m(e){try{if("function"==typeof e.composedPath)return e.composedPath()[0];return e.target}catch(t){return e.target}}var f=function(){},h=function(e,t,n){return n.months[t?"shorthand":"longhand"][e]},g={D:f,F:function(e,t,n){e.setMonth(n.months.longhand.indexOf(t))},G:function(e,t){e.setHours((e.getHours()>=12?12:0)+parseFloat(t))},H:function(e,t){e.setHours(parseFloat(t))},J:function(e,t){e.setDate(parseFloat(t))},K:function(e,t,n){e.setHours(e.getHours()%12+12*l(RegExp(n.amPM[1],"i").test(t)))},M:function(e,t,n){e.setMonth(n.months.shorthand.indexOf(t))},S:function(e,t){e.setSeconds(parseFloat(t))},U:function(e,t){return new Date(1e3*parseFloat(t))},W:function(e,t,n){var a=parseInt(t),i=new Date(e.getFullYear(),0,2+(a-1)*7,0,0,0,0);return i.setDate(i.getDate()-i.getDay()+n.firstDayOfWeek),i},Y:function(e,t){e.setFullYear(parseFloat(t))},Z:function(e,t){return new Date(t)},d:function(e,t){e.setDate(parseFloat(t))},h:function(e,t){e.setHours((e.getHours()>=12?12:0)+parseFloat(t))},i:function(e,t){e.setMinutes(parseFloat(t))},j:function(e,t){e.setDate(parseFloat(t))},l:f,m:function(e,t){e.setMonth(parseFloat(t)-1)},n:function(e,t){e.setMonth(parseFloat(t)-1)},s:function(e,t){e.setSeconds(parseFloat(t))},u:function(e,t){return new Date(parseFloat(t))},w:f,y:function(e,t){e.setFullYear(2e3+parseFloat(t))}},b={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},y={Z:function(e){return e.toISOString()},D:function(e,t,n){return t.weekdays.shorthand[y.w(e,t,n)]},F:function(e,t,n){return h(y.n(e,t,n)-1,!1,t)},G:function(e,t,n){return o(y.h(e,t,n))},H:function(e){return o(e.getHours())},J:function(e,t){return void 0!==t.ordinal?e.getDate()+t.ordinal(e.getDate()):e.getDate()},K:function(e,t){return t.amPM[l(e.getHours()>11)]},M:function(e,t){return h(e.getMonth(),!0,t)},S:function(e){return o(e.getSeconds())},U:function(e){return e.getTime()/1e3},W:function(e,t,n){return n.getWeek(e)},Y:function(e){return o(e.getFullYear(),4)},d:function(e){return o(e.getDate())},h:function(e){return e.getHours()%12?e.getHours()%12:12},i:function(e){return o(e.getMinutes())},j:function(e){return e.getDate()},l:function(e,t){return t.weekdays.longhand[e.getDay()]},m:function(e){return o(e.getMonth()+1)},n:function(e){return e.getMonth()+1},s:function(e){return e.getSeconds()},u:function(e){return e.getTime()},w:function(e){return e.getDay()},y:function(e){return String(e.getFullYear()).substring(2)}},k=function(e){var t=e.config,n=void 0===t?i:t,a=e.l10n,o=void 0===a?r:a,l=e.isMobile,s=void 0!==l&&l;return function(e,t,a){var i=a||o;return void 0===n.formatDate||s?t.split("").map(function(t,a,r){return y[t]&&"\\"!==r[a-1]?y[t](e,i,n):"\\"!==t?t:""}).join(""):n.formatDate(e,t,i)}},E=function(e){var t=e.config,n=void 0===t?i:t,a=e.l10n,o=void 0===a?r:a;return function(e,t,a,r){if(0===e||e){var l,s=r||o;if(e instanceof Date)l=new Date(e.getTime());else if("string"!=typeof e&&void 0!==e.toFixed)l=new Date(e);else if("string"==typeof e){var c=t||(n||i).dateFormat,d=String(e).trim();if("today"===d)l=new Date,a=!0;else if(n&&n.parseDate)l=n.parseDate(e,c);else if(/Z$/.test(d)||/GMT$/.test(d))l=new Date(e);else{for(var u=void 0,p=[],_=0,m=0,f="";_<c.length;_++){var h=c[_],y="\\"===h,k="\\"===c[_-1]||y;if(b[h]&&!k){var E=new RegExp(f+=b[h]).exec(e);E&&(u=!0)&&p["Y"!==h?"push":"unshift"]({fn:g[h],val:E[++m]})}else!y&&(f+=".")}l=n&&n.noCalendar?new Date(new Date().setHours(0,0,0,0)):new Date(new Date().getFullYear(),0,1,0,0,0,0),p.forEach(function(e){var t=e.fn,n=e.val;return l=t(l,n,s)||l}),l=u?l:void 0}}if(!(l instanceof Date&&!isNaN(l.getTime()))){n.errorHandler(Error("Invalid date provided: "+e));return}return!0===a&&l.setHours(0,0,0,0),l}}};function A(e,t,n){return(void 0===n&&(n=!0),!1!==n)?new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):e.getTime()-t.getTime()}var w=function(e,t,n){return 3600*e+60*t+n},C=function(e){var t=Math.floor(e/3600),n=(e-3600*t)/60;return[t,n,e-3600*t-60*n]},S={DAY:864e5};function N(e){var t=e.defaultHour,n=e.defaultMinute,a=e.defaultSeconds;if(void 0!==e.minDate){var i=e.minDate.getHours(),r=e.minDate.getMinutes(),o=e.minDate.getSeconds();t<i&&(t=i),t===i&&n<r&&(n=r),t===i&&n===r&&a<o&&(a=e.minDate.getSeconds())}if(void 0!==e.maxDate){var l=e.maxDate.getHours(),s=e.maxDate.getMinutes();(t=Math.min(t,l))===l&&(n=Math.min(s,n)),t===l&&n===s&&(a=e.maxDate.getSeconds())}return{hours:t,minutes:n,seconds:a}}n("1895");var V=function(){return(V=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},x=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var a=Array(e),i=0,t=0;t<n;t++)for(var r=arguments[t],o=0,l=r.length;o<l;o++,i++)a[i]=r[o];return a};function D(e,t){for(var n=Array.prototype.slice.call(e).filter(function(e){return e instanceof HTMLElement}),f=[],g=0;g<n.length;g++){var y=n[g];try{if(null!==y.getAttribute("data-fp-omit"))continue;void 0!==y._flatpickr&&(y._flatpickr.destroy(),y._flatpickr=void 0),y._flatpickr=function(e,t){var n,f={config:V(V({},i),T.defaultConfig),l10n:r};f.parseDate=E({config:f.config,l10n:f.l10n}),f._handlers=[],f.pluginElements=[],f.loadedPlugins=[],f._bind=M,f._setHoursFromDate=O,f._positionCalendar=eu,f.changeMonth=Q,f.changeYear=et,f.clear=function(e,t){if(void 0===e&&(e=!0),void 0===t&&(t=!0),f.input.value="",void 0!==f.altInput&&(f.altInput.value=""),void 0!==f.mobileInput&&(f.mobileInput.value=""),f.selectedDates=[],f.latestSelectedDateObj=void 0,!0===t&&(f.currentYear=f._initialDate.getFullYear(),f.currentMonth=f._initialDate.getMonth()),!0===f.config.enableTime){var n=N(f.config);R(n.hours,n.minutes,n.seconds)}f.redraw(),e&&eb("onChange")},f.close=function(){f.isOpen=!1,!f.isMobile&&(void 0!==f.calendarContainer&&f.calendarContainer.classList.remove("open"),void 0!==f._input&&f._input.classList.remove("active")),eb("onClose")},f.onMouseOver=eo,f._createElement=u,f.createDay=U,f.destroy=function(){void 0!==f.config&&eb("onDestroy");for(var e=f._handlers.length;e--;)f._handlers[e].remove();if(f._handlers=[],f.mobileInput)f.mobileInput.parentNode&&f.mobileInput.parentNode.removeChild(f.mobileInput),f.mobileInput=void 0;else if(f.calendarContainer&&f.calendarContainer.parentNode){if(f.config.static&&f.calendarContainer.parentNode){var t=f.calendarContainer.parentNode;if(t.lastChild&&t.removeChild(t.lastChild),t.parentNode){for(;t.firstChild;)t.parentNode.insertBefore(t.firstChild,t);t.parentNode.removeChild(t)}}else f.calendarContainer.parentNode.removeChild(f.calendarContainer)}f.altInput&&(f.input.type="text",f.altInput.parentNode&&f.altInput.parentNode.removeChild(f.altInput),delete f.altInput),f.input&&(f.input.type=f.input._type,f.input.classList.remove("flatpickr-input"),f.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(e){try{delete f[e]}catch(e){}})},f.isEnabled=en,f.jumpToDate=j,f.updateValue=ew,f.open=function(e,t){if(void 0===t&&(t=f._positionElement),!0===f.isMobile){if(e){e.preventDefault();var n=m(e);n&&n.blur()}void 0!==f.mobileInput&&(f.mobileInput.focus(),f.mobileInput.click()),eb("onOpen");return}if(!f._input.disabled&&!f.config.inline){var a=f.isOpen;f.isOpen=!0,!a&&(f.calendarContainer.classList.add("open"),f._input.classList.add("active"),eb("onOpen"),eu(t)),!0===f.config.enableTime&&!0===f.config.noCalendar&&!1===f.config.allowInput&&(void 0===e||!f.timeContainer.contains(e.relatedTarget))&&setTimeout(function(){return f.hourElement.select()},50)}},f.redraw=ep,f.set=function(e,t){if(null!==e&&"object"==typeof e)for(var n in Object.assign(f.config,e),e)void 0!==ef[n]&&ef[n].forEach(function(e){return e()});else f.config[e]=t,void 0!==ef[e]?ef[e].forEach(function(e){return e()}):a.indexOf(e)>-1&&(f.config[e]=c(t));f.redraw(),ew(!0)},f.setDate=function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=f.config.dateFormat),0!==e&&!e||e instanceof Array&&0===e.length)return f.clear(t);eh(e,n),f.latestSelectedDateObj=f.selectedDates[f.selectedDates.length-1],f.redraw(),j(void 0,t),O(),0===f.selectedDates.length&&f.clear(!1),ew(t),t&&eb("onChange")},f.toggle=function(e){if(!0===f.isOpen)return f.close();f.open(e)};function g(){var e;return(null===(e=f.calendarContainer)||void 0===e?void 0:e.getRootNode()).activeElement||document.activeElement}function y(e){return e.bind(f)}function D(){var e=f.config;if(!1!==e.weekNumbers||1!==e.showMonths)!0!==e.noCalendar&&window.requestAnimationFrame(function(){if(void 0!==f.calendarContainer&&(f.calendarContainer.style.visibility="hidden",f.calendarContainer.style.display="block"),void 0!==f.daysContainer){var t=(f.days.offsetWidth+1)*e.showMonths;f.daysContainer.style.width=t+"px",f.calendarContainer.style.width=t+(void 0!==f.weekWrapper?f.weekWrapper.offsetWidth:0)+"px",f.calendarContainer.style.removeProperty("visibility"),f.calendarContainer.style.removeProperty("display")}})}function B(e){if(0===f.selectedDates.length){var t=void 0===f.config.minDate||A(new Date,f.config.minDate)>=0?new Date:new Date(f.config.minDate.getTime()),n=N(f.config);t.setHours(n.hours,n.minutes,n.seconds,t.getMilliseconds()),f.selectedDates=[t],f.latestSelectedDateObj=t}void 0!==e&&"blur"!==e.type&&function(e){e.preventDefault();var t="keydown"===e.type,n=m(e);void 0!==f.amPM&&n===f.amPM&&(f.amPM.textContent=f.l10n.amPM[l(f.amPM.textContent===f.l10n.amPM[0])]);var a=parseFloat(n.getAttribute("min")),i=parseFloat(n.getAttribute("max")),r=parseFloat(n.getAttribute("step")),s=parseInt(n.value,10),c=s+r*(e.delta||(t?38===e.which?1:-1:0));if(void 0!==n.value&&2===n.value.length){var d=n===f.hourElement,u=n===f.minuteElement;c<a?(c=i+c+l(!d)+(l(d)&&l(!f.amPM)),u&&F(void 0,-1,f.hourElement)):c>i&&(c=n===f.hourElement?c-i-l(!f.amPM):a,u&&F(void 0,1,f.hourElement)),f.amPM&&d&&(1===r?c+s===23:Math.abs(c-s)>r)&&(f.amPM.textContent=f.l10n.amPM[l(f.amPM.textContent===f.l10n.amPM[0])]),n.value=o(c)}}(e);var a=f._input.value;P(),ew(),f._input.value!==a&&f._debouncedChange()}function P(){if(void 0!==f.hourElement&&void 0!==f.minuteElement){var e=(parseInt(f.hourElement.value.slice(-2),10)||0)%24,t=(parseInt(f.minuteElement.value,10)||0)%60,n=void 0!==f.secondElement?(parseInt(f.secondElement.value,10)||0)%60:0;if(void 0!==f.amPM)e=e%12+12*l(f.amPM.textContent===f.l10n.amPM[1]);var a=void 0!==f.config.minTime||f.config.minDate&&f.minDateHasTime&&f.latestSelectedDateObj&&0===A(f.latestSelectedDateObj,f.config.minDate,!0),i=void 0!==f.config.maxTime||f.config.maxDate&&f.maxDateHasTime&&f.latestSelectedDateObj&&0===A(f.latestSelectedDateObj,f.config.maxDate,!0);if(void 0!==f.config.maxTime&&void 0!==f.config.minTime&&f.config.minTime>f.config.maxTime){var r=w(f.config.minTime.getHours(),f.config.minTime.getMinutes(),f.config.minTime.getSeconds()),o=w(f.config.maxTime.getHours(),f.config.maxTime.getMinutes(),f.config.maxTime.getSeconds()),s=w(e,t,n);if(s>o&&s<r){var c=C(r);e=c[0],t=c[1],n=c[2]}}else{if(i){var d=void 0!==f.config.maxTime?f.config.maxTime:f.config.maxDate;(e=Math.min(e,d.getHours()))===d.getHours()&&(t=Math.min(t,d.getMinutes())),t===d.getMinutes()&&(n=Math.min(n,d.getSeconds()))}if(a){var u=void 0!==f.config.minTime?f.config.minTime:f.config.minDate;(e=Math.max(e,u.getHours()))===u.getHours()&&t<u.getMinutes()&&(t=u.getMinutes()),t===u.getMinutes()&&(n=Math.max(n,u.getSeconds()))}}R(e,t,n)}}function O(e){var t=e||f.latestSelectedDateObj;t&&t instanceof Date&&R(t.getHours(),t.getMinutes(),t.getSeconds())}function R(e,t,n){void 0!==f.latestSelectedDateObj&&f.latestSelectedDateObj.setHours(e%24,t,n||0,0),f.hourElement&&f.minuteElement&&!f.isMobile&&(f.hourElement.value=o(f.config.time_24hr?e:(12+e)%12+12*l(e%12==0)),f.minuteElement.value=o(t),void 0!==f.amPM&&(f.amPM.textContent=f.l10n.amPM[l(e>=12)]),void 0!==f.secondElement&&(f.secondElement.value=o(n)))}function I(e){var t=parseInt(m(e).value)+(e.delta||0);(t/1e3>1||"Enter"===e.key&&!/[^\d]/.test(t.toString()))&&et(t)}function M(e,t,n,a){return t instanceof Array?t.forEach(function(t){return M(e,t,n,a)}):e instanceof Array?e.forEach(function(e){return M(e,t,n,a)}):void(e.addEventListener(t,n,a),f._handlers.push({remove:function(){return e.removeEventListener(t,n,a)}}))}function L(){eb("onChange")}function j(e,t){var n=void 0!==e?f.parseDate(e):f.latestSelectedDateObj||(f.config.minDate&&f.config.minDate>f.now?f.config.minDate:f.config.maxDate&&f.config.maxDate<f.now?f.config.maxDate:f.now),a=f.currentYear,i=f.currentMonth;try{void 0!==n&&(f.currentYear=n.getFullYear(),f.currentMonth=n.getMonth())}catch(e){e.message="Invalid date supplied: "+n,f.config.errorHandler(e)}t&&f.currentYear!==a&&(eb("onYearChange"),K()),t&&(f.currentYear!==a||f.currentMonth!==i)&&eb("onMonthChange"),f.redraw()}function q(e){var t=m(e);~t.className.indexOf("arrow")&&F(e,t.classList.contains("arrowUp")?1:-1)}function F(e,t,n){var a=e&&m(e),i=n||a&&a.parentNode&&a.parentNode.firstChild,r=ey("increment");r.delta=t,i&&i.dispatchEvent(r)}function U(e,t,n,a){var i=en(t,!0),r=u("span",e,t.getDate().toString());return r.dateObj=t,r.$i=a,r.setAttribute("aria-label",f.formatDate(t,f.config.ariaDateFormat)),-1===e.indexOf("hidden")&&0===A(t,f.now)&&(f.todayDateElem=r,r.classList.add("today"),r.setAttribute("aria-current","date")),i?(r.tabIndex=-1,ek(t)&&(r.classList.add("selected"),f.selectedDateElem=r,"range"===f.config.mode&&(d(r,"startRange",f.selectedDates[0]&&0===A(t,f.selectedDates[0],!0)),d(r,"endRange",f.selectedDates[1]&&0===A(t,f.selectedDates[1],!0)),"nextMonthDay"===e&&r.classList.add("inRange")))):r.classList.add("flatpickr-disabled"),"range"===f.config.mode&&function(e){return"range"===f.config.mode&&!(f.selectedDates.length<2)&&A(e,f.selectedDates[0])>=0&&0>=A(e,f.selectedDates[1])}(t)&&!ek(t)&&r.classList.add("inRange"),f.weekNumbers&&1===f.config.showMonths&&"prevMonthDay"!==e&&a%7==6&&f.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+f.config.getWeek(t)+"</span>"),eb("onDayCreate",r),r}function z(e){e.focus(),"range"===f.config.mode&&eo(e)}function H(e){for(var t=e>0?0:f.config.showMonths-1,n=e>0?f.config.showMonths:-1,a=t;a!=n;a+=e){for(var i=f.daysContainer.children[a],r=e>0?0:i.children.length-1,o=e>0?i.children.length:-1,l=r;l!=o;l+=e){var s=i.children[l];if(-1===s.className.indexOf("hidden")&&en(s.dateObj))return s}}}function Y(e,t){var n=g(),a=ea(n||document.body),i=void 0!==e?e:a?n:void 0!==f.selectedDateElem&&ea(f.selectedDateElem)?f.selectedDateElem:void 0!==f.todayDateElem&&ea(f.todayDateElem)?f.todayDateElem:H(t>0?1:-1);void 0===i?f._input.focus():a?!function(e,t){for(var n=-1===e.className.indexOf("Month")?e.dateObj.getMonth():f.currentMonth,a=t>0?f.config.showMonths:-1,i=t>0?1:-1,r=n-f.currentMonth;r!=a;r+=i){for(var o=f.daysContainer.children[r],l=n-f.currentMonth===r?e.$i+t:t<0?o.children.length-1:0,s=o.children.length,c=l;c>=0&&c<s&&c!=(t>0?s:-1);c+=i){var d=o.children[c];if(-1===d.className.indexOf("hidden")&&en(d.dateObj)&&Math.abs(e.$i-c)>=Math.abs(t))return z(d)}}f.changeMonth(i),Y(H(i),0)}(i,t):z(i)}function J(){if(void 0!==f.daysContainer){p(f.daysContainer),f.weekNumbers&&p(f.weekNumbers);for(var e=document.createDocumentFragment(),t=0;t<f.config.showMonths;t++){var n=new Date(f.currentYear,f.currentMonth,1);n.setMonth(f.currentMonth+t),e.appendChild(function(e,t){for(var n=(new Date(e,t,1).getDay()-f.l10n.firstDayOfWeek+7)%7,a=f.utils.getDaysInMonth((t-1+12)%12,e),i=f.utils.getDaysInMonth(t,e),r=window.document.createDocumentFragment(),o=f.config.showMonths>1,l=o?"prevMonthDay hidden":"prevMonthDay",s=o?"nextMonthDay hidden":"nextMonthDay",c=a+1-n,d=0;c<=a;c++,d++)r.appendChild(U("flatpickr-day "+l,new Date(e,t-1,c),c,d));for(c=1;c<=i;c++,d++)r.appendChild(U("flatpickr-day",new Date(e,t,c),c,d));for(var p=i+1;p<=42-n&&(1===f.config.showMonths||d%7!=0);p++,d++)r.appendChild(U("flatpickr-day "+s,new Date(e,t+1,p%i),p,d));var _=u("div","dayContainer");return _.appendChild(r),_}(n.getFullYear(),n.getMonth()))}f.daysContainer.appendChild(e),f.days=f.daysContainer.firstChild,"range"===f.config.mode&&1===f.selectedDates.length&&eo()}}function K(){if(!(f.config.showMonths>1)&&"dropdown"===f.config.monthSelectorType){f.monthsDropdownContainer.tabIndex=-1,f.monthsDropdownContainer.innerHTML="";for(var e,t=0;t<12;t++){;if(e=t,!(void 0!==f.config.minDate&&f.currentYear===f.config.minDate.getFullYear()&&e<f.config.minDate.getMonth()||void 0!==f.config.maxDate&&f.currentYear===f.config.maxDate.getFullYear()&&e>f.config.maxDate.getMonth())){var n=u("option","flatpickr-monthDropdown-month");n.value=new Date(f.currentYear,t).getMonth().toString(),n.textContent=h(t,f.config.shorthandCurrentMonth,f.l10n),n.tabIndex=-1,f.currentMonth===t&&(n.selected=!0),f.monthsDropdownContainer.appendChild(n)}}}}function Z(){p(f.monthNav),f.monthNav.appendChild(f.prevMonthNav),f.config.showMonths&&(f.yearElements=[],f.monthElements=[]);for(var e=f.config.showMonths;e--;){var t=function(){var e,t=u("div","flatpickr-month"),n=window.document.createDocumentFragment();f.config.showMonths>1||"static"===f.config.monthSelectorType?e=u("span","cur-month"):(f.monthsDropdownContainer=u("select","flatpickr-monthDropdown-months"),f.monthsDropdownContainer.setAttribute("aria-label",f.l10n.monthAriaLabel),M(f.monthsDropdownContainer,"change",function(e){var t=parseInt(m(e).value,10);f.changeMonth(t-f.currentMonth),eb("onMonthChange")}),K(),e=f.monthsDropdownContainer);var a=_("cur-year",{tabindex:"-1"}),i=a.getElementsByTagName("input")[0];i.setAttribute("aria-label",f.l10n.yearAriaLabel),f.config.minDate&&i.setAttribute("min",f.config.minDate.getFullYear().toString()),f.config.maxDate&&(i.setAttribute("max",f.config.maxDate.getFullYear().toString()),i.disabled=!!f.config.minDate&&f.config.minDate.getFullYear()===f.config.maxDate.getFullYear());var r=u("div","flatpickr-current-month");return r.appendChild(e),r.appendChild(a),n.appendChild(r),t.appendChild(n),{container:t,yearElement:i,monthElement:e}}();f.yearElements.push(t.yearElement),f.monthElements.push(t.monthElement),f.monthNav.appendChild(t.container)}f.monthNav.appendChild(f.nextMonthNav)}function W(){f.weekdayContainer?p(f.weekdayContainer):f.weekdayContainer=u("div","flatpickr-weekdays");for(var e=f.config.showMonths;e--;){var t=u("div","flatpickr-weekdaycontainer");f.weekdayContainer.appendChild(t)}return G(),f.weekdayContainer}function G(){if(!!f.weekdayContainer){var e=f.l10n.firstDayOfWeek,t=x(f.l10n.weekdays.shorthand);e>0&&e<t.length&&(t=x(t.splice(e,t.length),t.splice(0,e)));for(var n=f.config.showMonths;n--;)f.weekdayContainer.children[n].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+t.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function Q(e,t){void 0===t&&(t=!0);var n=t?e:e-f.currentMonth;(!(n<0)||!0!==f._hidePrevMonthArrow)&&(!(n>0)||!0!==f._hideNextMonthArrow)&&(f.currentMonth+=n,(f.currentMonth<0||f.currentMonth>11)&&(f.currentYear+=f.currentMonth>11?1:-1,f.currentMonth=(f.currentMonth+12)%12,eb("onYearChange"),K()),J(),eb("onMonthChange"),eE())}function X(e){return f.calendarContainer.contains(e)}function ee(e){if(f.isOpen&&!f.config.inline){var t=m(e),n=X(t),a=!(t===f.input||t===f.altInput||f.element.contains(t)||e.path&&e.path.indexOf&&(~e.path.indexOf(f.input)||~e.path.indexOf(f.altInput)))&&!n&&!X(e.relatedTarget),i=!f.config.ignoredFocusElements.some(function(e){return e.contains(t)});a&&i&&(f.config.allowInput&&f.setDate(f._input.value,!1,f.config.altInput?f.config.altFormat:f.config.dateFormat),void 0!==f.timeContainer&&void 0!==f.minuteElement&&void 0!==f.hourElement&&""!==f.input.value&&void 0!==f.input.value&&B(),f.close(),f.config&&"range"===f.config.mode&&1===f.selectedDates.length&&f.clear(!1))}}function et(e){if(!(!e||f.config.minDate&&e<f.config.minDate.getFullYear()||f.config.maxDate&&e>f.config.maxDate.getFullYear())){var t=f.currentYear!==e;f.currentYear=e||f.currentYear,f.config.maxDate&&f.currentYear===f.config.maxDate.getFullYear()?f.currentMonth=Math.min(f.config.maxDate.getMonth(),f.currentMonth):f.config.minDate&&f.currentYear===f.config.minDate.getFullYear()&&(f.currentMonth=Math.max(f.config.minDate.getMonth(),f.currentMonth)),t&&(f.redraw(),eb("onYearChange"),K())}}function en(e,t){void 0===t&&(t=!0);var n,a=f.parseDate(e,void 0,t);if(f.config.minDate&&a&&0>A(a,f.config.minDate,void 0!==t?t:!f.minDateHasTime)||f.config.maxDate&&a&&A(a,f.config.maxDate,void 0!==t?t:!f.maxDateHasTime)>0)return!1;if(!f.config.enable&&0===f.config.disable.length)return!0;if(void 0===a)return!1;for(var i=!!f.config.enable,r=null!==(n=f.config.enable)&&void 0!==n?n:f.config.disable,o=0,l=void 0;o<r.length;o++){if("function"==typeof(l=r[o])&&l(a))return i;if(l instanceof Date&&void 0!==a&&l.getTime()===a.getTime())return i;else if("string"==typeof l){var s=f.parseDate(l,void 0,!0);return s&&s.getTime()===a.getTime()?i:!i}else if("object"==typeof l&&void 0!==a&&l.from&&l.to&&a.getTime()>=l.from.getTime()&&a.getTime()<=l.to.getTime())return i}return!i}function ea(e){return void 0!==f.daysContainer&&-1===e.className.indexOf("hidden")&&-1===e.className.indexOf("flatpickr-disabled")&&f.daysContainer.contains(e)}function ei(e){var t=e.target===f._input,n=f._input.value.trimEnd()!==eA();t&&n&&!(e.relatedTarget&&X(e.relatedTarget))&&f.setDate(f._input.value,!0,e.target===f.altInput?f.config.altFormat:f.config.dateFormat)}function er(t){var n=m(t),a=f.config.wrap?e.contains(n):n===f._input,i=f.config.allowInput,r=f.isOpen&&(!i||!a),o=f.config.inline&&a&&!i;if(13===t.keyCode&&a){if(i)return f.setDate(f._input.value,!0,n===f.altInput?f.config.altFormat:f.config.dateFormat),f.close(),n.blur();f.open()}else if(X(n)||r||o){var l=!!f.timeContainer&&f.timeContainer.contains(n);switch(t.keyCode){case 13:l?(t.preventDefault(),B(),e_()):em(t);break;case 27:t.preventDefault(),e_();break;case 8:case 46:a&&!f.config.allowInput&&(t.preventDefault(),f.clear());break;case 37:case 39:if(l||a)f.hourElement&&f.hourElement.focus();else{t.preventDefault();var s=g();if(void 0!==f.daysContainer&&(!1===i||s&&ea(s))){var c=39===t.keyCode?1:-1;t.ctrlKey?(t.stopPropagation(),Q(c),Y(H(1),0)):Y(void 0,c)}}break;case 38:case 40:t.preventDefault();var d=40===t.keyCode?1:-1;f.daysContainer&&void 0!==n.$i||n===f.input||n===f.altInput?t.ctrlKey?(t.stopPropagation(),et(f.currentYear-d),Y(H(1),0)):!l&&Y(void 0,7*d):n===f.currentYearElement?et(f.currentYear-d):f.config.enableTime&&(!l&&f.hourElement&&f.hourElement.focus(),B(t),f._debouncedChange());break;case 9:if(l){var u=[f.hourElement,f.minuteElement,f.secondElement,f.amPM].concat(f.pluginElements).filter(function(e){return e}),p=u.indexOf(n);if(-1!==p){var _=u[p+(t.shiftKey?-1:1)];t.preventDefault(),(_||f._input).focus()}}else!f.config.noCalendar&&f.daysContainer&&f.daysContainer.contains(n)&&t.shiftKey&&(t.preventDefault(),f._input.focus())}}if(void 0!==f.amPM&&n===f.amPM)switch(t.key){case f.l10n.amPM[0].charAt(0):case f.l10n.amPM[0].charAt(0).toLowerCase():f.amPM.textContent=f.l10n.amPM[0],P(),ew();break;case f.l10n.amPM[1].charAt(0):case f.l10n.amPM[1].charAt(0).toLowerCase():f.amPM.textContent=f.l10n.amPM[1],P(),ew()}(a||X(n))&&eb("onKeyDown",t)}function eo(e,t){if(void 0===t&&(t="flatpickr-day"),!(1!==f.selectedDates.length||e&&(!e.classList.contains(t)||e.classList.contains("flatpickr-disabled")))){for(var n=e?e.dateObj.getTime():f.days.firstElementChild.dateObj.getTime(),a=f.parseDate(f.selectedDates[0],void 0,!0).getTime(),i=Math.min(n,f.selectedDates[0].getTime()),r=Math.max(n,f.selectedDates[0].getTime()),o=!1,l=0,s=0,c=i;c<r;c+=S.DAY)!en(new Date(c),!0)&&(o=o||c>i&&c<r,c<a&&(!l||c>l)?l=c:c>a&&(!s||c<s)&&(s=c));Array.from(f.rContainer.querySelectorAll("*:nth-child(-n+"+f.config.showMonths+") > ."+t)).forEach(function(t){var i,r,c,d=t.dateObj.getTime(),u=l>0&&d<l||s>0&&d>s;if(u){t.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(e){t.classList.remove(e)});return}if(!o||!!u){if(["startRange","inRange","endRange","notAllowed"].forEach(function(e){t.classList.remove(e)}),void 0!==e){;if(e.classList.add(n<=f.selectedDates[0].getTime()?"startRange":"endRange"),a<n&&d===a?t.classList.add("startRange"):a>n&&d===a&&t.classList.add("endRange"),d>=l&&(0===s||d<=s)&&(i=d)>Math.min(r=a,c=n)&&i<Math.max(r,c))t.classList.add("inRange")}}})}}function el(){f.isOpen&&!f.config.static&&!f.config.inline&&eu()}function es(e){return function(t){var n=f.config["_"+e+"Date"]=f.parseDate(t,f.config.dateFormat),a=f.config["_"+("min"===e?"max":"min")+"Date"];void 0!==n&&(f["min"===e?"minDateHasTime":"maxDateHasTime"]=n.getHours()>0||n.getMinutes()>0||n.getSeconds()>0),f.selectedDates&&(f.selectedDates=f.selectedDates.filter(function(e){return en(e)}),!f.selectedDates.length&&"min"===e&&O(n),ew()),f.daysContainer&&(ep(),void 0!==n?f.currentYearElement[e]=n.getFullYear().toString():f.currentYearElement.removeAttribute(e),f.currentYearElement.disabled=!!a&&void 0!==n&&a.getFullYear()===n.getFullYear())}}function ec(){return f.config.wrap?e.querySelector("[data-input]"):e}function ed(){"object"!=typeof f.config.locale&&void 0===T.l10ns[f.config.locale]&&f.config.errorHandler(Error("flatpickr: invalid locale "+f.config.locale)),f.l10n=V(V({},T.l10ns.default),"object"==typeof f.config.locale?f.config.locale:"default"!==f.config.locale?T.l10ns[f.config.locale]:void 0),b.D="("+f.l10n.weekdays.shorthand.join("|")+")",b.l="("+f.l10n.weekdays.longhand.join("|")+")",b.M="("+f.l10n.months.shorthand.join("|")+")",b.F="("+f.l10n.months.longhand.join("|")+")",b.K="("+f.l10n.amPM[0]+"|"+f.l10n.amPM[1]+"|"+f.l10n.amPM[0].toLowerCase()+"|"+f.l10n.amPM[1].toLowerCase()+")",void 0===V(V({},t),JSON.parse(JSON.stringify(e.dataset||{}))).time_24hr&&void 0===T.defaultConfig.time_24hr&&(f.config.time_24hr=f.l10n.time_24hr),f.formatDate=k(f),f.parseDate=E({config:f.config,l10n:f.l10n})}function eu(e){if("function"==typeof f.config.position)return void f.config.position(f,e);if(void 0===f.calendarContainer)return;eb("onPreCalendarPosition");var t=e||f._positionElement,n=Array.prototype.reduce.call(f.calendarContainer.children,function(e,t){return e+t.offsetHeight},0),a=f.calendarContainer.offsetWidth,i=f.config.position.split(" "),r=i[0],o=i.length>1?i[1]:null,l=t.getBoundingClientRect(),s=window.innerHeight-l.bottom,c="above"===r||"below"!==r&&s<n&&l.top>n,u=window.pageYOffset+l.top+(c?-n-2:t.offsetHeight+2);if(d(f.calendarContainer,"arrowTop",!c),d(f.calendarContainer,"arrowBottom",c),!f.config.inline){var p=window.pageXOffset+l.left,_=!1,m=!1;"center"===o?(p-=(a-l.width)/2,_=!0):"right"===o&&(p-=a-l.width,m=!0),d(f.calendarContainer,"arrowLeft",!_&&!m),d(f.calendarContainer,"arrowCenter",_),d(f.calendarContainer,"arrowRight",m);var h=window.document.body.offsetWidth-(window.pageXOffset+l.right),g=p+a>window.document.body.offsetWidth,b=h+a>window.document.body.offsetWidth;if(d(f.calendarContainer,"rightMost",g),!f.config.static){if(f.calendarContainer.style.top=u+"px",g){if(b){var y=function(){for(var e=null,t=0;t<document.styleSheets.length;t++){var n=document.styleSheets[t];if(n.cssRules){try{n.cssRules}catch(e){continue}e=n;break}}return null!=e?e:function(){var e=document.createElement("style");return document.head.appendChild(e),e.sheet}()}();if(void 0===y)return;var k=Math.max(0,window.document.body.offsetWidth/2-a/2),E=y.cssRules.length,A="{left:"+l.left+"px;right:auto;}";d(f.calendarContainer,"rightMost",!1),d(f.calendarContainer,"centerMost",!0),y.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+A,E),f.calendarContainer.style.left=k+"px",f.calendarContainer.style.right="auto"}else f.calendarContainer.style.left="auto",f.calendarContainer.style.right=h+"px"}else f.calendarContainer.style.left=p+"px",f.calendarContainer.style.right="auto"}}}function ep(){!f.config.noCalendar&&!f.isMobile&&(K(),eE(),J())}function e_(){f._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(f.close,0):f.close()}function em(e){e.preventDefault(),e.stopPropagation();var t=function e(t,n){return n(t)?t:t.parentNode?e(t.parentNode,n):void 0}(m(e),function(e){return e.classList&&e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled")&&!e.classList.contains("notAllowed")});if(void 0!==t){var n=f.latestSelectedDateObj=new Date(t.dateObj.getTime()),a=(n.getMonth()<f.currentMonth||n.getMonth()>f.currentMonth+f.config.showMonths-1)&&"range"!==f.config.mode;if(f.selectedDateElem=t,"single"===f.config.mode)f.selectedDates=[n];else if("multiple"===f.config.mode){var i=ek(n);i?f.selectedDates.splice(parseInt(i),1):f.selectedDates.push(n)}else"range"===f.config.mode&&(2===f.selectedDates.length&&f.clear(!1,!1),f.latestSelectedDateObj=n,f.selectedDates.push(n),0!==A(n,f.selectedDates[0],!0)&&f.selectedDates.sort(function(e,t){return e.getTime()-t.getTime()}));if(P(),a){var r=f.currentYear!==n.getFullYear();f.currentYear=n.getFullYear(),f.currentMonth=n.getMonth(),r&&(eb("onYearChange"),K()),eb("onMonthChange")}if(eE(),J(),ew(),a||"range"===f.config.mode||1!==f.config.showMonths?void 0!==f.selectedDateElem&&void 0===f.hourElement&&f.selectedDateElem&&f.selectedDateElem.focus():z(t),void 0!==f.hourElement&&void 0!==f.hourElement&&f.hourElement.focus(),f.config.closeOnSelect){var o="single"===f.config.mode&&!f.config.enableTime,l="range"===f.config.mode&&2===f.selectedDates.length&&!f.config.enableTime;(o||l)&&e_()}L()}}var ef={locale:[ed,G],showMonths:[Z,D,W],minDate:[j],maxDate:[j],positionElement:[ev],clickOpens:[function(){!0===f.config.clickOpens?(M(f._input,"focus",f.open),M(f._input,"click",f.open)):(f._input.removeEventListener("focus",f.open),f._input.removeEventListener("click",f.open))}]};function eh(e,t){var n=[];if(e instanceof Array)n=e.map(function(e){return f.parseDate(e,t)});else if(e instanceof Date||"number"==typeof e)n=[f.parseDate(e,t)];else if("string"==typeof e)switch(f.config.mode){case"single":case"time":n=[f.parseDate(e,t)];break;case"multiple":n=e.split(f.config.conjunction).map(function(e){return f.parseDate(e,t)});break;case"range":n=e.split(f.l10n.rangeSeparator).map(function(e){return f.parseDate(e,t)})}else f.config.errorHandler(Error("Invalid date supplied: "+JSON.stringify(e)));f.selectedDates=f.config.allowInvalidPreload?n:n.filter(function(e){return e instanceof Date&&en(e,!1)}),"range"===f.config.mode&&f.selectedDates.sort(function(e,t){return e.getTime()-t.getTime()})}function eg(e){return e.slice().map(function(e){return"string"==typeof e||"number"==typeof e||e instanceof Date?f.parseDate(e,void 0,!0):e&&"object"==typeof e&&e.from&&e.to?{from:f.parseDate(e.from,void 0),to:f.parseDate(e.to,void 0)}:e}).filter(function(e){return e})}function ev(){f._positionElement=f.config.positionElement||f._input}function eb(e,t){if(void 0!==f.config){var n=f.config[e];if(void 0!==n&&n.length>0)for(var a=0;n[a]&&a<n.length;a++)n[a](f.selectedDates,f.input.value,f,t);"onChange"===e&&(f.input.dispatchEvent(ey("change")),f.input.dispatchEvent(ey("input")))}}function ey(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}function ek(e){for(var t=0;t<f.selectedDates.length;t++){var n=f.selectedDates[t];if(n instanceof Date&&0===A(n,e))return""+t}return!1}function eE(){!f.config.noCalendar&&!f.isMobile&&f.monthNav&&(f.yearElements.forEach(function(e,t){var n=new Date(f.currentYear,f.currentMonth,1);n.setMonth(f.currentMonth+t),f.config.showMonths>1||"static"===f.config.monthSelectorType?f.monthElements[t].textContent=h(n.getMonth(),f.config.shorthandCurrentMonth,f.l10n)+" ":f.monthsDropdownContainer.value=n.getMonth().toString(),e.value=n.getFullYear().toString()}),f._hidePrevMonthArrow=void 0!==f.config.minDate&&(f.currentYear===f.config.minDate.getFullYear()?f.currentMonth<=f.config.minDate.getMonth():f.currentYear<f.config.minDate.getFullYear()),f._hideNextMonthArrow=void 0!==f.config.maxDate&&(f.currentYear===f.config.maxDate.getFullYear()?f.currentMonth+1>f.config.maxDate.getMonth():f.currentYear>f.config.maxDate.getFullYear()))}function eA(e){var t=e||(f.config.altInput?f.config.altFormat:f.config.dateFormat);return f.selectedDates.map(function(e){return f.formatDate(e,t)}).filter(function(e,t,n){return"range"!==f.config.mode||f.config.enableTime||n.indexOf(e)===t}).join("range"!==f.config.mode?f.config.conjunction:f.l10n.rangeSeparator)}function ew(e){void 0===e&&(e=!0),void 0!==f.mobileInput&&f.mobileFormatStr&&(f.mobileInput.value=void 0!==f.latestSelectedDateObj?f.formatDate(f.latestSelectedDateObj,f.mobileFormatStr):""),f.input.value=eA(f.config.dateFormat),void 0!==f.altInput&&(f.altInput.value=eA(f.config.altFormat)),!1!==e&&eb("onValueUpdate")}function eC(e){var t=m(e),n=f.prevMonthNav.contains(t),a=f.nextMonthNav.contains(t);n||a?Q(n?-1:1):f.yearElements.indexOf(t)>=0?t.select():t.classList.contains("arrowUp")?f.changeYear(f.currentYear+1):t.classList.contains("arrowDown")&&f.changeYear(f.currentYear-1)}return f.element=f.input=e,f.isOpen=!1,function(){var n=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],r=V(V({},JSON.parse(JSON.stringify(e.dataset||{}))),t),o={};f.config.parseDate=r.parseDate,f.config.formatDate=r.formatDate,Object.defineProperty(f.config,"enable",{get:function(){return f.config._enable},set:function(e){f.config._enable=eg(e)}}),Object.defineProperty(f.config,"disable",{get:function(){return f.config._disable},set:function(e){f.config._disable=eg(e)}});var l="time"===r.mode;if(!r.dateFormat&&(r.enableTime||l)){var s=T.defaultConfig.dateFormat||i.dateFormat;o.dateFormat=r.noCalendar||l?"H:i"+(r.enableSeconds?":S":""):s+" H:i"+(r.enableSeconds?":S":"")}if(r.altInput&&(r.enableTime||l)&&!r.altFormat){var d=T.defaultConfig.altFormat||i.altFormat;o.altFormat=r.noCalendar||l?"h:i"+(r.enableSeconds?":S K":" K"):d+(" h:i"+(r.enableSeconds?":S":""))+" K"}Object.defineProperty(f.config,"minDate",{get:function(){return f.config._minDate},set:es("min")}),Object.defineProperty(f.config,"maxDate",{get:function(){return f.config._maxDate},set:es("max")});var u=function(e){return function(t){f.config["min"===e?"_minTime":"_maxTime"]=f.parseDate(t,"H:i:S")}};Object.defineProperty(f.config,"minTime",{get:function(){return f.config._minTime},set:u("min")}),Object.defineProperty(f.config,"maxTime",{get:function(){return f.config._maxTime},set:u("max")}),"time"===r.mode&&(f.config.noCalendar=!0,f.config.enableTime=!0),Object.assign(f.config,o,r);for(var p=0;p<n.length;p++)f.config[n[p]]=!0===f.config[n[p]]||"true"===f.config[n[p]];a.filter(function(e){return void 0!==f.config[e]}).forEach(function(e){f.config[e]=c(f.config[e]||[]).map(y)}),f.isMobile=!f.config.disableMobile&&!f.config.inline&&"single"===f.config.mode&&!f.config.disable.length&&!f.config.enable&&!f.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var p=0;p<f.config.plugins.length;p++){var _=f.config.plugins[p](f)||{};for(var m in _)a.indexOf(m)>-1?f.config[m]=c(_[m]).map(y).concat(f.config[m]):void 0===r[m]&&(f.config[m]=_[m])}!r.altInputClass&&(f.config.altInputClass=ec().className+" "+f.config.altInputClass),eb("onParseConfig")}(),ed(),function(){if(f.input=ec(),!f.input){f.config.errorHandler(Error("Invalid input element specified"));return}f.input._type=f.input.type,f.input.type="text",f.input.classList.add("flatpickr-input"),f._input=f.input,f.config.altInput&&(f.altInput=u(f.input.nodeName,f.config.altInputClass),f._input=f.altInput,f.altInput.placeholder=f.input.placeholder,f.altInput.disabled=f.input.disabled,f.altInput.required=f.input.required,f.altInput.tabIndex=f.input.tabIndex,f.altInput.type="text",f.input.setAttribute("type","hidden"),!f.config.static&&f.input.parentNode&&f.input.parentNode.insertBefore(f.altInput,f.input.nextSibling)),!f.config.allowInput&&f._input.setAttribute("readonly","readonly"),ev()}(),function(){f.selectedDates=[],f.now=f.parseDate(f.config.now)||new Date;var e=f.config.defaultDate||(("INPUT"===f.input.nodeName||"TEXTAREA"===f.input.nodeName)&&f.input.placeholder&&f.input.value===f.input.placeholder?null:f.input.value);e&&eh(e,f.config.dateFormat),f._initialDate=f.selectedDates.length>0?f.selectedDates[0]:f.config.minDate&&f.config.minDate.getTime()>f.now.getTime()?f.config.minDate:f.config.maxDate&&f.config.maxDate.getTime()<f.now.getTime()?f.config.maxDate:f.now,f.currentYear=f._initialDate.getFullYear(),f.currentMonth=f._initialDate.getMonth(),f.selectedDates.length>0&&(f.latestSelectedDateObj=f.selectedDates[0]),void 0!==f.config.minTime&&(f.config.minTime=f.parseDate(f.config.minTime,"H:i")),void 0!==f.config.maxTime&&(f.config.maxTime=f.parseDate(f.config.maxTime,"H:i")),f.minDateHasTime=!!f.config.minDate&&(f.config.minDate.getHours()>0||f.config.minDate.getMinutes()>0||f.config.minDate.getSeconds()>0),f.maxDateHasTime=!!f.config.maxDate&&(f.config.maxDate.getHours()>0||f.config.maxDate.getMinutes()>0||f.config.maxDate.getSeconds()>0)}(),f.utils={getDaysInMonth:function(e,t){return(void 0===e&&(e=f.currentMonth),void 0===t&&(t=f.currentYear),1===e&&(t%4==0&&t%100!=0||t%400==0))?29:f.l10n.daysInMonth[e]}},f.isMobile||function(){var e=window.document.createDocumentFragment();if(f.calendarContainer=u("div","flatpickr-calendar"),f.calendarContainer.tabIndex=-1,!f.config.noCalendar){if(e.appendChild(function(){return f.monthNav=u("div","flatpickr-months"),f.yearElements=[],f.monthElements=[],f.prevMonthNav=u("span","flatpickr-prev-month"),f.prevMonthNav.innerHTML=f.config.prevArrow,f.nextMonthNav=u("span","flatpickr-next-month"),f.nextMonthNav.innerHTML=f.config.nextArrow,Z(),Object.defineProperty(f,"_hidePrevMonthArrow",{get:function(){return f.__hidePrevMonthArrow},set:function(e){f.__hidePrevMonthArrow!==e&&(d(f.prevMonthNav,"flatpickr-disabled",e),f.__hidePrevMonthArrow=e)}}),Object.defineProperty(f,"_hideNextMonthArrow",{get:function(){return f.__hideNextMonthArrow},set:function(e){f.__hideNextMonthArrow!==e&&(d(f.nextMonthNav,"flatpickr-disabled",e),f.__hideNextMonthArrow=e)}}),f.currentYearElement=f.yearElements[0],eE(),f.monthNav}()),f.innerContainer=u("div","flatpickr-innerContainer"),f.config.weekNumbers){var t=function(){f.calendarContainer.classList.add("hasWeeks");var e=u("div","flatpickr-weekwrapper");e.appendChild(u("span","flatpickr-weekday",f.l10n.weekAbbreviation));var t=u("div","flatpickr-weeks");return e.appendChild(t),{weekWrapper:e,weekNumbers:t}}(),n=t.weekWrapper,a=t.weekNumbers;f.innerContainer.appendChild(n),f.weekNumbers=a,f.weekWrapper=n}f.rContainer=u("div","flatpickr-rContainer"),f.rContainer.appendChild(W()),!f.daysContainer&&(f.daysContainer=u("div","flatpickr-days"),f.daysContainer.tabIndex=-1),J(),f.rContainer.appendChild(f.daysContainer),f.innerContainer.appendChild(f.rContainer),e.appendChild(f.innerContainer)}f.config.enableTime&&e.appendChild(function(){f.calendarContainer.classList.add("hasTime"),f.config.noCalendar&&f.calendarContainer.classList.add("noCalendar");var e=N(f.config);f.timeContainer=u("div","flatpickr-time"),f.timeContainer.tabIndex=-1;var t=u("span","flatpickr-time-separator",":"),n=_("flatpickr-hour",{"aria-label":f.l10n.hourAriaLabel});f.hourElement=n.getElementsByTagName("input")[0];var a=_("flatpickr-minute",{"aria-label":f.l10n.minuteAriaLabel});if(f.minuteElement=a.getElementsByTagName("input")[0],f.hourElement.tabIndex=f.minuteElement.tabIndex=-1,f.hourElement.value=o(f.latestSelectedDateObj?f.latestSelectedDateObj.getHours():f.config.time_24hr?e.hours:function(e){switch(e%24){case 0:case 12:return 12;default:return e%12}}(e.hours)),f.minuteElement.value=o(f.latestSelectedDateObj?f.latestSelectedDateObj.getMinutes():e.minutes),f.hourElement.setAttribute("step",f.config.hourIncrement.toString()),f.minuteElement.setAttribute("step",f.config.minuteIncrement.toString()),f.hourElement.setAttribute("min",f.config.time_24hr?"0":"1"),f.hourElement.setAttribute("max",f.config.time_24hr?"23":"12"),f.hourElement.setAttribute("maxlength","2"),f.minuteElement.setAttribute("min","0"),f.minuteElement.setAttribute("max","59"),f.minuteElement.setAttribute("maxlength","2"),f.timeContainer.appendChild(n),f.timeContainer.appendChild(t),f.timeContainer.appendChild(a),f.config.time_24hr&&f.timeContainer.classList.add("time24hr"),f.config.enableSeconds){f.timeContainer.classList.add("hasSeconds");var i=_("flatpickr-second");f.secondElement=i.getElementsByTagName("input")[0],f.secondElement.value=o(f.latestSelectedDateObj?f.latestSelectedDateObj.getSeconds():e.seconds),f.secondElement.setAttribute("step",f.minuteElement.getAttribute("step")),f.secondElement.setAttribute("min","0"),f.secondElement.setAttribute("max","59"),f.secondElement.setAttribute("maxlength","2"),f.timeContainer.appendChild(u("span","flatpickr-time-separator",":")),f.timeContainer.appendChild(i)}return!f.config.time_24hr&&(f.amPM=u("span","flatpickr-am-pm",f.l10n.amPM[l((f.latestSelectedDateObj?f.hourElement.value:f.config.defaultHour)>11)]),f.amPM.title=f.l10n.toggleTitle,f.amPM.tabIndex=-1,f.timeContainer.appendChild(f.amPM)),f.timeContainer}()),d(f.calendarContainer,"rangeMode","range"===f.config.mode),d(f.calendarContainer,"animate",!0===f.config.animate),d(f.calendarContainer,"multiMonth",f.config.showMonths>1),f.calendarContainer.appendChild(e);var i=void 0!==f.config.appendTo&&void 0!==f.config.appendTo.nodeType;if((f.config.inline||f.config.static)&&(f.calendarContainer.classList.add(f.config.inline?"inline":"static"),f.config.inline&&(!i&&f.element.parentNode?f.element.parentNode.insertBefore(f.calendarContainer,f._input.nextSibling):void 0!==f.config.appendTo&&f.config.appendTo.appendChild(f.calendarContainer)),f.config.static)){var r=u("div","flatpickr-wrapper");f.element.parentNode&&f.element.parentNode.insertBefore(r,f.element),r.appendChild(f.element),f.altInput&&r.appendChild(f.altInput),r.appendChild(f.calendarContainer)}!f.config.static&&!f.config.inline&&(void 0!==f.config.appendTo?f.config.appendTo:window.document.body).appendChild(f.calendarContainer)}(),function(){if(f.config.wrap&&["open","close","toggle","clear"].forEach(function(e){Array.prototype.forEach.call(f.element.querySelectorAll("[data-"+e+"]"),function(t){return M(t,"click",f[e])})}),f.isMobile){(function(){var e=f.config.enableTime?f.config.noCalendar?"time":"datetime-local":"date";f.mobileInput=u("input",f.input.className+" flatpickr-mobile"),f.mobileInput.tabIndex=1,f.mobileInput.type=e,f.mobileInput.disabled=f.input.disabled,f.mobileInput.required=f.input.required,f.mobileInput.placeholder=f.input.placeholder,f.mobileFormatStr="datetime-local"===e?"Y-m-d\\TH:i:S":"date"===e?"Y-m-d":"H:i:S",f.selectedDates.length>0&&(f.mobileInput.defaultValue=f.mobileInput.value=f.formatDate(f.selectedDates[0],f.mobileFormatStr)),f.config.minDate&&(f.mobileInput.min=f.formatDate(f.config.minDate,"Y-m-d")),f.config.maxDate&&(f.mobileInput.max=f.formatDate(f.config.maxDate,"Y-m-d")),f.input.getAttribute("step")&&(f.mobileInput.step=String(f.input.getAttribute("step"))),f.input.type="hidden",void 0!==f.altInput&&(f.altInput.type="hidden");try{f.input.parentNode&&f.input.parentNode.insertBefore(f.mobileInput,f.input.nextSibling)}catch(e){}M(f.mobileInput,"change",function(e){f.setDate(m(e).value,!1,f.mobileFormatStr),eb("onChange"),eb("onClose")})})();return}var e=s(el,50);f._debouncedChange=s(L,300),f.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&M(f.daysContainer,"mouseover",function(e){"range"===f.config.mode&&eo(m(e))}),M(f._input,"keydown",er),void 0!==f.calendarContainer&&M(f.calendarContainer,"keydown",er),!f.config.inline&&!f.config.static&&M(window,"resize",e),void 0!==window.ontouchstart?M(window.document,"touchstart",ee):M(window.document,"mousedown",ee),M(window.document,"focus",ee,{capture:!0}),!0===f.config.clickOpens&&(M(f._input,"focus",f.open),M(f._input,"click",f.open)),void 0!==f.daysContainer&&(M(f.monthNav,"click",eC),M(f.monthNav,["keyup","increment"],I),M(f.daysContainer,"click",em)),void 0!==f.timeContainer&&void 0!==f.minuteElement&&void 0!==f.hourElement&&(M(f.timeContainer,["increment"],B),M(f.timeContainer,"blur",B,{capture:!0}),M(f.timeContainer,"click",q),M([f.hourElement,f.minuteElement],["focus","click"],function(e){return m(e).select()}),void 0!==f.secondElement&&M(f.secondElement,"focus",function(){return f.secondElement&&f.secondElement.select()}),void 0!==f.amPM&&M(f.amPM,"click",function(e){B(e)})),f.config.allowInput&&M(f._input,"blur",ei)}(),(f.selectedDates.length||f.config.noCalendar)&&(f.config.enableTime&&O(f.config.noCalendar?f.latestSelectedDateObj:void 0),ew(!1)),D(),n=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),!f.isMobile&&n&&eu(),eb("onReady"),f}(y,t||{}),f.push(y._flatpickr)}catch(e){console.error(e)}}return 1===f.length?f[0]:f}"undefined"!=typeof HTMLElement&&"undefined"!=typeof HTMLCollection&&"undefined"!=typeof NodeList&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return D(this,e)},HTMLElement.prototype.flatpickr=function(e){return D([this],e)});var T=function(e,t){return"string"==typeof e?D(window.document.querySelectorAll(e),t):e instanceof Node?D([e],t):D(e,t)};T.defaultConfig={},T.l10ns={en:V({},r),default:V({},r)},T.localize=function(e){T.l10ns.default=V(V({},T.l10ns.default),e)},T.setDefaults=function(e){T.defaultConfig=V(V({},T.defaultConfig),e)},T.parseDate=E({}),T.formatDate=k({}),T.compareDates=A,"undefined"!=typeof jQuery&&void 0!==jQuery.fn&&(jQuery.fn.flatpickr=function(e){return D(this,e)}),Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof e?parseInt(e,10):e))},"undefined"!=typeof window&&(window.flatpickr=T);let B=T},1895:function(){"use strict";"function"!=typeof Object.assign&&(Object.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)throw TypeError("Cannot convert undefined or null to object");for(var a=function(t){t&&Object.keys(t).forEach(function(n){return e[n]=t[n]})},i=0;i<t.length;i++)a(t[i]);return e})},3379:function(e){"use strict";var t=[];function n(e){for(var n=-1,a=0;a<t.length;a++)if(t[a].identifier===e){n=a;break}return n}function a(e,a){for(var i={},r=[],o=0;o<e.length;o++){var l=e[o],s=a.base?l[0]+a.base:l[0],c=i[s]||0,d="".concat(s," ").concat(c);i[s]=c+1;var u=n(d),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==u)t[u].references++,t[u].updater(p);else{var _=function(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css!==e.css||t.media!==e.media||t.sourceMap!==e.sourceMap||t.supports!==e.supports||t.layer!==e.layer)n.update(e=t)}else n.remove()}}(p,a);a.byIndex=o,t.splice(o,0,{identifier:d,updater:_,references:1})}r.push(d)}return r}e.exports=function(e,i){var r=a(e=e||[],i=i||{});return function(e){e=e||[];for(var o=0;o<r.length;o++){var l=n(r[o]);t[l].references--}for(var s=a(e,i),c=0;c<r.length;c++){var d=n(r[c]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}r=s}}},569:function(e){"use strict";var t={};e.exports=function(e,n){var a=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!a)throw Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(n)}},9216:function(e){"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},3565:function(e,t,n){"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7795:function(e){"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){var a,i,r,o,l,s;a=t,i=e,o="",(r=n).supports&&(o+="@supports (".concat(r.supports,") {")),r.media&&(o+="@media ".concat(r.media," {")),(l=void 0!==r.layer)&&(o+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),o+=r.css,l&&(o+="}"),r.media&&(o+="}"),r.supports&&(o+="}"),(s=r.sourceMap)&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),i.styleTagTransform(o,a,i.options)},remove:function(){!function(e){if(null===e.parentNode)return;e.parentNode.removeChild(e)}(t)}}}},4589:function(e){"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},4790:function(e,t,n){var a,i;a=self,i=(e,t)=>(()=>{"use strict";var n={311:t=>{t.exports=e},976:e=>{e.exports=t}},a={};function i(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={exports:{}};return n[e](r,r.exports,i),r.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r={};return(()=>{i.d(r,{default:()=>_});var e=i(311),t=i.n(e);let n=["onChange","onClose","onDestroy","onMonthChange","onOpen","onYearChange"],a=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),o=e=>e instanceof Array?e:[e],l=e=>e&&e.length?e:null,s=e=>Object.assign({},e);var c=i(976);let d=n.concat(["onValueUpdate","onDayCreate","onParseConfig","onReady","onPreCalendarPosition","onKeyDown"]),u=["locale","showMonths"],p={name:"flat-pickr",compatConfig:{MODE:3},render(){return(0,c.h)("input",{type:"text","data-input":!0,disabled:this.disabled,onInput:this.onInput,ref:"root"})},emits:["blur","update:modelValue"].concat(d.map(a)),props:{modelValue:{default:null,required:!0,validator:e=>null===e||e instanceof Date||"string"==typeof e||e instanceof String||e instanceof Array||"number"==typeof e},config:{type:Object,default:()=>({wrap:!1,defaultDate:null})},events:{type:Array,default:()=>n},disabled:{type:Boolean,default:!1}},data:()=>({fp:null}),mounted(){var e=this;if(this.fp)return;let n=s(this.config);this.events.forEach(i=>{let r=t().defaultConfig[i]||[];n[i]=o(n[i]||[]).concat(r,function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];e.$emit(a(i),...n)})}),n.onClose=o(n.onClose||[]).concat(function(){e.onClose(...arguments)}),n.defaultDate=this.modelValue||n.defaultDate,this.fp=new(t())(this.getElem(),n),this.fpInput().addEventListener("blur",this.onBlur),this.$watch("disabled",this.watchDisabled,{immediate:!0})},methods:{getElem(){return this.config.wrap?this.$refs.root.parentNode:this.$refs.root},onInput(e){let t=e.target;(0,c.nextTick)().then(()=>{this.$emit("update:modelValue",l(t.value))})},fpInput(){return this.fp.altInput||this.fp.input},onBlur(e){this.$emit("blur",l(e.target.value))},onClose(e,t){this.$emit("update:modelValue",t)},watchDisabled(e){e?this.fpInput().setAttribute("disabled",e):this.fpInput().removeAttribute("disabled")}},watch:{config:{deep:!0,handler(e){if(!this.fp)return;let t=s(e);d.forEach(e=>{delete t[e]}),this.fp.set(t),u.forEach(e=>{void 0!==t[e]&&this.fp.set(e,t[e])})}},modelValue(e){this.$refs.root&&e!==l(this.$refs.root.value)&&this.fp&&this.fp.setDate(e,!0)}},beforeUnmount(){this.fp&&(this.fpInput().removeEventListener("blur",this.onBlur),this.fp.destroy(),this.fp=null)}};p.install=(e,t)=>{let n="flat-pickr";"string"==typeof t&&(n=t),e.component(n,p)};let _=p})(),r=r.default})(),e.exports=i(n(4845),n(6765))},3744:function(e,t){"use strict";t.default=(e,t)=>{let n=e.__vccOpts||e;for(let[e,a]of t)n[e]=a;return n}},9938:function(e,t,n){var a,i;a="undefined"!=typeof self&&self,i=function(e){return(()=>{var t={646:e=>{e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},713:e=>{e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},860:e=>{e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},206:e=>{e.exports=function(){throw TypeError("Invalid attempt to spread non-iterable instance")}},319:(e,t,n)=>{var a=n(646),i=n(860),r=n(206);e.exports=function(e){return a(e)||i(e)||r()}},8:e=>{function t(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=t=function(e){return typeof e}:e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(n)}e.exports=t},744:(e,t)=>{"use strict";t.Z=(e,t)=>{for(let[n,a]of t)e[n]=a;return e}},748:t=>{"use strict";t.exports=e}},n={};function a(e){var i=n[e];if(void 0!==i)return i.exports;var r=n[e]={exports:{}};return t[e](r,r.exports,a),r.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return(()=>{"use strict";a.r(i),a.d(i,{VueSelect:()=>L,default:()=>q,mixins:()=>j});var e=a(748),t=["dir"],n=["id","aria-expanded","aria-owns"],r={ref:"selectedOptions",class:"vs__selected-options"},o=["disabled","title","aria-label","onClick"],l={ref:"actions",class:"vs__actions"},s=["disabled"],c={class:"vs__spinner"},d=["id"],u=["id","aria-selected","onMouseover","onClick"],p={key:0,class:"vs__no-options"},_=(0,e.createTextVNode)(" Sorry, no matching options. "),m=["id"],f=a(319),h=a.n(f),g=a(8),b=a.n(g),y=a(713),k=a.n(y);let E={props:{autoscroll:{type:Boolean,default:!0}},watch:{typeAheadPointer:function(){this.autoscroll&&this.maybeAdjustScroll()},open:function(e){var t=this;this.autoscroll&&e&&this.$nextTick(function(){return t.maybeAdjustScroll()})}},methods:{maybeAdjustScroll:function(){var e,t=(null===(e=this.$refs.dropdownMenu)||void 0===e?void 0:e.children[this.typeAheadPointer])||!1;if(t){var n=this.getDropdownViewport(),a=t.getBoundingClientRect(),i=a.top,r=a.bottom,o=a.height;if(i<n.top)return this.$refs.dropdownMenu.scrollTop=t.offsetTop;if(r>n.bottom)return this.$refs.dropdownMenu.scrollTop=t.offsetTop-(n.height-o)}},getDropdownViewport:function(){return this.$refs.dropdownMenu?this.$refs.dropdownMenu.getBoundingClientRect():{height:0,top:0,bottom:0}}}},A={data:function(){return{typeAheadPointer:-1}},watch:{filteredOptions:function(){for(var e=0;e<this.filteredOptions.length;e++)if(this.selectable(this.filteredOptions[e])){this.typeAheadPointer=e;break}},open:function(e){e&&this.typeAheadToLastSelected()},selectedValue:function(){this.open&&this.typeAheadToLastSelected()}},methods:{typeAheadUp:function(){for(var e=this.typeAheadPointer-1;e>=0;e--)if(this.selectable(this.filteredOptions[e])){this.typeAheadPointer=e;break}},typeAheadDown:function(){for(var e=this.typeAheadPointer+1;e<this.filteredOptions.length;e++)if(this.selectable(this.filteredOptions[e])){this.typeAheadPointer=e;break}},typeAheadSelect:function(){var e=this.filteredOptions[this.typeAheadPointer];e&&this.selectable(e)&&this.select(e)},typeAheadToLastSelected:function(){this.typeAheadPointer=0!==this.selectedValue.length?this.filteredOptions.indexOf(this.selectedValue[this.selectedValue.length-1]):-1}}},w={props:{loading:{type:Boolean,default:!1}},data:function(){return{mutableLoading:!1}},watch:{search:function(){this.$emit("search",this.search,this.toggleLoading)},loading:function(e){this.mutableLoading=e}},methods:{toggleLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.mutableLoading=null==e?!this.mutableLoading:e}}};var C={xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10"},S=[(0,e.createElementVNode)("path",{d:"M6.895455 5l2.842897-2.842898c.348864-.348863.348864-.914488 0-1.263636L9.106534.261648c-.348864-.348864-.914489-.348864-1.263636 0L5 3.104545 2.157102.261648c-.348863-.348864-.914488-.348864-1.263636 0L.261648.893466c-.348864.348864-.348864.914489 0 1.263636L3.104545 5 .261648 7.842898c-.348864.348863-.348864.914488 0 1.263636l.631818.631818c.348864.348864.914773.348864 1.263636 0L5 6.895455l2.842898 2.842897c.348863.348864.914772.348864 1.263636 0l.631818-.631818c.348864-.348864.348864-.914489 0-1.263636L6.895455 5z"},null,-1)],N=a(744);let V=(0,N.Z)({},[["render",function(t,n){return(0,e.openBlock)(),(0,e.createElementBlock)("svg",C,S)}]]);var x={xmlns:"http://www.w3.org/2000/svg",width:"14",height:"10"},D=[(0,e.createElementVNode)("path",{d:"M9.211364 7.59931l4.48338-4.867229c.407008-.441854.407008-1.158247 0-1.60046l-.73712-.80023c-.407008-.441854-1.066904-.441854-1.474243 0L7 5.198617 2.51662.33139c-.407008-.441853-1.066904-.441853-1.474243 0l-.737121.80023c-.407008.441854-.407008 1.158248 0 1.600461l4.48338 4.867228L7 10l2.211364-2.40069z"},null,-1)];let T={Deselect:V,OpenIndicator:(0,N.Z)({},[["render",function(t,n){return(0,e.openBlock)(),(0,e.createElementBlock)("svg",x,D)}]])},B=function(e){var t={};return Object.keys(e).sort().forEach(function(n){t[n]=e[n]}),JSON.stringify(t)};var P=0;function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(t){k()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let I={components:R({},T),directives:{appendToBody:{mounted:function(e,t){var n=t.instance;if(n.appendToBody){var a=n.$refs.toggle.getBoundingClientRect(),i=a.height,r=a.top,o=a.left,l=a.width,s=window.scrollX||window.pageXOffset,c=window.scrollY||window.pageYOffset;e.unbindPosition=n.calculatePosition(e,n,{width:l+"px",left:s+o+"px",top:c+r+i+"px"}),document.body.appendChild(e)}},unmounted:function(e,t){t.instance.appendToBody&&(e.unbindPosition&&"function"==typeof e.unbindPosition&&e.unbindPosition(),e.parentNode&&e.parentNode.removeChild(e))}}},mixins:[E,A,w],emits:["open","close","update:modelValue","search","search:compositionstart","search:compositionend","search:keydown","search:blur","search:focus","search:input","option:created","option:selecting","option:selected","option:deselecting","option:deselected"],props:{modelValue:{},components:{type:Object,default:function(){return{}}},options:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},deselectFromDropdown:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},placeholder:{type:String,default:""},transition:{type:String,default:"vs__fade"},clearSearchOnSelect:{type:Boolean,default:!0},closeOnSelect:{type:Boolean,default:!0},label:{type:String,default:"label"},autocomplete:{type:String,default:"off"},reduce:{type:Function,default:function(e){return e}},selectable:{type:Function,default:function(e){return!0}},getOptionLabel:{type:Function,default:function(e){return"object"===b()(e)?e.hasOwnProperty(this.label)?e[this.label]:console.warn('[vue-select warn]: Label key "option.'.concat(this.label,'" does not')+" exist in options object ".concat(JSON.stringify(e),".\n")+"https://vue-select.org/api/props.html#getoptionlabel"):e}},getOptionKey:{type:Function,default:function(e){if("object"!==b()(e))return e;try{return e.hasOwnProperty("id")?e.id:B(e)}catch(t){return console.warn("[vue-select warn]: Could not stringify this option to generate unique key. Please provide'getOptionKey' prop to return a unique key for each option.\nhttps://vue-select.org/api/props.html#getoptionkey",e,t)}}},onTab:{type:Function,default:function(){this.selectOnTab&&!this.isComposing&&this.typeAheadSelect()}},taggable:{type:Boolean,default:!1},tabindex:{type:Number,default:null},pushTags:{type:Boolean,default:!1},filterable:{type:Boolean,default:!0},filterBy:{type:Function,default:function(e,t,n){return(t||"").toLocaleLowerCase().indexOf(n.toLocaleLowerCase())>-1}},filter:{type:Function,default:function(e,t){var n=this;return e.filter(function(e){var a=n.getOptionLabel(e);return"number"==typeof a&&(a=a.toString()),n.filterBy(e,a,t)})}},createOption:{type:Function,default:function(e){return"object"===b()(this.optionList[0])?k()({},this.label,e):e}},resetOnOptionsChange:{default:!1,validator:function(e){return["function","boolean"].includes(b()(e))}},clearSearchOnBlur:{type:Function,default:function(e){var t=e.clearSearchOnSelect,n=e.multiple;return t&&!n}},noDrop:{type:Boolean,default:!1},inputId:{type:String},dir:{type:String,default:"auto"},selectOnTab:{type:Boolean,default:!1},selectOnKeyCodes:{type:Array,default:function(){return[13]}},searchInputQuerySelector:{type:String,default:"[type=search]"},mapKeydown:{type:Function,default:function(e,t){return e}},appendToBody:{type:Boolean,default:!1},calculatePosition:{type:Function,default:function(e,t,n){var a=n.width,i=n.top,r=n.left;e.style.top=i,e.style.left=r,e.style.width=a}},dropdownShouldOpen:{type:Function,default:function(e){var t=e.noDrop,n=e.open,a=e.mutableLoading;return!t&&n&&!a}},uid:{type:[String,Number],default:function(){return++P}}},data:function(){return{search:"",open:!1,isComposing:!1,pushedTags:[],_value:[],deselectButtons:[]}},computed:{isReducingValues:function(){return this.$props.reduce!==this.$options.props.reduce.default},isTrackingValues:function(){return void 0===this.modelValue||this.isReducingValues},selectedValue:function(){var e=this.modelValue;return this.isTrackingValues&&(e=this.$data._value),null!=e?[].concat(e):[]},optionList:function(){return this.options.concat(this.pushTags?this.pushedTags:[])},searchEl:function(){return this.$slots.search?this.$refs.selectedOptions.querySelector(this.searchInputQuerySelector):this.$refs.search},scope:function(){var e=this,t={search:this.search,loading:this.loading,searching:this.searching,filteredOptions:this.filteredOptions};return{search:{attributes:R({disabled:this.disabled,placeholder:this.searchPlaceholder,tabindex:this.tabindex,readonly:!this.searchable,id:this.inputId,"aria-autocomplete":"list","aria-labelledby":"vs".concat(this.uid,"__combobox"),"aria-controls":"vs".concat(this.uid,"__listbox"),ref:"search",type:"search",autocomplete:this.autocomplete,value:this.search},this.dropdownOpen&&this.filteredOptions[this.typeAheadPointer]?{"aria-activedescendant":"vs".concat(this.uid,"__option-").concat(this.typeAheadPointer)}:{}),events:{compositionstart:function(){return e.isComposing=!0},compositionend:function(){return e.isComposing=!1},keydown:this.onSearchKeyDown,blur:this.onSearchBlur,focus:this.onSearchFocus,input:function(t){return e.search=t.target.value}}},spinner:{loading:this.mutableLoading},noOptions:{search:this.search,loading:this.mutableLoading,searching:this.searching},openIndicator:{attributes:{ref:"openIndicator",role:"presentation",class:"vs__open-indicator"}},listHeader:t,listFooter:t,header:R({},t,{deselect:this.deselect}),footer:R({},t,{deselect:this.deselect})}},childComponents:function(){return R({},T,{},this.components)},stateClasses:function(){return{"vs--open":this.dropdownOpen,"vs--single":!this.multiple,"vs--multiple":this.multiple,"vs--searching":this.searching&&!this.noDrop,"vs--searchable":this.searchable&&!this.noDrop,"vs--unsearchable":!this.searchable,"vs--loading":this.mutableLoading,"vs--disabled":this.disabled}},searching:function(){return!!this.search},dropdownOpen:function(){return this.dropdownShouldOpen(this)},searchPlaceholder:function(){return this.isValueEmpty&&this.placeholder?this.placeholder:void 0},filteredOptions:function(){var e=[].concat(this.optionList);if(!this.filterable&&!this.taggable)return e;var t=this.search.length?this.filter(e,this.search,this):e;if(this.taggable&&this.search.length){var n=this.createOption(this.search);this.optionExists(n)||t.unshift(n)}return t},isValueEmpty:function(){return 0===this.selectedValue.length},showClearButton:function(){return!this.multiple&&this.clearable&&!this.open&&!this.isValueEmpty}},watch:{options:function(e,t){!this.taggable&&("function"==typeof this.resetOnOptionsChange?this.resetOnOptionsChange(e,t,this.selectedValue):this.resetOnOptionsChange)&&this.clearSelection(),this.modelValue&&this.isTrackingValues&&this.setInternalValueFromOptions(this.modelValue)},modelValue:{immediate:!0,handler:function(e){this.isTrackingValues&&this.setInternalValueFromOptions(e)}},multiple:function(){this.clearSelection()},open:function(e){this.$emit(e?"open":"close")}},created:function(){this.mutableLoading=this.loading},methods:{setInternalValueFromOptions:function(e){var t=this;Array.isArray(e)?this.$data._value=e.map(function(e){return t.findOptionFromReducedValue(e)}):this.$data._value=this.findOptionFromReducedValue(e)},select:function(e){this.$emit("option:selecting",e),this.isOptionSelected(e)?this.deselectFromDropdown&&(this.clearable||this.multiple&&this.selectedValue.length>1)&&this.deselect(e):(this.taggable&&!this.optionExists(e)&&(this.$emit("option:created",e),this.pushTag(e)),this.multiple&&(e=this.selectedValue.concat(e)),this.updateValue(e),this.$emit("option:selected",e)),this.onAfterSelect(e)},deselect:function(e){var t=this;this.$emit("option:deselecting",e),this.updateValue(this.selectedValue.filter(function(n){return!t.optionComparator(n,e)})),this.$emit("option:deselected",e)},clearSelection:function(){this.updateValue(this.multiple?[]:null)},onAfterSelect:function(e){this.closeOnSelect&&(this.open=!this.open,this.searchEl.blur()),this.clearSearchOnSelect&&(this.search="")},updateValue:function(e){var t=this;void 0===this.modelValue&&(this.$data._value=e),null!==e&&(e=Array.isArray(e)?e.map(function(e){return t.reduce(e)}):this.reduce(e)),this.$emit("update:modelValue",e)},toggleDropdown:function(e){var t=e.target!==this.searchEl;t&&e.preventDefault();var n=[].concat(h()(this.deselectButtons||[]),h()([this.$refs.clearButton]));void 0===this.searchEl||n.filter(Boolean).some(function(t){return t.contains(e.target)||t===e.target})?e.preventDefault():this.open&&t?this.searchEl.blur():this.disabled||(this.open=!0,this.searchEl.focus())},isOptionSelected:function(e){var t=this;return this.selectedValue.some(function(n){return t.optionComparator(n,e)})},isOptionDeselectable:function(e){return this.isOptionSelected(e)&&this.deselectFromDropdown},optionComparator:function(e,t){return this.getOptionKey(e)===this.getOptionKey(t)},findOptionFromReducedValue:function(e){var t=this,n=[].concat(h()(this.options),h()(this.pushedTags)).filter(function(n){return JSON.stringify(t.reduce(n))===JSON.stringify(e)});return 1===n.length?n[0]:n.find(function(e){return t.optionComparator(e,t.$data._value)})||e},closeSearchOptions:function(){this.open=!1,this.$emit("search:blur")},maybeDeleteValue:function(){if(!this.searchEl.value.length&&this.selectedValue&&this.selectedValue.length&&this.clearable){var e=null;this.multiple&&(e=h()(this.selectedValue.slice(0,this.selectedValue.length-1))),this.updateValue(e)}},optionExists:function(e){var t=this;return this.optionList.some(function(n){return t.optionComparator(n,e)})},normalizeOptionForSlot:function(e){return"object"===b()(e)?e:k()({},this.label,e)},pushTag:function(e){this.pushedTags.push(e)},onEscape:function(){this.search.length?this.search="":this.searchEl.blur()},onSearchBlur:function(){if(!this.mousedown||this.searching){var e=this.clearSearchOnSelect,t=this.multiple;return this.clearSearchOnBlur({clearSearchOnSelect:e,multiple:t})&&(this.search=""),void this.closeSearchOptions()}this.mousedown=!1,0!==this.search.length||0!==this.options.length||this.closeSearchOptions()},onSearchFocus:function(){this.open=!0,this.$emit("search:focus")},onMousedown:function(){this.mousedown=!0},onMouseUp:function(){this.mousedown=!1},onSearchKeyDown:function(e){var t=this,n=function(e){return e.preventDefault(),!t.isComposing&&t.typeAheadSelect()},a={8:function(e){return t.maybeDeleteValue()},9:function(e){return t.onTab()},27:function(e){return t.onEscape()},38:function(e){return e.preventDefault(),t.typeAheadUp()},40:function(e){return e.preventDefault(),t.typeAheadDown()}};this.selectOnKeyCodes.forEach(function(e){return a[e]=n});var i=this.mapKeydown(a,this);if("function"==typeof i[e.keyCode])return i[e.keyCode](e)}}},M=(0,N.Z)(I,[["render",function(a,i,f,h,g,b){var y=(0,e.resolveDirective)("append-to-body");return(0,e.openBlock)(),(0,e.createElementBlock)("div",{dir:f.dir,class:(0,e.normalizeClass)(["v-select",b.stateClasses])},[(0,e.renderSlot)(a.$slots,"header",(0,e.normalizeProps)((0,e.guardReactiveProps)(b.scope.header))),(0,e.createElementVNode)("div",{id:"vs".concat(f.uid,"__combobox"),ref:"toggle",class:"vs__dropdown-toggle",role:"combobox","aria-expanded":b.dropdownOpen.toString(),"aria-owns":"vs".concat(f.uid,"__listbox"),"aria-label":"Search for option",onMousedown:i[1]||(i[1]=function(e){return b.toggleDropdown(e)})},[(0,e.createElementVNode)("div",r,[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(b.selectedValue,function(t,n){return(0,e.renderSlot)(a.$slots,"selected-option-container",{option:b.normalizeOptionForSlot(t),deselect:b.deselect,multiple:f.multiple,disabled:f.disabled},function(){return[((0,e.openBlock)(),(0,e.createElementBlock)("span",{key:f.getOptionKey(t),class:"vs__selected"},[(0,e.renderSlot)(a.$slots,"selected-option",(0,e.normalizeProps)((0,e.guardReactiveProps)(b.normalizeOptionForSlot(t))),function(){return[(0,e.createTextVNode)((0,e.toDisplayString)(f.getOptionLabel(t)),1)]}),f.multiple?((0,e.openBlock)(),(0,e.createElementBlock)("button",{key:0,ref:function(e){return g.deselectButtons[n]=e},disabled:f.disabled,type:"button",class:"vs__deselect",title:"Deselect ".concat(f.getOptionLabel(t)),"aria-label":"Deselect ".concat(f.getOptionLabel(t)),onClick:function(e){return b.deselect(t)}},[((0,e.openBlock)(),(0,e.createBlock)((0,e.resolveDynamicComponent)(b.childComponents.Deselect)))],8,o)):(0,e.createCommentVNode)("",!0)]))]})}),256)),(0,e.renderSlot)(a.$slots,"search",(0,e.normalizeProps)((0,e.guardReactiveProps)(b.scope.search)),function(){return[(0,e.createElementVNode)("input",(0,e.mergeProps)({class:"vs__search"},b.scope.search.attributes,(0,e.toHandlers)(b.scope.search.events)),null,16)]})],512),(0,e.createElementVNode)("div",l,[(0,e.withDirectives)((0,e.createElementVNode)("button",{ref:"clearButton",disabled:f.disabled,type:"button",class:"vs__clear",title:"Clear Selected","aria-label":"Clear Selected",onClick:i[0]||(i[0]=function(){return b.clearSelection&&b.clearSelection.apply(b,arguments)})},[((0,e.openBlock)(),(0,e.createBlock)((0,e.resolveDynamicComponent)(b.childComponents.Deselect)))],8,s),[[e.vShow,b.showClearButton]]),(0,e.renderSlot)(a.$slots,"open-indicator",(0,e.normalizeProps)((0,e.guardReactiveProps)(b.scope.openIndicator)),function(){return[f.noDrop?(0,e.createCommentVNode)("",!0):((0,e.openBlock)(),(0,e.createBlock)((0,e.resolveDynamicComponent)(b.childComponents.OpenIndicator),(0,e.normalizeProps)((0,e.mergeProps)({key:0},b.scope.openIndicator.attributes)),null,16))]}),(0,e.renderSlot)(a.$slots,"spinner",(0,e.normalizeProps)((0,e.guardReactiveProps)(b.scope.spinner)),function(){return[(0,e.withDirectives)((0,e.createElementVNode)("div",c,"Loading...",512),[[e.vShow,a.mutableLoading]])]})],512)],40,n),(0,e.createVNode)(e.Transition,{name:f.transition},{default:(0,e.withCtx)(function(){return[b.dropdownOpen?(0,e.withDirectives)(((0,e.openBlock)(),(0,e.createElementBlock)("ul",{id:"vs".concat(f.uid,"__listbox"),ref:"dropdownMenu",key:"vs".concat(f.uid,"__listbox"),class:"vs__dropdown-menu",role:"listbox",tabindex:"-1",onMousedown:i[2]||(i[2]=(0,e.withModifiers)(function(){return b.onMousedown&&b.onMousedown.apply(b,arguments)},["prevent"])),onMouseup:i[3]||(i[3]=function(){return b.onMouseUp&&b.onMouseUp.apply(b,arguments)})},[(0,e.renderSlot)(a.$slots,"list-header",(0,e.normalizeProps)((0,e.guardReactiveProps)(b.scope.listHeader))),((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(b.filteredOptions,function(t,n){return(0,e.openBlock)(),(0,e.createElementBlock)("li",{id:"vs".concat(f.uid,"__option-").concat(n),key:f.getOptionKey(t),role:"option",class:(0,e.normalizeClass)(["vs__dropdown-option",{"vs__dropdown-option--deselect":b.isOptionDeselectable(t)&&n===a.typeAheadPointer,"vs__dropdown-option--selected":b.isOptionSelected(t),"vs__dropdown-option--highlight":n===a.typeAheadPointer,"vs__dropdown-option--disabled":!f.selectable(t)}]),"aria-selected":n===a.typeAheadPointer||null,onMouseover:function(e){return f.selectable(t)?a.typeAheadPointer=n:null},onClick:(0,e.withModifiers)(function(e){return f.selectable(t)?b.select(t):null},["prevent","stop"])},[(0,e.renderSlot)(a.$slots,"option",(0,e.normalizeProps)((0,e.guardReactiveProps)(b.normalizeOptionForSlot(t))),function(){return[(0,e.createTextVNode)((0,e.toDisplayString)(f.getOptionLabel(t)),1)]})],42,u)}),128)),0===b.filteredOptions.length?((0,e.openBlock)(),(0,e.createElementBlock)("li",p,[(0,e.renderSlot)(a.$slots,"no-options",(0,e.normalizeProps)((0,e.guardReactiveProps)(b.scope.noOptions)),function(){return[_]})])):(0,e.createCommentVNode)("",!0),(0,e.renderSlot)(a.$slots,"list-footer",(0,e.normalizeProps)((0,e.guardReactiveProps)(b.scope.listFooter)))],40,d)),[[y]]):((0,e.openBlock)(),(0,e.createElementBlock)("ul",{key:1,id:"vs".concat(f.uid,"__listbox"),role:"listbox",style:{display:"none",visibility:"hidden"}},null,8,m))]}),_:3},8,["name"]),(0,e.renderSlot)(a.$slots,"footer",(0,e.normalizeProps)((0,e.guardReactiveProps)(b.scope.footer)))],10,t)}]]),L=M,j={ajax:w,pointer:A,pointerScroll:E},q=M})(),i})()},e.exports=i(n(6765))},4812:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(493),i=n(1196),r=n(3577),o=function(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(n){t[n]=e[n]}),t.default=e,Object.freeze(t)}(i);let l=Object.create(null);function s(e,t){if(!r.isString(e)){if(!e.nodeType)return r.NOOP;e=e.innerHTML}let n=e,i=l[n];if(i)return i;if("#"===e[0]){let t=document.querySelector(e);e=t?t.innerHTML:""}let s=r.extend({hoistStatic:!0,onError:void 0,onWarn:r.NOOP},t);!s.isCustomElement&&"undefined"!=typeof customElements&&(s.isCustomElement=e=>!!customElements.get(e));let{code:c}=a.compile(e,s),d=Function("Vue",c)(o);return d._rc=!0,l[n]=d}i.registerRuntimeCompiler(s),Object.keys(i).forEach(function(e){"default"!==e&&(t[e]=i[e])}),t.compile=s},6765:function(e,t,n){"use strict";e.exports=n(4812)}},t={};function n(a){var i=t[a];if(void 0!==i)return i.exports;var r=t[a]={id:a,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nc=void 0,n.rv=function(){return"1.0.1"},n.ruid="bundler=rspack@1.0.1";(()=>{"use strict";let e,t,a,i,r;var o,l,s,c,d,u,p,_,m,f,h,g,b,y=n("1196");let k="undefined"!=typeof window;function E(e){return e.__esModule||"Module"===e[Symbol.toStringTag]}let A=Object.assign;function w(e,t){let n={};for(let a in t){let i=t[a];n[a]=S(i)?i.map(e):e(i)}return n}let C=()=>{},S=Array.isArray;function N(e){let t=Array.from(arguments).slice(1);console.warn.apply(console,["[Vue Router warn]: "+e].concat(t))}let V=/\/$/,x=e=>e.replace(V,"");function D(e,t,n="/"){let a,i={},r="",o="",l=t.indexOf("#"),s=t.indexOf("?");return l<s&&l>=0&&(s=-1),s>-1&&(a=t.slice(0,s),i=e(r=t.slice(s+1,l>-1?l:t.length))),l>-1&&(a=a||t.slice(0,l),o=t.slice(l,t.length)),{fullPath:(a=function(e,t){let n,a;if(e.startsWith("/"))return e;if(!e)return t;let i=t.split("/"),r=e.split("/"),o=i.length-1;for(n=0;n<r.length;n++)if("."!==(a=r[n])){if(".."===a)o>1&&o--;else break}return i.slice(0,o).join("/")+"/"+r.slice(n-(n===r.length?1:0)).join("/")}(null!=a?a:t,n))+(r&&"?")+r+o,path:a,query:i,hash:o}}function T(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function B(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function P(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e)if(!function(e,t){return S(e)?O(e,t):S(t)?O(t,e):e===t}(e[n],t[n]))return!1;return!0}function O(e,t){return S(t)?e.length===t.length&&e.every((e,n)=>e===t[n]):1===e.length&&e[0]===t}!function(e){e.pop="pop",e.push="push"}(o||(o={})),!function(e){e.back="back",e.forward="forward",e.unknown=""}(l||(l={}));function R(e){if(!e){if(k){let t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else e="/"}return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),x(e)}let I=/^[^#]+#/;function M(e,t){return e.replace(I,"#")+t}let L=()=>({left:window.pageXOffset,top:window.pageYOffset});function j(e,t){return(history.state?history.state.position-t:-1)+e}let q=new Map,F=()=>location.protocol+"//"+location.host;function U(e,t){let{pathname:n,search:a,hash:i}=t,r=e.indexOf("#");if(r>-1){let t=i.includes(e.slice(r))?e.slice(r).length:1,n=i.slice(t);return"/"!==n[0]&&(n="/"+n),T(n,"")}return T(n,e)+a+i}function z(e,t,n,a=!1,i=!1){return{back:e,current:t,forward:n,replaced:a,position:window.history.length,scroll:i?L():null}}function H(e){let t=function(e){let{history:t,location:n}=window,a={value:U(e,n)},i={value:t.state};function r(a,r,o){let l=e.indexOf("#"),s=l>-1?(n.host&&document.querySelector("base")?e:e.slice(l))+a:F()+e+a;try{t[o?"replaceState":"pushState"](r,"",s),i.value=r}catch(e){console.error(e),n[o?"replace":"assign"](s)}}return!i.value&&r(a.value,{back:null,current:a.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:a,state:i,push:function(e,n){let o=A({},i.value,t.state,{forward:e,scroll:L()});r(o.current,o,!0);let l=A({},z(a.value,e,null),{position:o.position+1},n);r(e,l,!1),a.value=e},replace:function(e,n){let o=A({},t.state,z(i.value.back,e,i.value.forward,!0),n,{position:i.value.position});r(e,o,!0),a.value=e}}}(e=R(e)),n=function(e,t,n,a){let i=[],r=[],s=null,c=({state:r})=>{let c=U(e,location),d=n.value,u=t.value,p=0;if(r){if(n.value=c,t.value=r,s&&s===d){s=null;return}p=u?r.position-u.position:0}else a(c);i.forEach(e=>{e(n.value,d,{delta:p,type:o.pop,direction:p?p>0?l.forward:l.back:l.unknown})})};function d(){let{history:e}=window;e.state&&e.replaceState(A({},e.state,{scroll:L()}),"")}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",d),{pauseListeners:function(){s=n.value},listen:function(e){i.push(e);let t=()=>{let t=i.indexOf(e);t>-1&&i.splice(t,1)};return r.push(t),t},destroy:function(){for(let e of r)e();r=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",d)}}}(e,t.state,t.location,t.replace),a=A({location:"",base:e,go:function(e,t=!0){!t&&n.pauseListeners(),history.go(e)},createHref:M.bind(null,e)},t,n);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>t.state.value}),a}function Y(e){return"string"==typeof e||"symbol"==typeof e}let J={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},K=Symbol("");function Z(e,t){return A(Error(),{type:e,[K]:!0},t)}function W(e,t){return e instanceof Error&&K in e&&(null==t||!!(e.type&t))}!function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"}(s||(s={}));let G="[^/]+?",Q={sensitive:!1,strict:!1,start:!0,end:!0},X=/[.+*?^${}()[\]/\\]/g;function ee(e){let t=e[e.length-1];return e.length>0&&t[t.length-1]<0}let et={type:0,value:""},en=/[a-zA-Z0-9_]/;function ea(e,t){let n={};for(let a of t)a in e&&(n[a]=e[a]);return n}function ei(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function er(e,t){let n={};for(let a in e)n[a]=a in t?t[a]:e[a];return n}function eo(e,t){return e.name===t.name&&e.optional===t.optional&&e.repeatable===t.repeatable}let el=/#/g,es=/&/g,ec=/\//g,ed=/=/g,eu=/\?/g,ep=/\+/g,e_=/%5B/g,em=/%5D/g,ef=/%5E/g,eh=/%60/g,eg=/%7B/g,ev=/%7C/g,eb=/%7D/g,ey=/%20/g;function ek(e){return encodeURI(""+e).replace(ev,"|").replace(e_,"[").replace(em,"]")}function eE(e){return ek(e).replace(ep,"%2B").replace(ey,"+").replace(el,"%23").replace(es,"%26").replace(eh,"`").replace(eg,"{").replace(eb,"}").replace(ef,"^")}function eA(e){return null==e?"":ek(e).replace(el,"%23").replace(eu,"%3F").replace(ec,"%2F")}function ew(e){try{return decodeURIComponent(""+e)}catch(e){}return""+e}function eC(e){let t={};if(""===e||"?"===e)return t;let n=("?"===e[0]?e.slice(1):e).split("&");for(let e=0;e<n.length;++e){let a=n[e].replace(ep," "),i=a.indexOf("="),r=ew(i<0?a:a.slice(0,i)),o=i<0?null:ew(a.slice(i+1));if(r in t){let e=t[r];!S(e)&&(e=t[r]=[e]),e.push(o)}else t[r]=o}return t}function eS(e){let t="";for(let n in e){let a=e[n];if(n=eE(n).replace(ed,"%3D"),null==a){void 0!==a&&(t+=(t.length?"&":"")+n);continue}(S(a)?a.map(e=>e&&eE(e)):[a&&eE(a)]).forEach(e=>{void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))})}return t}let eN=Symbol(""),eV=Symbol(""),ex=Symbol(""),e$=Symbol(""),eD=Symbol("");function eT(){let e=[];return{add:function(t){return e.push(t),()=>{let n=e.indexOf(t);n>-1&&e.splice(n,1)}},list:()=>e,reset:function(){e=[]}}}function eB(e,t,n){let a=()=>{e[t].delete(n)};onUnmounted(a),onDeactivated(a),onActivated(()=>{e[t].add(n)}),e[t].add(n)}function eP(e,t,n,a,i){let r=a&&(a.enterCallbacks[i]=a.enterCallbacks[i]||[]);return()=>new Promise((o,l)=>{let s=e=>{if(!1===e)l(Z(4,{from:n,to:t}));else if(e instanceof Error)l(e);else{var s;if("string"==typeof(s=e)||s&&"object"==typeof s)l(Z(2,{from:t,to:e}));else r&&a.enterCallbacks[i]===r&&"function"==typeof e&&r.push(e),o()}},c=Promise.resolve(e.call(a&&a.instances[i],t,n,s));e.length<3&&(c=c.then(s));c.catch(e=>l(e))})}function eO(e,t,n,a){let i=[];for(let r of e)for(let e in r.components){let o=r.components[e];if("beforeRouteEnter"===t||r.instances[e]){if(function(e){return"object"==typeof e||"displayName"in e||"props"in e||"__vccOpts"in e}(o)){let l=(o.__vccOpts||o)[t];l&&i.push(eP(l,n,a,r,e))}else{let l=o();i.push(()=>l.then(i=>{if(!i)return Promise.reject(Error(`Couldn't resolve component "${e}" at "${r.path}"`));let o=E(i)?i.default:i;r.components[e]=o;let l=(o.__vccOpts||o)[t];return l&&eP(l,n,a,r,e)()}))}}}return i}function eR(e){let t=(0,y.inject)(ex),n=(0,y.inject)(e$),a=(0,y.computed)(()=>t.resolve((0,y.unref)(e.to))),i=(0,y.computed)(()=>{let{matched:e}=a.value,{length:t}=e,i=e[t-1],r=n.matched;if(!i||!r.length)return -1;let o=r.findIndex(B.bind(null,i));if(o>-1)return o;let l=eM(e[t-2]);return t>1&&eM(i)===l&&r[r.length-1].path!==l?r.findIndex(B.bind(null,e[t-2])):o}),r=(0,y.computed)(()=>i.value>-1&&function(e,t){for(let n in t){let a=t[n],i=e[n];if("string"==typeof a){if(a!==i)return!1}else if(!S(i)||i.length!==a.length||a.some((e,t)=>e!==i[t]))return!1}return!0}(n.params,a.value.params)),o=(0,y.computed)(()=>i.value>-1&&i.value===n.matched.length-1&&P(n.params,a.value.params));return{route:a,href:(0,y.computed)(()=>a.value.href),isActive:r,isExactActive:o,navigate:function(n={}){return function(e){if(!e.metaKey&&!e.altKey&&!e.ctrlKey&&!e.shiftKey&&!e.defaultPrevented){if(void 0===e.button||0===e.button){if(e.currentTarget&&e.currentTarget.getAttribute){let t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}}(n)?t[(0,y.unref)(e.replace)?"replace":"push"]((0,y.unref)(e.to)).catch(C):Promise.resolve()}}}let eI=(0,y.defineComponent)({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:eR,setup(e,{slots:t}){let n=(0,y.reactive)(eR(e)),{options:a}=(0,y.inject)(ex),i=(0,y.computed)(()=>({[eL(e.activeClass,a.linkActiveClass,"router-link-active")]:n.isActive,[eL(e.exactActiveClass,a.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{let a=t.default&&t.default(n);return e.custom?a:(0,y.h)("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},a)}}});function eM(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}let eL=(e,t,n)=>null!=e?e:null!=t?t:n,ej=(0,y.defineComponent)({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){let a=(0,y.inject)(eD),i=(0,y.computed)(()=>e.route||a.value),r=(0,y.inject)(eV,0),o=(0,y.computed)(()=>{let e,t=(0,y.unref)(r),{matched:n}=i.value;for(;(e=n[t])&&!e.components;)t++;return t}),l=(0,y.computed)(()=>i.value.matched[o.value]);(0,y.provide)(eV,(0,y.computed)(()=>o.value+1)),(0,y.provide)(eN,l),(0,y.provide)(eD,i);let s=(0,y.ref)();return(0,y.watch)(()=>[s.value,l.value,e.name],([e,t,n],[a,i,r])=>{t&&(t.instances[n]=e,i&&i!==t&&e&&e===a&&(!t.leaveGuards.size&&(t.leaveGuards=i.leaveGuards),!t.updateGuards.size&&(t.updateGuards=i.updateGuards))),e&&t&&(!i||!B(t,i)||!a)&&(t.enterCallbacks[n]||[]).forEach(t=>t(e))},{flush:"post"}),()=>{let a=i.value,r=e.name,o=l.value,c=o&&o.components[r];if(!c)return eq(n.default,{Component:c,route:a});let d=o.props[r],u=d?!0===d?a.params:"function"==typeof d?d(a):d:null,p=(0,y.h)(c,A({},u,t,{onVnodeUnmounted:e=>{e.component.isUnmounted&&(o.instances[r]=null)},ref:s}));return eq(n.default,{Component:p,route:a})||p}}});function eq(e,t){if(!e)return null;let n=e(t);return 1===n.length?n[0]:n}function eF(e,t){let n=A({},e,{matched:e.matched.map(e=>(function(e,t){let n={};for(let a in e)!t.includes(a)&&(n[a]=e[a]);return n})(e,["instances","children","aliasOf"]))});return{_custom:{type:null,readOnly:!0,display:e.fullPath,tooltip:t,value:n}}}function eU(e){return{_custom:{display:e}}}let ez=0,eH=15485081,eY=2450411,eJ=8702998,eK=16486972;function eZ(e){let t=[],{record:n}=e;null!=n.name&&t.push({label:String(n.name),textColor:0,backgroundColor:2282478}),n.aliasOf&&t.push({label:"alias",textColor:0,backgroundColor:eK}),e.__vd_match&&t.push({label:"matches",textColor:0,backgroundColor:eH}),e.__vd_exactActive&&t.push({label:"exact",textColor:0,backgroundColor:eJ}),e.__vd_active&&t.push({label:"active",textColor:0,backgroundColor:eY}),n.redirect&&t.push({label:"string"==typeof n.redirect?`redirect: ${n.redirect}`:"redirects",textColor:16777215,backgroundColor:6710886});let a=n.__vd_id;return null==a&&(a=String(eW++),n.__vd_id=a),{id:a,label:n.path,tags:t,children:e.children.map(eZ)}}let eW=0,eG=/^\/(.*)\/([a-z]*)$/;function eQ(e){e.__vd_match=!1,e.children.forEach(eQ)}function eX(e){return e.reduce((e,t)=>e.then(()=>t()),Promise.resolve())}function e0(e,t,n){return Array.isArray(e)?(e.length=Math.max(e.length,t),e.splice(t,1,n),n):(e[t]=n,n)}function e1(){return"undefined"!=typeof navigator&&"undefined"!=typeof window?window:void 0!==n.g?n.g:{}}let e2="function"==typeof Proxy;class e3{constructor(a,i){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=a,this.hook=i;let r={};if(a.settings)for(let e in a.settings){let t=a.settings[e];r[e]=t.defaultValue}let o=`__vue-devtools-plugin-settings__${a.id}`,l=Object.assign({},r);try{let e=localStorage.getItem(o),t=JSON.parse(e);Object.assign(l,t)}catch(e){}this.fallbacks={getSettings:()=>l,setSettings(e){try{localStorage.setItem(o,JSON.stringify(e))}catch(e){}l=e},now:()=>(function(){var a;return(void 0!==e?e:("undefined"!=typeof window&&window.performance?(e=!0,t=window.performance):void 0!==n.g&&(null===(a=n.g.perf_hooks)||void 0===a?void 0:a.performance)?(e=!0,t=n.g.perf_hooks.performance):e=!1,e))?t.now():Date.now()})()},i&&i.on("plugin:settings:set",(e,t)=>{e===this.plugin.id&&this.fallbacks.setSettings(t)}),this.proxiedOn=new Proxy({},{get:(e,t)=>this.target?this.target.on[t]:(...e)=>{this.onQueue.push({method:t,args:e})}}),this.proxiedTarget=new Proxy({},{get:(e,t)=>{if(this.target)return this.target[t];if("on"===t)return this.proxiedOn;if(Object.keys(this.fallbacks).includes(t))return(...e)=>(this.targetQueue.push({method:t,args:e,resolve:()=>{}}),this.fallbacks[t](...e));else return(...e)=>new Promise(n=>{this.targetQueue.push({method:t,args:e,resolve:n})})}})}async setRealTarget(e){for(let t of(this.target=e,this.onQueue))this.target.on[t.method](...t.args);for(let e of this.targetQueue)e.resolve(await this.target[e.method](...e.args))}}function e4(e,t){let n=e1(),a=e1().__VUE_DEVTOOLS_GLOBAL_HOOK__,i=e2&&e.enableEarlyProxy;if(a&&(n.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!i))a.emit("devtools-plugin:setup",e,t);else{let r=i?new e3(e,a):null;(n.__VUE_DEVTOOLS_PLUGINS__=n.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:e,setupFn:t,proxy:r}),r&&t(r.proxiedTarget)}}let e5=e=>a=e,e8=Symbol();function e6(e){return e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)&&"function"!=typeof e.toJSON}!function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"}(c||(c={}));let e7="undefined"!=typeof window,e9="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:"object"==typeof globalThis?globalThis:{HTMLElement:null};function te(e,t,n){let a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){tr(a.response,t,n)},a.onerror=function(){console.error("could not download file")},a.send()}function tt(e){let t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return t.status>=200&&t.status<=299}function tn(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){let t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}let ta="object"==typeof navigator?navigator:{userAgent:""},ti=/Macintosh/.test(ta.userAgent)&&/AppleWebKit/.test(ta.userAgent)&&!/Safari/.test(ta.userAgent),tr=e7?"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype&&!ti?function(e,t="download",n){let a=document.createElement("a");a.download=t,a.rel="noopener","string"==typeof e?(a.href=e,a.origin!==location.origin?tt(a.href)?te(e,t,n):(a.target="_blank",tn(a)):tn(a)):(a.href=URL.createObjectURL(e),setTimeout(function(){URL.revokeObjectURL(a.href)},4e4),setTimeout(function(){tn(a)},0))}:"msSaveOrOpenBlob"in ta?function(e,t="download",n){if("string"==typeof e){if(tt(e))te(e,t,n);else{let t=document.createElement("a");t.href=e,t.target="_blank",setTimeout(function(){tn(t)})}}else navigator.msSaveOrOpenBlob(function(e,{autoBom:t=!1}={}){return t&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,n),t)}:function(e,t,n,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof e)return te(e,t,n);let i="application/octet-stream"===e.type,r=/constructor/i.test(String(e9.HTMLElement))||"safari"in e9,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&r||ti)&&"undefined"!=typeof FileReader){let t=new FileReader;t.onloadend=function(){let e=t.result;if("string"!=typeof e)throw a=null,Error("Wrong reader.result type");e=o?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=e:location.assign(e),a=null},t.readAsDataURL(e)}else{let t=URL.createObjectURL(e);a?a.location.assign(t):location.href=t,a=null,setTimeout(function(){URL.revokeObjectURL(t)},4e4)}}:()=>{};function to(e,t){let n="\uD83C\uDF4D "+e;"function"==typeof __VUE_DEVTOOLS_TOAST__?__VUE_DEVTOOLS_TOAST__(n,t):"error"===t?console.error(n):"warn"===t?console.warn(n):console.log(n)}function tl(e){return"_a"in e&&"install"in e}function ts(){if(!("clipboard"in navigator))return to("Your browser doesn't support the Clipboard API","error"),!0}function tc(e){return!!(e instanceof Error&&e.message.toLowerCase().includes("document is not focused"))&&(to('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0)}async function td(e){if(!ts())try{await navigator.clipboard.writeText(JSON.stringify(e.state.value)),to("Global state copied to clipboard.")}catch(e){if(tc(e))return;to("Failed to serialize the state. Check the console for more details.","error"),console.error(e)}}async function tu(e){if(!ts())try{e.state.value=JSON.parse(await navigator.clipboard.readText()),to("Global state pasted from clipboard.")}catch(e){if(tc(e))return;to("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(e)}}async function tp(e){try{tr(new Blob([JSON.stringify(e.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(e){to("Failed to export the state as JSON. Check the console for more details.","error"),console.error(e)}}async function t_(e){try{let t=await (!i&&((i=document.createElement("input")).type="file",i.accept=".json"),function(){return new Promise((e,t)=>{i.onchange=async()=>{let t=i.files;if(!t)return e(null);let n=t.item(0);return n?e({text:await n.text(),file:n}):e(null)},i.oncancel=()=>e(null),i.onerror=t,i.click()})}),n=await t();if(!n)return;let{text:a,file:r}=n;e.state.value=JSON.parse(a),to(`Global state imported from "${r.name}".`)}catch(e){to("Failed to export the state as JSON. Check the console for more details.","error"),console.error(e)}}function tm(e){return{_custom:{display:e}}}let tf="\uD83C\uDF4D Pinia (root)",th="_root";function tg(e){return tl(e)?{id:th,label:tf}:{id:e.$id,label:e.$id}}let tv=!0,tb=[],ty="pinia:mutations",tk="pinia",tE=e=>"\uD83C\uDF4D "+e,tA=0;function tw(e,t){let n=t.reduce((t,n)=>(t[n]=(0,y.toRaw)(e)[n],t),{});for(let t in n)e[t]=function(){let a=tA,i=new Proxy(e,{get:(...e)=>(r=a,Reflect.get(...e)),set:(...e)=>(r=a,Reflect.set(...e))});return n[t].apply(i,arguments)}}function tC({app:e,store:t,options:n}){var a,i;if(!t.$id.startsWith("__hot:")){if(n.state&&(t._isOptionsAPI=!0),"function"==typeof n.state){tw(t,Object.keys(n.actions));let e=t._hotUpdate;(0,y.toRaw)(t)._hotUpdate=function(n){e.apply(this,arguments),tw(t,Object.keys(n._hmrPayload.actions))}}a=e,i=t,tb.includes(tE(i.$id))||tb.push(tE(i.$id)),e4({id:"dev.esm.pinia",label:"Pinia \uD83C\uDF4D",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:tb,app:a,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},e=>{let t="function"==typeof e.now?e.now.bind(e):Date.now;i.$onAction(({after:n,onError:a,name:o,args:l})=>{let s=tA++;e.addTimelineEvent({layerId:ty,event:{time:t(),title:"\uD83D\uDEEB "+o,subtitle:"start",data:{store:tm(i.$id),action:tm(o),args:l},groupId:s}}),n(n=>{r=void 0,e.addTimelineEvent({layerId:ty,event:{time:t(),title:"\uD83D\uDEEC "+o,subtitle:"end",data:{store:tm(i.$id),action:tm(o),args:l,result:n},groupId:s}})}),a(n=>{r=void 0,e.addTimelineEvent({layerId:ty,event:{time:t(),logType:"error",title:"\uD83D\uDCA5 "+o,subtitle:"end",data:{store:tm(i.$id),action:tm(o),args:l,error:n},groupId:s}})})},!0),i._customProperties.forEach(n=>{(0,y.watch)(()=>(0,y.unref)(i[n]),(a,i)=>{e.notifyComponentUpdate(),e.sendInspectorState(tk),tv&&e.addTimelineEvent({layerId:ty,event:{time:t(),title:"Change",subtitle:n,data:{newValue:a,oldValue:i},groupId:r}})},{deep:!0})}),i.$subscribe(({events:n,type:a},o)=>{var l;if(e.notifyComponentUpdate(),e.sendInspectorState(tk),!tv)return;let s={time:t(),title:function(e){switch(e){case c.direct:return"mutation";case c.patchFunction:case c.patchObject:return"$patch";default:return"unknown"}}(a),data:{store:tm(i.$id),...(l=n)?Array.isArray(l)?l.reduce((e,t)=>(e.keys.push(t.key),e.operations.push(t.type),e.oldValue[t.key]=t.oldValue,e.newValue[t.key]=t.newValue,e),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:tm(l.type),key:tm(l.key),oldValue:l.oldValue,newValue:l.newValue}:{}},groupId:r};r=void 0,a===c.patchFunction?s.subtitle="":a===c.patchObject?s.subtitle="\uD83E\uDDE9":n&&!Array.isArray(n)&&(s.subtitle=n.type),n&&(s.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:n}}),e.addTimelineEvent({layerId:ty,event:s})},{detached:!0,flush:"sync"});let n=i._hotUpdate;i._hotUpdate=(0,y.markRaw)(a=>{n(a),e.addTimelineEvent({layerId:ty,event:{time:t(),title:"\uD83D\uDD25 "+i.$id,subtitle:"HMR update",data:{store:tm(i.$id),info:tm("HMR update")}}}),e.notifyComponentUpdate(),e.sendInspectorTree(tk),e.sendInspectorState(tk)});let{$dispose:a}=i;i.$dispose=()=>{a(),e.notifyComponentUpdate(),e.sendInspectorTree(tk),e.sendInspectorState(tk),e.getSettings().logStoreChanges&&to(`Disposed "${i.$id}" store `)},e.notifyComponentUpdate(),e.sendInspectorTree(tk),e.sendInspectorState(tk),e.getSettings().logStoreChanges&&to(`"${i.$id}" store installed `)})}}let tS=()=>{};function tN(e,t,n,a=tS){e.push(t);let i=()=>{let n=e.indexOf(t);n>-1&&(e.splice(n,1),a())};return!n&&(0,y.getCurrentInstance)()&&(0,y.onUnmounted)(i),i}function tV(e,...t){e.slice().forEach(e=>{e(...t)})}function tx(e,t){for(let n in e instanceof Map&&t instanceof Map&&t.forEach((t,n)=>e.set(n,t)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e),t){if(!t.hasOwnProperty(n))continue;let a=t[n],i=e[n];e6(i)&&e6(a)&&e.hasOwnProperty(n)&&!(0,y.isRef)(a)&&!(0,y.isReactive)(a)?e[n]=tx(i,a):e[n]=a}return e}let t$=Symbol(),tD=new WeakMap,{assign:tT}=Object;function tB(e,t,n={},a,i,r){var o,l,s;let d,u,p,_,m;let f=tT({actions:{}},n),h={deep:!0},g=(0,y.markRaw)([]),b=(0,y.markRaw)([]),k=a.state.value[e];!r&&!k&&(a.state.value[e]={});let E=(0,y.ref)({});function A(t){let n;u=p=!1;"function"==typeof t?(t(a.state.value[e]),n={type:c.patchFunction,storeId:e,events:_}):(tx(a.state.value[e],t),n={type:c.patchObject,payload:t,storeId:e,events:_});let i=m=Symbol();(0,y.nextTick)().then(()=>{m===i&&(u=!0)}),p=!0,tV(g,n,a.state.value[e])}let w=(0,y.markRaw)({actions:{},getters:{},state:[],hotState:E}),C={_p:a,$id:e,$onAction:tN.bind(null,b),$patch:A,$reset:tS,$subscribe(t,n={}){let i=tN(g,t,n.detached,()=>r()),r=d.run(()=>(0,y.watch)(()=>a.state.value[e],a=>{("sync"===n.flush?p:u)&&t({storeId:e,type:c.direct,events:_},a)},tT({},h,n)));return i},$dispose:function(){d.stop(),g=[],b=[],a._s.delete(e)}},S=(0,y.reactive)(C);a._s.set(e,S);let N=a._e.run(()=>(d=(0,y.effectScope)()).run(()=>t()));for(let t in N){;let n=N[t];if((0,y.isRef)(n)&&(o=n,!(0,y.isRef)(o)||!o.effect)||(0,y.isReactive)(n)){if(!r){;if(k&&(l=n,!e6(l)||!l.hasOwnProperty(t$)))(0,y.isRef)(n)?n.value=k[t]:tx(n,k[t]);a.state.value[e][t]=n}}else if("function"==typeof n){let i=function(t,n){return function(){let i;e5(a);let r=Array.from(arguments),o=[],l=[];tV(b,{args:r,name:t,store:S,after:function(e){o.push(e)},onError:function(e){l.push(e)}});try{i=n.apply(this&&this.$id===e?this:S,r)}catch(e){throw tV(l,e),e}return i instanceof Promise?i.then(e=>(tV(o,e),e)).catch(e=>(tV(l,e),Promise.reject(e))):(tV(o,i),i)}}(t,n);N[t]=i;f.actions[t]=n}}tT(S,N),tT((0,y.toRaw)(S),N),Object.defineProperty(S,"$state",{get:()=>a.state.value[e],set:e=>{A(t=>{tT(t,e)})}});return a._p.forEach(e=>{var t;tT(S,d.run(()=>e({store:S,app:a._a,pinia:a,options:f})))}),k&&r&&n.hydrate&&n.hydrate(S.$state,k),u=!0,p=!0,S}function tP(e,t,n){let i,r;let o="function"==typeof t;function l(e,n){let l=(0,y.getCurrentInstance)();(e=e||l&&(0,y.inject)(e8))&&e5(e);!(e=a)._s.has(i)&&(o?tB(i,t,r,e):!function(e,t,n,a){let i;let{state:r,actions:o,getters:l}=t,s=n.state.value[e];return(i=tB(e,function(){return!s&&(n.state.value[e]=r?r():{}),tT((0,y.toRefs)(n.state.value[e]),o,Object.keys(l||{}).reduce((t,a)=>(t[a]=(0,y.markRaw)((0,y.computed)(()=>{e5(n);let t=n._s.get(e);return l[a].call(t,t)})),t),{}))},t,n,void 0,!0)).$reset=function(){let e=r?r():{};this.$patch(t=>{tT(t,e)})},i}(i,r,e));let s=e._s.get(i);return s}return"string"==typeof e?(i=e,r=o?n:t):(r=e,i=e.id),l.$id=i,l}let tO="Store";function tR(e){{e=(0,y.toRaw)(e);let t={};for(let n in e){let a=e[n];((0,y.isRef)(a)||(0,y.isReactive)(a))&&(t[n]=(0,y.toRef)(e,n))}return t}}function tI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function tM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tI(Object(n),!0).forEach(function(t){tF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tL(e){return(tL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tj(){tj=function(e,t){return new n(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function n(e,a,i){var r=new RegExp(e,a);return t.set(r,i||t.get(e)),tU(r,n.prototype)}function a(e,n){var a=t.get(n);return Object.keys(a).reduce(function(t,n){return t[n]=e[a[n]],t},Object.create(null))}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tU(e,t)}(n,RegExp),n.prototype.exec=function(t){var n=e.exec.call(this,t);return n&&(n.groups=a(n,this)),n},n.prototype[Symbol.replace]=function(n,i){if("string"==typeof i){var r=t.get(this);return e[Symbol.replace].call(this,n,i.replace(/\$<([^>]+)>/g,function(e,t){return"$"+r[t]}))}if("function"==typeof i){var o=this;return e[Symbol.replace].call(this,n,function(){var e=arguments;return"object"!=typeof e[e.length-1]&&(e=[].slice.call(e)).push(a(e,o)),i.apply(this,e)})}return e[Symbol.replace].call(this,n,i)},tj.apply(this,arguments)}function tq(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function tF(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tU(e,t){return(tU=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tz(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,a,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var r=[],o=!0,l=!1;try{for(i=i.call(e);!(o=(n=i.next()).done)&&(r.push(n.value),!t||r.length!==t);o=!0);}catch(e){l=!0,a=e}finally{try{!o&&null!=i.return&&i.return()}finally{if(l)throw a}}return r}}(e,t)||tY(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tH(e){return function(e){if(Array.isArray(e))return tJ(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||tY(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tY(e,t){if(e){if("string"==typeof e)return tJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tJ(e,t)}}function tJ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var tK=function(){},tZ={},tW={},tG=null,tQ={mark:tK,measure:tK};try{"undefined"!=typeof window&&(tZ=window),"undefined"!=typeof document&&(tW=document),"undefined"!=typeof MutationObserver&&(tG=MutationObserver),"undefined"!=typeof performance&&(tQ=performance)}catch(e){}var tX=(tZ.navigator||{}).userAgent,t0=void 0===tX?"":tX,t1=tZ,t2=tW,t3=tG,t4=tQ;t1.document;var t5=!!t2.documentElement&&!!t2.head&&"function"==typeof t2.addEventListener&&"function"==typeof t2.createElement,t8=~t0.indexOf("MSIE")||~t0.indexOf("Trident/"),t6="___FONT_AWESOME___",t7="svg-inline--fa",t9="data-fa-i2svg",ne="data-fa-pseudo-element",nt="data-prefix",nn="data-icon",na="fontawesome-i2svg",ni=["HTML","HEAD","STYLE","SCRIPT"],nr=function(){try{return!0}catch(e){return!1}}(),no="classic",nl="sharp",ns=[no,nl];function nc(e){return new Proxy(e,{get:function(e,t){return t in e?e[t]:e[no]}})}var nd=nc((tF(d={},no,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),tF(d,nl,{fa:"solid",fass:"solid","fa-solid":"solid"}),d)),nu=nc((tF(u={},no,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),tF(u,nl,{solid:"fass"}),u)),np=nc((tF(p={},no,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),tF(p,nl,{fass:"fa-solid"}),p)),n_=nc((tF(_={},no,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),tF(_,nl,{"fa-solid":"fass"}),_)),nm=/fa(s|r|l|t|d|b|k|ss)?[\-\ ]/,nf="fa-layers-text",nh=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,ng=nc((tF(m={},no,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),tF(m,nl,{900:"fass"}),m)),nv=[1,2,3,4,5,6,7,8,9,10],nb=nv.concat([11,12,13,14,15,16,17,18,19,20]),ny=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],nk={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},nE=new Set;Object.keys(nu[no]).map(nE.add.bind(nE)),Object.keys(nu[nl]).map(nE.add.bind(nE));var nA=[].concat(ns,tH(nE),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",nk.GROUP,nk.SWAP_OPACITY,nk.PRIMARY,nk.SECONDARY]).concat(nv.map(function(e){return"".concat(e,"x")})).concat(nb.map(function(e){return"w-".concat(e)})),nw=t1.FontAwesomeConfig||{};t2&&"function"==typeof t2.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(e){var t,n=tz(e,2),a=n[0],i=n[1];var r=""===(t=function(e){var t=t2.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(a))||"false"!==t&&("true"===t||t);null!=r&&(nw[i]=r)});var nC={styleDefault:"solid",familyDefault:"classic",cssPrefix:"fa",replacementClass:t7,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};nw.familyPrefix&&(nw.cssPrefix=nw.familyPrefix);var nS=tM(tM({},nC),nw);!nS.autoReplaceSvg&&(nS.observeMutations=!1);var nN={};Object.keys(nC).forEach(function(e){Object.defineProperty(nN,e,{enumerable:!0,set:function(t){nS[e]=t,nV.forEach(function(e){return e(nN)})},get:function(){return nS[e]}})}),Object.defineProperty(nN,"familyPrefix",{enumerable:!0,set:function(e){nS.cssPrefix=e,nV.forEach(function(e){return e(nN)})},get:function(){return nS.cssPrefix}}),t1.FontAwesomeConfig=nN;var nV=[],nx={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function n$(){for(var e=12,t="";e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function nD(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function nT(e){return e.classList?nD(e.classList):(e.getAttribute("class")||"").split(" ").filter(function(e){return e})}function nB(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function nP(e){return Object.keys(e||{}).reduce(function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")},"")}function nO(e){return e.size!==nx.size||e.x!==nx.x||e.y!==nx.y||e.rotate!==nx.rotate||e.flipX||e.flipY}function nR(){var e=nN.cssPrefix,t=nN.replacementClass,n=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if("fa"!==e||t!==t7){var a=RegExp("\\.".concat("fa","\\-"),"g"),i=RegExp("\\--".concat("fa","\\-"),"g"),r=RegExp("\\.".concat(t7),"g");n=n.replace(a,".".concat(e,"-")).replace(i,"--".concat(e,"-")).replace(r,".".concat(t))}return n}var nI=!1;function nM(){nN.autoAddCss&&!nI&&(!function(e){if(!!e&&!!t5){var t=t2.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=t2.head.childNodes,a=null,i=n.length-1;i>-1;i--){var r=n[i];["STYLE","LINK"].indexOf((r.tagName||"").toUpperCase())>-1&&(a=r)}t2.head.insertBefore(t,a)}}(nR()),nI=!0)}var nL=t1||{};!nL[t6]&&(nL[t6]={}),!nL[t6].styles&&(nL[t6].styles={}),!nL[t6].hooks&&(nL[t6].hooks={}),!nL[t6].shims&&(nL[t6].shims=[]);var nj=nL[t6],nq=[],nF=!1;t5&&!(nF=(t2.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(t2.readyState))&&t2.addEventListener("DOMContentLoaded",function e(){t2.removeEventListener("DOMContentLoaded",e),nF=1,nq.map(function(e){return e()})});function nU(e){var t,n=e.tag,a=e.attributes,i=e.children;if("string"==typeof e)return nB(e);return"<".concat(n," ").concat(Object.keys((t=void 0===a?{}:a)||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(nB(t[n]),'" ')},"").trim(),">").concat((void 0===i?[]:i).map(nU).join(""),"</").concat(n,">")}function nz(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}var nH=function(e,t,n,a){var i,r,o,l,s,c=Object.keys(e),d=c.length,u=void 0!==a?(i=t,r=a,function(e,t,n,a){return i.call(r,e,t,n,a)}):t;for(void 0===n?(o=1,s=e[c[0]]):(o=0,s=n);o<d;o++)s=u(s,e[l=c[o]],l,e);return s};function nY(e){var t=function(e){for(var t=[],n=0,a=e.length;n<a;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<a){var r=e.charCodeAt(n++);(64512&r)==56320?t.push(((1023&i)<<10)+(1023&r)+65536):(t.push(i),n--)}else t.push(i)}return t}(e);return 1===t.length?t[0].toString(16):null}function nJ(e){return Object.keys(e).reduce(function(t,n){var a=e[n];return a.icon?t[a.iconName]=a.icon:t[n]=a,t},{})}function nK(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.skipHooks,i=nJ(t);"function"!=typeof nj.hooks.addPack||void 0!==a&&a?nj.styles[e]=tM(tM({},nj.styles[e]||{}),i):nj.hooks.addPack(e,nJ(t)),"fas"===e&&nK("fa",t)}var nZ=nj.styles,nW=nj.shims,nG=(tF(f={},no,Object.values(np[no])),tF(f,nl,Object.values(np[nl])),f),nQ=null,nX={},n0={},n1={},n2={},n3={},n4=(tF(h={},no,Object.keys(nd[no])),tF(h,nl,Object.keys(nd[nl])),h),n5=function(){var e=function(e){return nH(nZ,function(t,n,a){return t[a]=nH(n,e,{}),t},{})};nX=e(function(e,t,n){return t[3]&&(e[t[3]]=n),t[2]&&t[2].filter(function(e){return"number"==typeof e}).forEach(function(t){e[t.toString(16)]=n}),e}),n0=e(function(e,t,n){return e[n]=n,t[2]&&t[2].filter(function(e){return"string"==typeof e}).forEach(function(t){e[t]=n}),e}),n3=e(function(e,t,n){var a=t[2];return e[n]=n,a.forEach(function(t){e[t]=n}),e});var t="far"in nZ||nN.autoFetchSvg,n=nH(nW,function(e,n){var a=n[0],i=n[1],r=n[2];return"far"===i&&!t&&(i="fas"),"string"==typeof a&&(e.names[a]={prefix:i,iconName:r}),"number"==typeof a&&(e.unicodes[a.toString(16)]={prefix:i,iconName:r}),e},{names:{},unicodes:{}});n1=n.names,n2=n.unicodes,nQ=at(nN.styleDefault,{family:nN.familyDefault})};function n8(e,t){return(nX[e]||{})[t]}!function(e){nV.push(e)}(function(e){nQ=at(e.styleDefault,{family:nN.familyDefault})}),n5();function n6(e,t){return(n3[e]||{})[t]}function n7(e){return n1[e]||{prefix:null,iconName:null}}function n9(){return nQ}var ae=function(){return{prefix:null,iconName:null,rest:[]}};function at(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.family,a=void 0===n?no:n,i=nd[a][e],r=nu[a][e]||nu[a][i],o=e in nj.styles?e:null;return r||o||null}var an=(tF(g={},no,Object.keys(np[no])),tF(g,nl,Object.keys(np[nl])),g);function aa(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.skipLookups,i=void 0!==a&&a,r=(tF(t={},no,"".concat(nN.cssPrefix,"-").concat(no)),tF(t,nl,"".concat(nN.cssPrefix,"-").concat(nl)),t),o=null,l=no;(e.includes(r[no])||e.some(function(e){return an[no].includes(e)}))&&(l=no),(e.includes(r[nl])||e.some(function(e){return an[nl].includes(e)}))&&(l=nl);var s=e.reduce(function(e,t){var n,a,s,c,d,u=(n=nN.cssPrefix,s=(a=t.split("-"))[0],c=a.slice(1).join("-"),s!==n||""===c||(d=c,~nA.indexOf(d))?null:c);if(nZ[t]?(o=t=nG[l].includes(t)?n_[l][t]:t,e.prefix=t):n4[l].indexOf(t)>-1?(o=t,e.prefix=at(t,{family:l})):u?e.iconName=u:t!==nN.replacementClass&&t!==r[no]&&t!==r[nl]&&e.rest.push(t),!i&&e.prefix&&e.iconName){var p="fa"===o?n7(e.iconName):{},_=n6(e.prefix,e.iconName);p.prefix&&(o=null),e.iconName=p.iconName||_||e.iconName,e.prefix=p.prefix||e.prefix,"far"===e.prefix&&!nZ.far&&nZ.fas&&!nN.autoFetchSvg&&(e.prefix="fas")}return e},ae());return(e.includes("fa-brands")||e.includes("fab"))&&(s.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(s.prefix="fad"),!s.prefix&&l===nl&&(nZ.fass||nN.autoFetchSvg)&&(s.prefix="fass",s.iconName=n6(s.prefix,s.iconName)||s.iconName),("fa"===s.prefix||"fa"===o)&&(s.prefix=nQ||"fas"),s}var ai=function(){var e,t,n;function a(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a),this.definitions={}}return e=a,t=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(function(t){e.definitions[t]=tM(tM({},e.definitions[t]||{}),i[t]),nK(t,i[t]);var n=np[no][t];n&&nK(n,i[t]),n5()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map(function(t){var a=n[t],i=a.prefix,r=a.iconName,o=a.icon,l=o[2];!e[i]&&(e[i]={}),l.length>0&&l.forEach(function(t){"string"==typeof t&&(e[i][t]=o)}),e[i][r]=o}),e}}],tq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),a}(),ar=[],ao={},al={},as=Object.keys(al);function ac(e,t){for(var n=arguments.length,a=Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];return(ao[e]||[]).forEach(function(e){t=e.apply(null,[t].concat(a))}),t}function ad(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];(ao[e]||[]).forEach(function(e){e.apply(null,n)})}function au(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return al[e]?al[e].apply(null,t):void 0}function ap(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,n=e.prefix||nQ;if(t)return t=n6(n,t)||t,nz(a_.definitions,n,t)||nz(nj.styles,n,t)}var a_=new ai,am={noAuto:function(){nN.autoReplaceSvg=!1,nN.observeMutations=!1,ad("noAuto")},config:nN,dom:{i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t5?(ad("beforeI2svg",e),au("pseudoElements2svg",e),au("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.autoReplaceSvgRoot;!1===nN.autoReplaceSvg&&(nN.autoReplaceSvg=!0),nN.observeMutations=!0,e=function(){af({autoReplaceSvgRoot:n}),ad("watch",t)},!t5||(nF?setTimeout(e,0):nq.push(e))}},parse:{icon:function(e){if(null===e)return null;if("object"===tL(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:n6(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=at(e[0]);return{prefix:n,iconName:n6(n,t)||t}}if("string"==typeof e&&(e.indexOf("".concat(nN.cssPrefix,"-"))>-1||e.match(nm))){var a=aa(e.split(" "),{skipLookups:!0});return{prefix:a.prefix||nQ,iconName:n6(a.prefix,a.iconName)||a.iconName}}if("string"==typeof e){var i=nQ;return{prefix:i,iconName:n6(i,e)||e}}}},library:a_,findIconDefinition:ap,toHtml:nU},af=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot,n=void 0===t?t2:t;(Object.keys(nj.styles).length>0||nN.autoFetchSvg)&&t5&&nN.autoReplaceSvg&&am.dom.i2svg({node:n})};function ah(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(function(e){return nU(e)})}}),Object.defineProperty(e,"node",{get:function(){if(t5){var t=t2.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function ag(e){var t,n,a,i,r,o,l,s=e.icons,c=s.main,d=s.mask,u=e.prefix,p=e.iconName,_=e.transform,m=e.symbol,f=e.title,h=e.maskId,g=e.titleId,b=e.extra,y=e.watchable,k=d.found?d:c,E=k.width,A=k.height,w="fak"===u,C=[nN.replacementClass,p?"".concat(nN.cssPrefix,"-").concat(p):""].filter(function(e){return -1===b.classes.indexOf(e)}).filter(function(e){return""!==e||!!e}).concat(b.classes).join(" "),S={children:[],attributes:tM(tM({},b.attributes),{},{"data-prefix":u,"data-icon":p,class:C,role:b.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(E," ").concat(A)})},N=w&&!~b.classes.indexOf("fa-fw")?{width:"".concat(E/A*1,"em")}:{};void 0!==y&&y&&(S.attributes[t9]=""),f&&(S.children.push({tag:"title",attributes:{id:S.attributes["aria-labelledby"]||"title-".concat(g||n$())},children:[f]}),delete S.attributes.title);var V=tM(tM({},S),{},{prefix:u,iconName:p,main:c,mask:d,maskId:h,transform:_,symbol:m,styles:tM(tM({},N),b.styles)}),x=d.found&&c.found?au("generateAbstractMask",V)||{children:[],attributes:{}}:au("generateAbstractIcon",V)||{children:[],attributes:{}},D=x.children,T=x.attributes;if(V.children=D,V.attributes=T,!m)return function(e){var t=e.children,n=e.main,a=e.mask,i=e.attributes,r=e.styles,o=e.transform;if(nO(o)&&n.found&&!a.found){var l={x:n.width/n.height/2,y:.5};i.style=nP(tM(tM({},r),{},{"transform-origin":"".concat(l.x+o.x/16,"em ").concat(l.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(V);return n=(t=V).prefix,a=t.iconName,i=t.children,r=t.attributes,l=!0===(o=t.symbol)?"".concat(n,"-").concat(nN.cssPrefix,"-").concat(a):o,[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:tM(tM({},r),{},{id:l}),children:i}]}]}function av(e){var t,n,a,i,r,o,l,s=e.content,c=e.width,d=e.height,u=e.transform,p=e.title,_=e.extra,m=e.watchable,f=tM(tM(tM({},_.attributes),p?{title:p}:{}),{},{class:_.classes.join(" ")});void 0!==m&&m&&(f[t9]="");var h=tM({},_.styles);if(nO(u)){;h.transform=(n=(t={transform:u,startCentered:!0,width:c,height:d}).transform,a=t.width,i=t.height,o=void 0!==(r=t.startCentered)&&r,l="",o&&t8?l+="translate(".concat(n.x/16-(void 0===a?16:a)/2,"em, ").concat(n.y/16-(void 0===i?16:i)/2,"em) "):o?l+="translate(calc(-50% + ".concat(n.x/16,"em), calc(-50% + ").concat(n.y/16,"em)) "):l+="translate(".concat(n.x/16,"em, ").concat(n.y/16,"em) "),l+="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") ")+"rotate(".concat(n.rotate,"deg) ")),h["-webkit-transform"]=h.transform}var g=nP(h);g.length>0&&(f.style=g);var b=[];return b.push({tag:"span",attributes:f,children:[s]}),p&&b.push({tag:"span",attributes:{class:"sr-only"},children:[p]}),b}var ab=nj.styles;function ay(e){var t=e[0],n=e[1],a=tz(e.slice(4),1)[0],i=null;return{found:!0,width:t,height:n,icon:i=Array.isArray(a)?{tag:"g",attributes:{class:"".concat(nN.cssPrefix,"-").concat(nk.GROUP)},children:[{tag:"path",attributes:{class:"".concat(nN.cssPrefix,"-").concat(nk.SECONDARY),fill:"currentColor",d:a[0]}},{tag:"path",attributes:{class:"".concat(nN.cssPrefix,"-").concat(nk.PRIMARY),fill:"currentColor",d:a[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:a}}}}var ak={found:!1,width:512,height:512};function aE(e,t){var n=t;return"fa"===t&&null!==nN.styleDefault&&(t=nQ),new Promise(function(a,i){if(au("missingIconAbstract"),"fa"===n){var r,o,l=n7(e)||{};e=l.iconName||e,t=l.prefix||t}if(e&&t&&ab[t]&&ab[t][e])return a(ay(ab[t][e]));r=e,o=t,nr||nN.showMissingIcons||!r||console.error('Icon with name "'.concat(r,'" and prefix "').concat(o,'" is missing.')),a(tM(tM({},ak),{},{icon:nN.showMissingIcons&&e&&au("missingIconAbstract")||{}}))})}var aA=function(){},aw=nN.measurePerformance&&t4&&t4.mark&&t4.measure?t4:{mark:aA,measure:aA},aC='FA "6.2.0"',aS=function(e){aw.mark("".concat(aC," ").concat(e," ends")),aw.measure("".concat(aC," ").concat(e),"".concat(aC," ").concat(e," begins"),"".concat(aC," ").concat(e," ends"))},aN={begin:function(e){return aw.mark("".concat(aC," ").concat(e," begins")),function(){return aS(e)}}},aV=function(){};function ax(e){return"string"==typeof(e.getAttribute?e.getAttribute(t9):null)}function a$(e){return t2.createElementNS("http://www.w3.org/2000/svg",e)}function aD(e){return t2.createElement(e)}var aT={replace:function(e){var t=e[0];if(t.parentNode){if(e[1].forEach(function(e){t.parentNode.insertBefore(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.ceFn,i=void 0===a?"svg"===t.tag?a$:aD:a;if("string"==typeof t)return t2.createTextNode(t);var r=i(t.tag);return Object.keys(t.attributes||[]).forEach(function(e){r.setAttribute(e,t.attributes[e])}),(t.children||[]).forEach(function(t){r.appendChild(e(t,{ceFn:i}))}),r}(e),t)}),null===t.getAttribute(t9)&&nN.keepOriginalSource){var n,a,i=t2.createComment((n=t,a=" ".concat(n.outerHTML," "),a="".concat(a,"Font Awesome fontawesome.com ")));t.parentNode.replaceChild(i,t)}else t.remove()}},nest:function(e){var t=e[0],n=e[1];if(~nT(t).indexOf(nN.replacementClass))return aT.replace(e);var a=new RegExp("".concat(nN.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var i=n[0].attributes.class.split(" ").reduce(function(e,t){return t===nN.replacementClass||t.match(a)?e.toSvg.push(t):e.toNode.push(t),e},{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),0===i.toNode.length?t.removeAttribute("class"):t.setAttribute("class",i.toNode.join(" "))}var r=n.map(function(e){return nU(e)}).join("\n");t.setAttribute(t9,""),t.innerHTML=r}};function aB(e){e()}function aP(e,t){var n="function"==typeof t?t:aV;if(0===e.length)n();else{var a=aB;"async"===nN.mutateApproach&&(a=t1.requestAnimationFrame||aB),a(function(){var t=!0===nN.autoReplaceSvg?aT.replace:aT[nN.autoReplaceSvg]||aT.replace,a=aN.begin("mutate");e.map(t),a(),n()})}}var aO=!1;function aR(){aO=!0}function aI(){aO=!1}var aM=null;function aL(e){if(!!t3&&!!nN.observeMutations){var t=e.treeCallback,n=void 0===t?aV:t,a=e.nodeCallback,i=void 0===a?aV:a,r=e.pseudoElementsCallback,o=void 0===r?aV:r,l=e.observeMutationsRoot,s=void 0===l?t2:l;aM=new t3(function(e){if(!aO){var t=nQ;nD(e).forEach(function(e){if("childList"===e.type&&e.addedNodes.length>0&&!ax(e.addedNodes[0])&&(nN.searchPseudoElements&&o(e.target),n(e.target)),"attributes"===e.type&&e.target.parentNode&&nN.searchPseudoElements&&o(e.target.parentNode),"attributes"===e.type&&ax(e.target)&&~ny.indexOf(e.attributeName)){if("class"===e.attributeName&&(r=(a=e.target).getAttribute?a.getAttribute(nt):null,l=a.getAttribute?a.getAttribute(nn):null,r&&l)){var a,r,l,s,c=aa(nT(e.target)),d=c.prefix,u=c.iconName;e.target.setAttribute(nt,d||t),u&&e.target.setAttribute(nn,u)}else{;if((s=e.target)&&s.classList&&s.classList.contains&&s.classList.contains(nN.replacementClass))i(e.target)}}})}}),t5&&aM.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function aj(e){var t,n,a,i,r,o,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},s=function(e){var t,n,a=e.getAttribute("data-prefix"),i=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"",o=aa(nT(e));if(!o.prefix&&(o.prefix=nQ),a&&i&&(o.prefix=a,o.iconName=i),o.iconName&&o.prefix)return o;if(o.prefix&&r.length>0){;o.iconName=(t=o.prefix,n=e.innerText,(n0[t]||{})[n]||n8(o.prefix,nY(e.innerText)))}return!o.iconName&&nN.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(o.iconName=e.firstChild.data),o}(e),c=s.iconName,d=s.prefix,u=s.rest;var p=(n=nD((t=e).attributes).reduce(function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e},{}),a=t.getAttribute("title"),i=t.getAttribute("data-fa-title-id"),nN.autoA11y&&(a?n["aria-labelledby"]="".concat(nN.replacementClass,"-title-").concat(i||n$()):(n["aria-hidden"]="true",n.focusable="false")),n),_=ac("parseNodeAttributes",{},e);var m=l.styleParser?(r=e.getAttribute("style"),o=[],r&&(o=r.split(";").reduce(function(e,t){var n=t.split(":"),a=n[0],i=n.slice(1);return a&&i.length>0&&(e[a]=i.join(":").trim()),e},{})),o):[];return tM({iconName:c,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:d,transform:nx,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:u,styles:m,attributes:p}},_)}var aq=nj.styles;function aF(e){var t="nest"===nN.autoReplaceSvg?aj(e,{styleParser:!1}):aj(e);return~t.extra.classes.indexOf(nf)?au("generateLayersText",e,t):au("generateSvgReplacementMutation",e,t)}var aU=new Set;function az(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t5)return Promise.resolve();var n=t2.documentElement.classList,a=function(e){return n.add("".concat(na,"-").concat(e))},i=function(e){return n.remove("".concat(na,"-").concat(e))},r=nN.autoFetchSvg?aU:ns.map(function(e){return"fa-".concat(e)}).concat(Object.keys(aq));!r.includes("fa")&&r.push("fa");var o=[".".concat(nf,":not([").concat(t9,"])")].concat(r.map(function(e){return".".concat(e,":not([").concat(t9,"])")})).join(", ");if(0===o.length)return Promise.resolve();var l=[];try{l=nD(e.querySelectorAll(o))}catch(e){}if(!(l.length>0))return Promise.resolve();a("pending"),i("complete");var s=aN.begin("onTree"),c=l.reduce(function(e,t){try{var n=aF(t);n&&e.push(n)}catch(e){!nr&&"MissingIcon"===e.name&&console.error(e)}return e},[]);return new Promise(function(e,n){Promise.all(c).then(function(n){aP(n,function(){a("active"),a("complete"),i("pending"),"function"==typeof t&&t(),s(),e()})}).catch(function(e){s(),n(e)})})}function aH(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;aF(e).then(function(e){e&&aP([e],t)})}ns.map(function(e){aU.add("fa-".concat(e))}),Object.keys(nd[no]).map(aU.add.bind(aU)),Object.keys(nd[nl]).map(aU.add.bind(aU)),aU=tH(aU);var aY=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,a=void 0===n?nx:n,i=t.symbol,r=void 0!==i&&i,o=t.mask,l=void 0===o?null:o,s=t.maskId,c=void 0===s?null:s,d=t.title,u=void 0===d?null:d,p=t.titleId,_=void 0===p?null:p,m=t.classes,f=void 0===m?[]:m,h=t.attributes,g=void 0===h?{}:h,b=t.styles,y=void 0===b?{}:b;if(e){var k=e.prefix,E=e.iconName,A=e.icon;return ah(tM({type:"icon"},e),function(){return ad("beforeDOMElementCreation",{iconDefinition:e,params:t}),nN.autoA11y&&(u?g["aria-labelledby"]="".concat(nN.replacementClass,"-title-").concat(_||n$()):(g["aria-hidden"]="true",g.focusable="false")),ag({icons:{main:ay(A),mask:l?ay(l.icon):{found:!1,width:null,height:null,icon:{}}},prefix:k,iconName:E,transform:tM(tM({},nx),a),symbol:r,title:u,maskId:c,titleId:_,extra:{attributes:g,styles:y,classes:f}})})}},aJ=RegExp('"',"ug"),aK=[1105920,1112319];function aZ(e,t){var n="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise(function(a,i){if(null!==e.getAttribute(n))return a();var r=nD(e.children).filter(function(e){return e.getAttribute(ne)===t})[0],o=t1.getComputedStyle(e,t),l=o.getPropertyValue("font-family").match(nh),s=o.getPropertyValue("font-weight"),c=o.getPropertyValue("content");if(r&&!l)return e.removeChild(r),a();if(l&&"none"!==c&&""!==c){var d=o.getPropertyValue("content"),u=~["Sharp"].indexOf(l[2])?nl:no,p=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(l[2])?nu[u][l[2].toLowerCase()]:ng[u][s];var _=(S=(E=0,w=(k=y=d.replace(aJ,"")).length,(C=k.charCodeAt(0))>=55296&&C<=56319&&w>E+1&&(A=k.charCodeAt(E+1))>=56320&&A<=57343?(C-55296)*1024+A-56320+65536:C),{value:(N=2===y.length&&y[0]===y[1])?nY(y[0]):nY(y),isSecondary:S>=1105920&&S<=1112319||N}),m=_.value,f=_.isSecondary,h=l[0].startsWith("FontAwesome"),g=n8(p,m),b=g;if(h){var y,k,E,A,w,C,S,N,V,x,D,T=(x=n2[V=m],D=n8("fas",V),x||(D?{prefix:"fas",iconName:D}:null)||{prefix:null,iconName:null});T.iconName&&T.prefix&&(g=T.iconName,p=T.prefix)}if(!g||f||r&&r.getAttribute(nt)===p&&r.getAttribute(nn)===b)a();else{e.setAttribute(n,b),r&&e.removeChild(r);var B={iconName:null,title:null,titleId:null,prefix:null,transform:nx,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},P=B.extra;P.attributes[ne]=t,aE(g,p).then(function(i){var r=ag(tM(tM({},B),{},{icons:{main:i,mask:ae()},prefix:p,iconName:b,extra:P,watchable:!0})),o=t2.createElement("svg");"::before"===t?e.insertBefore(o,e.firstChild):e.appendChild(o),o.outerHTML=r.map(function(e){return nU(e)}).join("\n"),e.removeAttribute(n),a()}).catch(i)}}else a()})}function aW(e){return Promise.all([aZ(e,"::before"),aZ(e,"::after")])}function aG(e){return e.parentNode!==document.head&&!~ni.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(ne)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function aQ(e){if(t5)return new Promise(function(t,n){var a=nD(e.querySelectorAll("*")).filter(aG).map(aW),i=aN.begin("searchPseudoElements");aO=!0,Promise.all(a).then(function(){i(),aO=!1,t()}).catch(function(){i(),aO=!1,n()})})}var aX=!1,a0=function(e){return e.toLowerCase().split(" ").reduce(function(e,t){var n=t.toLowerCase().split("-"),a=n[0],i=n.slice(1).join("-");if(a&&"h"===i)return e.flipX=!0,e;if(a&&"v"===i)return e.flipY=!0,e;if(isNaN(i=parseFloat(i)))return e;switch(a){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},a1={x:0,y:0,width:"100%",height:"100%"};function a2(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}!function(e,t){var n=t.mixoutsTo;ar=e,ao={},Object.keys(al).forEach(function(e){-1===as.indexOf(e)&&delete al[e]}),ar.forEach(function(e){var t=e.mixout?e.mixout():{};if(Object.keys(t).forEach(function(e){"function"==typeof t[e]&&(n[e]=t[e]),"object"===tL(t[e])&&Object.keys(t[e]).forEach(function(a){!n[e]&&(n[e]={}),n[e][a]=t[e][a]})}),e.hooks){var a=e.hooks();Object.keys(a).forEach(function(e){!ao[e]&&(ao[e]=[]),ao[e].push(a[e])})}e.provides&&e.provides(al)})}([{mixout:function(){return{dom:{css:nR,insertCss:nM}}},hooks:function(){return{beforeDOMElementCreation:function(){nM()},beforeI2svg:function(){nM()}}}},{mixout:function(){var e;return{icon:(e=aY,function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=(t||{}).icon?t:ap(t||{}),i=n.mask;return i&&(i=(i||{}).icon?i:ap(i||{})),e(a,tM(tM({},n),{},{mask:i}))})}},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=az,e.nodeCallback=aH,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,n=void 0===t?t2:t,a=e.callback;return az(n,void 0===a?function(){}:a)},e.generateSvgReplacementMutation=function(e,t){var n=t.iconName,a=t.title,i=t.titleId,r=t.prefix,o=t.transform,l=t.symbol,s=t.mask,c=t.maskId,d=t.extra;return new Promise(function(t,u){Promise.all([aE(n,r),s.iconName?aE(s.iconName,s.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(s){var u=tz(s,2);t([e,ag({icons:{main:u[0],mask:u[1]},prefix:r,iconName:n,transform:o,symbol:l,maskId:c,title:a,titleId:i,extra:d,watchable:!0})])}).catch(u)})},e.generateAbstractIcon=function(e){var t,n=e.children,a=e.attributes,i=e.main,r=e.transform,o=nP(e.styles);return o.length>0&&(a.style=o),nO(r)&&(t=au("generateAbstractTransformGrouping",{main:i,transform:r,containerWidth:i.width,iconWidth:i.width})),n.push(t||i.icon),{children:n,attributes:a}}}},{mixout:function(){return{layer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.classes,a=void 0===n?[]:n;return ah({type:"layer"},function(){ad("beforeDOMElementCreation",{assembler:e,params:t});var n=[];return e(function(e){Array.isArray(e)?e.map(function(e){n=n.concat(e.abstract)}):n=n.concat(e.abstract)}),[{tag:"span",attributes:{class:["".concat(nN.cssPrefix,"-layers")].concat(tH(a)).join(" ")},children:n}]})}}}},{mixout:function(){return{counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,a=void 0===n?null:n,i=t.classes,r=void 0===i?[]:i,o=t.attributes,l=void 0===o?{}:o,s=t.styles,c=void 0===s?{}:s;return ah({type:"counter",content:e},function(){var n,i,o,s,d,u,p;return ad("beforeDOMElementCreation",{content:e,params:t}),i=(n={content:e.toString(),title:a,extra:{attributes:l,styles:c,classes:["".concat(nN.cssPrefix,"-layers-counter")].concat(tH(r))}}).content,o=n.title,d=tM(tM(tM({},(s=n.extra).attributes),o?{title:o}:{}),{},{class:s.classes.join(" ")}),(u=nP(s.styles)).length>0&&(d.style=u),(p=[]).push({tag:"span",attributes:d,children:[i]}),o&&p.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),p})}}}},{mixout:function(){return{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,a=void 0===n?nx:n,i=t.title,r=void 0===i?null:i,o=t.classes,l=void 0===o?[]:o,s=t.attributes,c=void 0===s?{}:s,d=t.styles,u=void 0===d?{}:d;return ah({type:"text",content:e},function(){return ad("beforeDOMElementCreation",{content:e,params:t}),av({content:e,transform:tM(tM({},nx),a),title:r,extra:{attributes:c,styles:u,classes:["".concat(nN.cssPrefix,"-layers-text")].concat(tH(l))}})})}}},provides:function(e){e.generateLayersText=function(e,t){var n=t.title,a=t.transform,i=t.extra,r=null,o=null;if(t8){var l=parseInt(getComputedStyle(e).fontSize,10),s=e.getBoundingClientRect();r=s.width/l,o=s.height/l}return nN.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,av({content:e.innerHTML,width:r,height:o,transform:a,title:n,extra:i,watchable:!0})])}}},{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=aQ,e}}},provides:function(e){e.pseudoElements2svg=function(e){var t=e.node,n=void 0===t?t2:t;nN.searchPseudoElements&&aQ(n)}}},{mixout:function(){return{dom:{unwatch:function(){aO=!0,aX=!0}}}},hooks:function(){return{bootstrap:function(){aL(ac("mutationObserverCallbacks",{}))},noAuto:function(){!aM||aM.disconnect()},watch:function(e){var t=e.observeMutationsRoot;aX?aO=!1:aL(ac("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},{mixout:function(){return{parse:{transform:function(e){return a0(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-transform");return n&&(e.transform=a0(n)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,n=e.transform,a=e.containerWidth,i=e.iconWidth,r="translate(".concat(32*n.x,", ").concat(32*n.y,") "),o="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),l="rotate(".concat(n.rotate," 0 0)"),s={transform:"".concat(r," ").concat(o," ").concat(l)},c={outer:{transform:"translate(".concat(a/2," 256)")},inner:s,path:{transform:"translate(".concat(-(i/2*1)," -256)")}};return{tag:"g",attributes:tM({},c.outer),children:[{tag:"g",attributes:tM({},c.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:tM(tM({},t.icon.attributes),c.path)}]}]}}}},{hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-mask"),a=n?aa(n.split(" ").map(function(e){return e.trim()})):ae();return!a.prefix&&(a.prefix=nQ),e.mask=a,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t,n,a,i,r,o,l,s,c,d=e.children,u=e.attributes,p=e.main,_=e.mask,m=e.maskId,f=e.transform,h=p.width,g=p.icon,b=_.width,y=_.icon;var k=(n=(t={transform:f,containerWidth:b,iconWidth:h}).transform,a=t.containerWidth,i=t.iconWidth,r="translate(".concat(32*n.x,", ").concat(32*n.y,") "),o="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),l="rotate(".concat(n.rotate," 0 0)"),s={transform:"".concat(r," ").concat(o," ").concat(l)},{outer:{transform:"translate(".concat(a/2," 256)")},inner:s,path:{transform:"translate(".concat(-(i/2*1)," -256)")}}),E={tag:"rect",attributes:tM(tM({},a1),{},{fill:"white"})},A=g.children?{children:g.children.map(a2)}:{},w={tag:"g",attributes:tM({},k.inner),children:[a2(tM({tag:g.tag,attributes:tM(tM({},g.attributes),k.path)},A))]},C={tag:"g",attributes:tM({},k.outer),children:[w]},S="mask-".concat(m||n$()),N="clip-".concat(m||n$()),V={tag:"mask",attributes:tM(tM({},a1),{},{id:S,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[E,C]};var x={tag:"defs",children:[{tag:"clipPath",attributes:{id:N},children:"g"===(c=y).tag?c.children:[c]},V]};return d.push(x,{tag:"rect",attributes:tM({fill:"currentColor","clip-path":"url(#".concat(N,")"),mask:"url(#".concat(S,")")},a1)}),{children:d,attributes:u}}}},{provides:function(e){var t=!1;t1.matchMedia&&(t=t1.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],n={fill:"currentColor"},a={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:tM(tM({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var i=tM(tM({},a),{},{attributeName:"opacity"}),r={tag:"circle",attributes:tM(tM({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return!t&&r.children.push({tag:"animate",attributes:tM(tM({},a),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:tM(tM({},i),{},{values:"1;0;1;1;0;1;"})}),e.push(r),e.push({tag:"path",attributes:tM(tM({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:tM(tM({},i),{},{values:"1;0;0;0;0;1;"})}]}),!t&&e.push({tag:"path",attributes:tM(tM({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:tM(tM({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}},{hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-symbol");return e.symbol=null!==n&&(""===n||n),e}}}}],{mixoutsTo:am}),am.noAuto;var a3=am.config,a4=am.library;am.dom;var a5=am.parse;am.findIconDefinition,am.toHtml;var a8=am.icon;am.layer;var a6=am.text;am.counter;function a7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function a9(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a7(Object(n),!0).forEach(function(t){it(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a7(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function it(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ia(e){return function(e){if(Array.isArray(e))return ii(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ii(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ii(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ii(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var ir="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},io={exports:{}};!function(e){var t,n,a,i,r,o,l,s,c,d,u,p,_,m,f,h;t=ir,n=function(e,t,a){if(!c(t)||u(t)||p(t)||_(t)||s(t))return t;var i,r=0,o=0;if(d(t))for(i=[],o=t.length;r<o;r++)i.push(n(e,t[r],a));else for(var l in i={},t)Object.prototype.hasOwnProperty.call(t,l)&&(i[e(l,a)]=n(e,t[l],a));return i},a=function(e,t){var n=(t=t||{}).separator||"_",a=t.split||/(?=[A-Z])/;return e.split(a).join(n)},i=function(e){return m(e)?e:(e=e.replace(/[\-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""})).substr(0,1).toLowerCase()+e.substr(1)},r=function(e){var t=i(e);return t.substr(0,1).toUpperCase()+t.substr(1)},o=function(e,t){return a(e,t).toLowerCase()},l=Object.prototype.toString,s=function(e){return"function"==typeof e},c=function(e){return e===Object(e)},d=function(e){return"[object Array]"==l.call(e)},u=function(e){return"[object Date]"==l.call(e)},p=function(e){return"[object RegExp]"==l.call(e)},_=function(e){return"[object Boolean]"==l.call(e)},m=function(e){return(e-=0)==e},f=function(e,t){var n=t&&"process"in t?t.process:t;return"function"!=typeof n?e:function(t,a){return n(t,e,a)}},h={camelize:i,decamelize:o,pascalize:r,depascalize:o,camelizeKeys:function(e,t){return n(f(i,t),e)},decamelizeKeys:function(e,t){return n(f(o,t),e,t)},pascalizeKeys:function(e,t){return n(f(r,t),e)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}},e.exports?e.exports=h:t.humps=h}(io);var il=io.exports,is=["class","style"];function ic(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof e)return e;var a=(e.children||[]).map(function(e){return ic(e)}),i=Object.keys(e.attributes||{}).reduce(function(t,n){var a=e.attributes[n];switch(n){case"class":t.class=a.split(/\s+/).reduce(function(e,t){return e[t]=!0,e},{});break;case"style":t.style=a.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,t){var n=t.indexOf(":"),a=il.camelize(t.slice(0,n)),i=t.slice(n+1).trim();return e[a]=i,e},{});break;default:t.attrs[n]=a}return t},{attrs:{},class:{},style:{}});n.class;var r=n.style,o=function(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],!(t.indexOf(n)>=0)&&(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++){if(n=r[a],!(t.indexOf(n)>=0))Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}}return i}(n,is);return(0,y.h)(e.tag,a9(a9(a9({},t),{},{class:i.class,style:a9(a9({},i.style),void 0===r?{}:r)},i.attrs),o),a)}var id=!1;try{id=!0}catch(e){}function iu(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?it({},e,t):{}}function ip(e){return e&&"object"===ie(e)&&e.prefix&&e.iconName&&e.icon?e:a5.icon?a5.icon(e):null===e?null:"object"===ie(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"==typeof e?{prefix:"fas",iconName:e}:void 0}var i_=(0,y.defineComponent)({name:"FontAwesomeIcon",props:{border:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flip:{type:[Boolean,String],default:!1,validator:function(e){return[!0,!1,"horizontal","vertical","both"].indexOf(e)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function(e){return["right","left"].indexOf(e)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function(e){return[90,180,270].indexOf(Number.parseInt(e,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function(e){return["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(e)>-1}},spin:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null},inverse:{type:Boolean,default:!1},bounce:{type:Boolean,default:!1},shake:{type:Boolean,default:!1},beat:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},beatFade:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},spinPulse:{type:Boolean,default:!1},spinReverse:{type:Boolean,default:!1}},setup:function(e,t){var n=t.attrs,a=(0,y.computed)(function(){return ip(e.icon)}),i=(0,y.computed)(function(){var t,n,a;return iu("classes",Object.keys(a=(it(n={"fa-spin":(t=e).spin,"fa-pulse":t.pulse,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-li":t.listItem,"fa-inverse":t.inverse,"fa-flip":!0===t.flip,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip},"fa-".concat(t.size),null!==t.size),it(n,"fa-rotate-".concat(t.rotation),null!==t.rotation),it(n,"fa-pull-".concat(t.pull),null!==t.pull),it(n,"fa-swap-opacity",t.swapOpacity),it(n,"fa-bounce",t.bounce),it(n,"fa-shake",t.shake),it(n,"fa-beat",t.beat),it(n,"fa-fade",t.fade),it(n,"fa-beat-fade",t.beatFade),it(n,"fa-flash",t.flash),it(n,"fa-spin-pulse",t.spinPulse),it(n,"fa-spin-reverse",t.spinReverse),n)).map(function(e){return a[e]?e:null}).filter(function(e){return e}))}),r=(0,y.computed)(function(){return iu("transform","string"==typeof e.transform?a5.transform(e.transform):e.transform)}),o=(0,y.computed)(function(){return iu("mask",ip(e.mask))}),l=(0,y.computed)(function(){return a8(a.value,a9(a9(a9(a9({},i.value),r.value),o.value),{},{symbol:e.symbol,title:e.title}))});(0,y.watch)(l,function(e){if(!e)return function(){if(!id&&console&&"function"==typeof console.error){var e;(e=console).error.apply(e,arguments)}}("Could not find one or more icon(s)",a.value,o.value)},{immediate:!0});var s=(0,y.computed)(function(){return l.value?ic(l.value.abstract[0],{},n):null});return function(){return s.value}}});(0,y.defineComponent)({name:"FontAwesomeLayers",props:{fixedWidth:{type:Boolean,default:!1}},setup:function(e,t){var n=t.slots,a=a3.familyPrefix,i=(0,y.computed)(function(){return["".concat(a,"-layers")].concat(ia(e.fixedWidth?["".concat(a,"-fw")]:[]))});return function(){return(0,y.h)("div",{class:i.value},n.default?n.default():[])}}}),(0,y.defineComponent)({name:"FontAwesomeLayersText",props:{value:{type:[String,Number],default:""},transform:{type:[String,Object],default:null},counter:{type:Boolean,default:!1},position:{type:String,default:null,validator:function(e){return["bottom-left","bottom-right","top-left","top-right"].indexOf(e)>-1}}},setup:function(e,t){var n=t.attrs,a=a3.familyPrefix,i=(0,y.computed)(function(){return iu("classes",[].concat(ia(e.counter?["".concat(a,"-layers-counter")]:[]),ia(e.position?["".concat(a,"-layers-").concat(e.position)]:[])))}),r=(0,y.computed)(function(){return iu("transform","string"==typeof e.transform?a5.transform(e.transform):e.transform)}),o=(0,y.computed)(function(){var t=a6(e.value.toString(),a9(a9({},r.value),i.value)).abstract;return e.counter&&(t[0].attributes.class=t[0].attributes.class.replace("fa-layers-text","")),t[0]}),l=(0,y.computed)(function(){return ic(o.value,{},n)});return function(){return l.value}}});var im=n("9938"),ih=n.n(im);let ig={key:0},iv={id:"sub-header"},ib={class:"main container-fluid"},iy={class:"row"},ik={class:"col-md-10 order-md-2 order-sm-1"},iE={class:"col-md-2 order-sm-2 order-md-1"},iA={key:1,class:"main container-fluid"},iw={id:"breadcrumbs","aria-label":"Breadcrumb"},iC={class:"breadcrumb"},iS={class:"breadcrumb-item"},iN={key:1},iV={key:1},ix=["href"],i$={key:1},iD={key:3,href:"#","aria-current":"page"},iT={key:1,class:"item-last"},iB={key:0};var iP=n("3379"),iO=n.n(iP),iR=n("7795"),iI=n.n(iR),iM=n("569"),iL=n.n(iM),ij=n("3565"),iq=n.n(ij),iF=n("9216"),iU=n.n(iF),iz=n("4589"),iH=n.n(iz),iY=n("2863"),iJ={};iJ.styleTagTransform=iH(),iJ.setAttributes=iq(),iJ.insert=iL().bind(null,"head"),iJ.domAPI=iI(),iJ.insertStyleElement=iU(),iO()(iY.Z,iJ),iY.Z&&iY.Z.locals&&iY.Z.locals;var iK=n("3744");let iZ=(0,iK.default)({name:"NavigationItem",props:{item:Object,params:Object}},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("router-link"),l=(0,y.resolveComponent)("NavigationItem",!0);return(0,y.openBlock)(),(0,y.createElementBlock)("li",iS,[(0,y.createElementVNode)("span",null,[n.item.name?((0,y.openBlock)(),(0,y.createBlock)(o,{key:0,to:{name:n.item.name,params:n.params},class:(0,y.normalizeClass)({disabled:n.item.disabled})},{default:(0,y.withCtx)(()=>[n.item.icon?((0,y.openBlock)(),(0,y.createElementBlock)(y.Fragment,{key:0},[(0,y.createElementVNode)("i",{class:(0,y.normalizeClass)(`${n.item.icon}`)},null,2),(0,y.createTextVNode)("\xa0 ")],64)):(0,y.createCommentVNode)("",!0),n.item.title?((0,y.openBlock)(),(0,y.createElementBlock)("span",iN,(0,y.toDisplayString)(e.$__(n.item.title)),1)):(0,y.createCommentVNode)("",!0)]),_:1},8,["to","class"])):n.item.path?((0,y.openBlock)(),(0,y.createBlock)(o,{key:1,to:n.item.path,class:(0,y.normalizeClass)({disabled:n.item.disabled})},{default:(0,y.withCtx)(()=>[n.item.icon?((0,y.openBlock)(),(0,y.createElementBlock)(y.Fragment,{key:0},[(0,y.createElementVNode)("i",{class:(0,y.normalizeClass)(`${n.item.icon}`)},null,2),(0,y.createTextVNode)("\xa0 ")],64)):(0,y.createCommentVNode)("",!0),n.item.title?((0,y.openBlock)(),(0,y.createElementBlock)("span",iV,(0,y.toDisplayString)(e.$__(n.item.title)),1)):(0,y.createCommentVNode)("",!0)]),_:1},8,["to","class"])):n.item.href?((0,y.openBlock)(),(0,y.createElementBlock)("a",{key:2,href:n.item.href,class:(0,y.normalizeClass)({disabled:n.item.disabled})},[n.item.icon?((0,y.openBlock)(),(0,y.createElementBlock)(y.Fragment,{key:0},[(0,y.createElementVNode)("i",{class:(0,y.normalizeClass)(`${n.item.icon}`)},null,2),(0,y.createTextVNode)("\xa0 ")],64)):(0,y.createCommentVNode)("",!0),n.item.title?((0,y.openBlock)(),(0,y.createElementBlock)("span",i$,(0,y.toDisplayString)(e.$__(n.item.title)),1)):(0,y.createCommentVNode)("",!0)],10,ix)):((0,y.openBlock)(),(0,y.createElementBlock)("a",iD,[n.item.icon?((0,y.openBlock)(),(0,y.createElementBlock)(y.Fragment,{key:0},[(0,y.createElementVNode)("i",{class:(0,y.normalizeClass)(`${n.item.icon}`)},null,2),(0,y.createTextVNode)("\xa0 ")],64)):(0,y.createCommentVNode)("",!0),n.item.title?((0,y.openBlock)(),(0,y.createElementBlock)("span",iT,(0,y.toDisplayString)(e.$__(n.item.title)),1)):(0,y.createCommentVNode)("",!0)]))]),n.item.children&&n.item.children.length?((0,y.openBlock)(),(0,y.createElementBlock)("ul",iB,[((0,y.openBlock)(!0),(0,y.createElementBlock)(y.Fragment,null,(0,y.renderList)(n.item.children,(e,t)=>((0,y.openBlock)(),(0,y.createBlock)(l,{item:e},null,8,["item"]))),256))])):(0,y.createCommentVNode)("",!0)])}]]),iW=(0,iK.default)({name:"Breadcrumbs",setup:()=>{let e=(0,y.inject)("navigationStore"),{breadcrumbs:t}=tR(e),{params:n}=e;return{breadcrumbs:t,params:n}},components:{NavigationItem:iZ}},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("NavigationItem");return(0,y.openBlock)(),(0,y.createElementBlock)("nav",iw,[(0,y.createElementVNode)("ol",iC,[((0,y.openBlock)(!0),(0,y.createElementBlock)(y.Fragment,null,(0,y.renderList)(e.breadcrumbs,(t,n)=>((0,y.openBlock)(),(0,y.createElementBlock)(y.Fragment,{key:n},[n<e.breadcrumbs.length-1?((0,y.openBlock)(),(0,y.createBlock)(o,{key:0,item:t,params:e.params},null,8,["item","params"])):((0,y.openBlock)(),(0,y.createBlock)(o,{key:1,item:{...t,disabled:!0,path:void 0,href:void 0},params:e.params},null,8,["item","params"]))],64))),128))])])}]]),iG={id:"shortcut",class:"shortcut"},iQ={href:"/cgi-bin/koha/help.pl",class:"toplinks",id:"helper",target:"_blank"},iX=(0,y.createElementVNode)("i",{class:"fa fa-question-circle"},null,-1),i0=(0,iK.default)({},[["render",function(e,t){return(0,y.openBlock)(),(0,y.createElementBlock)("nav",iG,[(0,y.createElementVNode)("a",iQ,[iX,(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(e.$__("Help")),1)])])}]]),i1={id:"navmenu"},i2={id:"navmenulist"};var i3=n("883"),i4={};i4.styleTagTransform=iH(),i4.setAttributes=iq(),i4.insert=iL().bind(null,"head"),i4.domAPI=iI(),i4.insertStyleElement=iU(),iO()(i3.Z,i4),i3.Z&&i3.Z.locals&&i3.Z.locals;let i5=(0,iK.default)({name:"LeftMenu",data(){return{navigationTree:this.leftNavigation}},setup:()=>{let{leftNavigation:e}=(0,y.inject)("navigationStore");return{leftNavigation:e}},async beforeMount(){this.condition&&(this.navigationTree=await this.condition(this.navigationTree))},props:{title:String,condition:Function},components:{NavigationItem:iZ}},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("NavigationItem");return(0,y.openBlock)(),(0,y.createElementBlock)("aside",null,[(0,y.createElementVNode)("div",i1,[(0,y.createElementVNode)("div",i2,[(0,y.createElementVNode)("h5",null,(0,y.toDisplayString)(e.$__(n.title)),1),(0,y.createElementVNode)("ul",null,[((0,y.openBlock)(!0),(0,y.createElementBlock)(y.Fragment,null,(0,y.renderList)(i.navigationTree,(e,t)=>((0,y.openBlock)(),(0,y.createBlock)(o,{key:t,item:e},null,8,["item"]))),128))])])])])}],["__scopeId","data-v-b0868e7e"]]),i8=e=>((0,y.pushScopeId)("data-v-030b2ccc"),e=e(),(0,y.popScopeId)(),e),i6=["innerHTML"],i7=["innerHTML"],i9={key:2,class:"modal",role:"dialog",id:"warning"},re={class:"modal-dialog"},rt={class:"modal-content modal-lg"},rn={class:"modal-header"},ra=["innerHTML"],ri={class:"modal-footer border-top-0"},rr=i8(()=>(0,y.createElementVNode)("i",{class:"fa fa-fw fa-check"},null,-1)),ro={key:3,class:"confirmation modal",role:"dialog",id:"confirmation"},rl={class:"modal-dialog"},rs={class:"modal-content modal-lg"},rc={class:"modal-header alert-warning confirmation"},rd=["innerHTML"],ru={key:0,class:"modal-body"},rp=["innerHTML"],r_={key:0,class:"inputs"},rm={ref:"confirmationform"},rf={class:"col-md-6"},rh=["for"],rg={class:"col-md-6"},rv=["id","onUpdate:modelValue","required"],rb=i8(()=>(0,y.createElementVNode)("i",{class:"fa fa-fw fa-check"},null,-1)),ry=["innerHTML"],rk=i8(()=>(0,y.createElementVNode)("i",{class:"fa fa-fw fa-remove"},null,-1)),rE=["innerHTML"],rA={key:4,class:"modal_centered"},rw={class:"spinner alert alert-warning"},rC={key:5,class:"modal_centered"},rS={class:"spinner alert alert-info"};var rN=n("4790"),rV=n.n(rN);let rx={data:()=>({fp_config:flatpickr_defaults}),methods:{submit:function(e){this.confirmation.inputs&&this.confirmation.inputs.filter(e=>e.required&&(null==e.value||""==e.value)).length?this.$refs.confirmationform.reportValidity():this.accept_callback().then(()=>{(0,y.nextTick)(()=>{$("#confirmation.modal").modal("hide")})})}},setup(){let e=(0,y.inject)("mainStore"),{message:t,error:n,warning:a,confirmation:i,accept_callback:r,is_submitting:o,is_loading:l}=tR(e),{removeMessages:s,removeConfirmationMessages:c}=e;return(0,y.watch)(a,e=>{if(!e){$("#warning.modal").modal("hide");return}(0,y.nextTick)(()=>{$("#warning.modal").modal("show")})}),(0,y.watch)(i,e=>{if(!e){$("#confirmation.modal").modal("hide");return}(0,y.nextTick)(()=>{$("#confirmation.modal").modal("show")})}),{message:t,error:n,warning:a,confirmation:i,accept_callback:r,is_submitting:o,is_loading:l,removeMessages:s,removeConfirmationMessages:c}},components:{flatPickr:rV()}};var r$=n("2706"),rD={};rD.styleTagTransform=iH(),rD.setAttributes=iq(),rD.insert=iL().bind(null,"head"),rD.domAPI=iI(),rD.insertStyleElement=iU(),iO()(r$.Z,rD),r$.Z&&r$.Z.locals&&r$.Z.locals;let rT=(0,iK.default)(rx,[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("flat-pickr");return(0,y.openBlock)(),(0,y.createElementBlock)(y.Fragment,null,[a.message?((0,y.openBlock)(),(0,y.createElementBlock)("div",{key:0,class:"alert alert-info",innerHTML:a.message},null,8,i6)):(0,y.createCommentVNode)("",!0),a.error?((0,y.openBlock)(),(0,y.createElementBlock)("div",{key:1,class:"alert alert-warning",innerHTML:a.error},null,8,i7)):(0,y.createCommentVNode)("",!0),a.warning?((0,y.openBlock)(),(0,y.createElementBlock)("div",i9,[(0,y.createElementVNode)("div",re,[(0,y.createElementVNode)("div",rt,[(0,y.createElementVNode)("div",rn,[(0,y.createElementVNode)("h1",{class:"modal-title",innerHTML:a.warning},null,8,ra)]),(0,y.createElementVNode)("div",ri,[(0,y.createElementVNode)("button",{id:"close_modal",class:"btn btn-default deny cancel",type:"button","data-bs-dismiss":"modal",onClick:t[0]||(t[0]=(...e)=>a.removeMessages&&a.removeMessages(...e))},[rr,(0,y.createTextVNode)(" "+(0,y.toDisplayString)(e.$__("Close")),1)])])])])])):(0,y.createCommentVNode)("",!0),a.confirmation?((0,y.openBlock)(),(0,y.createElementBlock)("div",ro,[(0,y.createElementVNode)("div",rl,[(0,y.createElementVNode)("div",rs,[(0,y.createElementVNode)("div",rc,[(0,y.createElementVNode)("h1",{innerHTML:a.confirmation.title},null,8,rd)]),a.confirmation.message||a.confirmation.inputs?((0,y.openBlock)(),(0,y.createElementBlock)("div",ru,[(0,y.createElementVNode)("p",{innerHTML:a.confirmation.message},null,8,rp),a.confirmation.inputs?((0,y.openBlock)(),(0,y.createElementBlock)("div",r_,[(0,y.createElementVNode)("form",rm,[((0,y.openBlock)(!0),(0,y.createElementBlock)(y.Fragment,null,(0,y.renderList)(a.confirmation.inputs,e=>((0,y.openBlock)(),(0,y.createElementBlock)("div",{class:"row",key:e.id},[(0,y.createElementVNode)("div",rf,[(0,y.createElementVNode)("label",{for:`confirmation_input_${e.id}`,class:(0,y.normalizeClass)({required:e.required})},(0,y.toDisplayString)(e.label)+":",11,rh)]),(0,y.createElementVNode)("div",rg,["Date"==e.type?((0,y.openBlock)(),(0,y.createBlock)(o,{key:0,id:`confirmation_input_${e.id}`,modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,required:e.required,config:i.fp_config},null,8,["id","modelValue","onUpdate:modelValue","required","config"])):(0,y.createCommentVNode)("",!0),"Text"==e.type?(0,y.withDirectives)(((0,y.openBlock)(),(0,y.createElementBlock)("input",{key:1,id:`confirmation_input_${e.id}`,"onUpdate:modelValue":t=>e.value=t,required:e.required},null,8,rv)),[[y.vModelText,e.value]]):(0,y.createCommentVNode)("",!0)])]))),128))],512)])):(0,y.createCommentVNode)("",!0)])):(0,y.createCommentVNode)("",!0),(0,y.createElementVNode)("div",{class:(0,y.normalizeClass)(["modal-footer",{"border-top-0":!(a.confirmation.message||a.confirmation.inputs)}])},[a.accept_callback?((0,y.openBlock)(),(0,y.createElementBlock)("button",{key:0,id:"accept_modal",class:"btn btn-default approve",onClick:t[1]||(t[1]=(...e)=>r.submit&&r.submit(...e))},[rb,(0,y.createElementVNode)("span",{innerHTML:a.confirmation.accept_label},null,8,ry)])):(0,y.createCommentVNode)("",!0),(0,y.createElementVNode)("button",{id:"close_modal",class:"btn btn-default deny cancel",type:"button","data-bs-dismiss":"modal",onClick:t[2]||(t[2]=(...e)=>a.removeConfirmationMessages&&a.removeConfirmationMessages(...e))},[rk,(0,y.createElementVNode)("span",{innerHTML:a.confirmation.cancel_label},null,8,rE)])],2)])])])):(0,y.createCommentVNode)("",!0),a.is_submitting?((0,y.openBlock)(),(0,y.createElementBlock)("div",rA,[(0,y.createElementVNode)("div",rw,(0,y.toDisplayString)(e.$__("Submitting...")),1)])):(0,y.createCommentVNode)("",!0),a.is_loading?((0,y.openBlock)(),(0,y.createElementBlock)("div",rC,[(0,y.createElementVNode)("div",rS,(0,y.toDisplayString)(e.$__("Loading...")),1)])):(0,y.createCommentVNode)("",!0)],64)}],["__scopeId","data-v-030b2ccc"]]),rB=tP("main",{state:()=>({_message:null,_error:null,_warning:null,_confirmation:null,_accept_callback:null,previousMessage:null,previousError:null,displayed_already:!1,_is_submitting:!1,_is_loading:!1}),actions:{setMessage(e,t=!1){this._error=null,this._warning=null,this._message=e,this._confirmation=null,this.displayed_already=t},setError(e,t=!0){this._error=e,this._warning=null,this._message=null,this._confirmation=null,this.displayed_already=t},setWarning(e,t=!0){this._error=null,this._warning=e,this._message=null,this._confirmation=null,this.displayed_already=t},setConfirmationDialog(e,t,n=!0){t&&(this._accept_callback=async()=>{await t(e),this.removeConfirmationMessages()}),this._confirmation=e,this.displayed_already=n},removeMessages(){this.displayed_already&&(this._error=null,this._warning=null,this._message=null,this._confirmation=null,this._accept_callback=null),this.displayed_already=!0},removeConfirmationMessages(){this._confirmation=null,this._accept_callback=null},submitting(){this._is_submitting=!0},submitted(){this._is_submitting=!1},loading(){this._is_loading=!0},loaded(){this._is_loading=!1}},getters:{error(){return this._error},warning(){return this._warning},message(){return this._message},confirmation(){return this._confirmation},accept_callback(){return this._accept_callback},is_submitting(){return this._is_submitting},is_loading(){return this._is_loading}}}),rP=function(e){let{setError:t}=rB();t("Something went wrong: "+e)},rO=function(e){let{setWarning:t}=rB();t(e)},rR=function(e){let{setMessage:t}=rB();t(e)},rI=function(){let{removeMessages:e}=rB();e()},rM=function(){let{submitting:e}=rB();e()},rL=function(){let{submitted:e}=rB();e()},rj=class e{constructor(e={}){this._baseURL=e.baseURL||"",this._headers=e.headers||{"Content-Type":"application/json;charset=utf-8"}}async _fetchJSON(e,t={},n={},a=!1,i=!1){let r,o;if(i&&rM(),await fetch(this._baseURL+e,{...n,headers:{...this._headers,...t}}).then(e=>e.ok?a?e:e.json():e.text().then(t=>{let n;if(t){let e=JSON.parse(t);n=e.error||e.errors.map(e=>e.message).join("\n")||e}else n=e.statusText;throw Error(n)})).then(e=>{r=e}).catch(e=>{o=e,rP(e)}).then(()=>{i&&rL()}),o)throw Error(o);return r}get(e={}){return this._fetchJSON(e.endpoint,e.headers,{...e.options,method:"GET"})}getAll(e={}){let t=e.endpoint+"?"+new URLSearchParams({_per_page:-1,...e.params&&e.params,...e.query&&{q:JSON.stringify(e.query)}});return this._fetchJSON(t,e.headers,{...e.options,method:"GET"})}post(e={}){let t=e.body?"string"==typeof e.body?e.body:JSON.stringify(e.body):void 0;return this._fetchJSON(e.endpoint,e.headers,{...e.options,body:t,method:"POST"},!1,!0)}put(e={}){let t=e.body?"string"==typeof e.body?e.body:JSON.stringify(e.body):void 0;return this._fetchJSON(e.endpoint,e.headers,{...e.options,body:t,method:"PUT"},!1,!0)}delete(e={}){return this._fetchJSON(e.endpoint,e.headers,{parseResponse:!1,...e.options,method:"DELETE"},!0,!0)}count(e={}){return this._fetchJSON(e.endpoint,e.headers,{},1).then(e=>{if(e)return e.headers.get("X-Total-Count")},e=>{})}patch(e={}){let t=e.body?"string"==typeof e.body?e.body:JSON.stringify(e.body):void 0;return this._fetchJSON(e.endpoint,e.headers,{...e.options,body:t,method:"PATCH"})}},rq=class e extends rj{constructor(){super({baseURL:"/api/v1/erm/"})}get config(){return{get:()=>this.get({endpoint:"config"})}}get agreements(){return{get:e=>this.get({endpoint:"agreements/"+e,headers:{"x-koha-embed":"periods,user_roles,user_roles.patron,agreement_licenses,agreement_licenses.license,agreement_relationships,agreement_relationships.related_agreement,documents,agreement_packages,agreement_packages.package,vendor,extended_attributes,+strings"}}),getAll:(e,t)=>this.getAll({endpoint:"agreements",query:e,params:t}),delete:e=>this.delete({endpoint:"agreements/"+e}),create:e=>this.post({endpoint:"agreements",body:e}),update:(e,t)=>this.put({endpoint:"agreements/"+t,body:e}),count:(e={})=>this.count({endpoint:"agreements?"+new URLSearchParams({_page:1,_per_page:1,...e&&{q:JSON.stringify(e)}})})}}get licenses(){return{get:e=>this.get({endpoint:"licenses/"+e,headers:{"x-koha-embed":"user_roles,user_roles.patron,vendor,documents,extended_attributes,+strings"}}),getAll:(e,t)=>this.getAll({endpoint:"licenses",query:e,params:t,headers:{"x-koha-embed":"vendor"}}),delete:e=>this.delete({endpoint:"licenses/"+e}),create:e=>this.post({endpoint:"licenses",body:e}),update:(e,t)=>this.put({endpoint:"licenses/"+t,body:e}),count:(e={})=>this.count({endpoint:"licenses?"+new URLSearchParams({_page:1,_per_page:1,...e&&{q:JSON.stringify(e)}})})}}get localPackages(){return{get:e=>this.get({endpoint:"eholdings/local/packages/"+e,headers:{"x-koha-embed":"package_agreements,package_agreements.agreement,resources+count,vendor,extended_attributes,+strings"}}),getAll:(e,t)=>this.getAll({endpoint:"eholdings/local/packages",query:e,params:t,headers:{"x-koha-embed":"resources+count,vendor.name"}}),delete:e=>this.delete({endpoint:"eholdings/local/packages/"+e}),create:e=>this.post({endpoint:"eholdings/local/packages",body:e}),update:(e,t)=>this.put({endpoint:"eholdings/local/packages/"+t,body:e}),count:(e={})=>this.count({endpoint:"eholdings/local/packages?"+new URLSearchParams({_page:1,_per_page:1,...e&&{q:JSON.stringify(e)}})})}}get localTitles(){return{get:e=>this.get({endpoint:"eholdings/local/titles/"+e,headers:{"x-koha-embed":"resources,resources.package"}}),delete:e=>this.delete({endpoint:"eholdings/local/titles/"+e}),create:e=>this.post({endpoint:"eholdings/local/titles",body:e}),update:(e,t)=>this.put({endpoint:"eholdings/local/titles/"+t,body:e}),count:(e={})=>this.count({endpoint:"eholdings/local/titles?"+new URLSearchParams({_page:1,_per_page:1,...e&&{q:JSON.stringify(e)}})}),import:e=>this.post({endpoint:"eholdings/local/titles/import",body:e}),import_kbart:e=>this.post({endpoint:"eholdings/local/titles/import_kbart",body:e})}}get localResources(){return{get:e=>this.get({endpoint:"eholdings/local/resources/"+e,headers:{"x-koha-embed":"title,package,vendor"}})}}get EBSCOPackages(){return{get:e=>this.get({endpoint:"eholdings/ebsco/packages/"+e,headers:{"x-koha-embed":"package_agreements,package_agreements.agreement,resources+count,vendor"}}),patch:(e,t)=>this.patch({endpoint:"eholdings/ebsco/packages/"+e,body:t})}}get EBSCOTitles(){return{get:e=>this.get({endpoint:"eholdings/ebsco/titles/"+e,headers:{"x-koha-embed":"resources,resources.package"}})}}get EBSCOResources(){return{get:e=>this.get({endpoint:"eholdings/ebsco/resources/"+e,headers:{"x-koha-embed":"title,package,vendor"}}),patch:(e,t)=>this.patch({endpoint:"eholdings/ebsco/resources/"+e,body:t})}}get usage_data_providers(){return{get:e=>this.get({endpoint:"usage_data_providers/"+e}),getAll:e=>this.getAll({endpoint:"usage_data_providers",query:e,query:e}),delete:e=>this.delete({endpoint:"usage_data_providers/"+e}),create:e=>this.post({endpoint:"usage_data_providers",body:e}),update:(e,t)=>this.put({endpoint:"usage_data_providers/"+t,body:e}),process_SUSHI_response:(e,t)=>this.post({endpoint:"usage_data_providers/"+e+"/process_SUSHI_response",body:t}),process_COUNTER_file:(e,t)=>this.post({endpoint:"usage_data_providers/"+e+"/process_COUNTER_file",body:t}),test:e=>this.get({endpoint:"usage_data_providers/"+e+"/test_connection"}),count:(e={})=>this.count({endpoint:"usage_data_providers?"+new URLSearchParams({_page:1,_per_page:1,...e&&{q:JSON.stringify(e)}})})}}get counter_files(){return{delete:e=>this.delete({endpoint:"counter_files/"+e}),count:(e={})=>this.count({endpoint:"counter_files?"+new URLSearchParams({_page:1,_per_page:1,...e&&{q:JSON.stringify(e)}})})}}get default_usage_reports(){return{getAll:e=>this.get({endpoint:"default_usage_reports",query:e}),create:e=>this.post({endpoint:"default_usage_reports",body:e}),delete:e=>this.delete({endpoint:"default_usage_reports/"+e})}}get usage_platforms(){return{getAll:e=>this.getAll({endpoint:"usage_platforms",query:e}),count:(e={})=>this.count({endpoint:"usage_platforms?"+new URLSearchParams({_page:1,_per_page:1,...e&&{q:JSON.stringify(e)}})})}}get usage_items(){return{getAll:e=>this.getAll({endpoint:"usage_items",query:e}),count:(e={})=>this.count({endpoint:"usage_items?"+new URLSearchParams({_page:1,_per_page:1,...e&&{q:JSON.stringify(e)}})})}}get usage_databases(){return{getAll:e=>this.getAll({endpoint:"usage_databases",query:e}),count:(e={})=>this.count({endpoint:"usage_databases?"+new URLSearchParams({_page:1,_per_page:1,...e&&{q:JSON.stringify(e)}})})}}get usage_titles(){return{getAll:e=>this.getAll({endpoint:"usage_titles",query:e}),count:(e={})=>this.count({endpoint:"usage_titles?"+new URLSearchParams({_page:1,_per_page:1,...e&&{q:JSON.stringify(e)}})})}}get counter_registry(){return{getAll:e=>this.getAll({endpoint:"counter_registry",query:e})}}get sushi_service(){return{getAll:e=>this.getAll({endpoint:"sushi_service",query:e})}}},rF=class e extends rj{constructor(){super({baseURL:"/api/v1/acquisitions/"})}get vendors(){return{getAll:(e,t)=>this.getAll({endpoint:"vendors",query:e,params:t,headers:{"x-koha-embed":"aliases"}})}}},rU=class e extends rj{constructor(){super({baseURL:"/api/v1/authorised_value_categories"})}get values(){return{get:e=>this.get({endpoint:`/${e}/authorised_values`}),getCategoriesWithValues:e=>this.get({endpoint:'?q={"me.category_name":['+e.join(", ")+"]}",headers:{"x-koha-embed":"authorised_values"}})}}},rz=class e extends rj{constructor(){super({baseURL:"/api/v1/"})}get items(){return{getAll:(e,t,n)=>this.getAll({endpoint:"items",query:e,params:t,headers:n})}}},rH=class e extends rj{constructor(){super({baseURL:"/api/v1/record_sources"})}get record_sources(){return{create:e=>this.post({endpoint:"",body:e}),delete:e=>this.delete({endpoint:"/"+e}),update:(e,t)=>this.put({endpoint:"/"+t,body:e}),get:e=>this.get({endpoint:"/"+e}),getAll:(e,t)=>this.getAll({endpoint:"/",query:e,params:t,headers:{}}),count:(e={})=>this.count({endpoint:"?"+new URLSearchParams({_page:1,_per_page:1,...e&&{q:JSON.stringify(e)}})})}}},rY=class e extends rj{constructor(){super({baseURL:"/cgi-bin/koha/svc/config/systempreferences"})}get sysprefs(){return{get:e=>this.get({endpoint:"/?pref="+e}),update:(e,t)=>this.post({endpoint:"",body:"pref_%s=%s&csrf_token=%s".format(e,t,csrf_token),headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"}})}}},rJ=class e extends rj{constructor(){super({baseURL:"/api/v1/preservation/"})}get config(){return{get:()=>this.get({endpoint:"config"})}}get trains(){return{get:e=>this.get({endpoint:"trains/"+e,headers:{"x-koha-embed":"default_processing,default_processing.attributes,items,items.attributes,items.attributes+strings,items.attributes.processing_attribute,items.processing"}}),getAll:(e={})=>this.get({endpoint:"trains?"+new URLSearchParams({_per_page:-1,...e&&{q:JSON.stringify(e)}})}),delete:e=>this.delete({endpoint:"trains/"+e}),create:e=>this.post({endpoint:"trains",body:e}),update:(e,t)=>this.put({endpoint:"trains/"+t,body:e}),count:(e={})=>this.count({endpoint:"trains?"+new URLSearchParams({_page:1,_per_page:1,...e&&{q:JSON.stringify(e)}})})}}get processings(){return{get:e=>this.get({endpoint:"processings/"+e,headers:{"x-koha-embed":"attributes"}}),getAll:e=>this.get({endpoint:"processings?"+new URLSearchParams({_per_page:-1,...e&&{q:JSON.stringify(e)}})}),delete:e=>this.delete({endpoint:"processings/"+e}),create:e=>this.post({endpoint:"processings",body:e}),update:(e,t)=>this.put({endpoint:"processings/"+t,body:e}),count:(e={})=>this.count({endpoint:"processings?"+new URLSearchParams({_page:1,_per_page:1,...e&&{q:JSON.stringify(e)}})})}}get train_items(){return{get:(e,t)=>this.get({endpoint:"trains/"+e+"/items/"+t,headers:{"x-koha-embed":"attributes,catalogue_item,catalogue_item.biblio"}}),delete:(e,t)=>this.delete({endpoint:"trains/"+e+"/items/"+t}),create:(e,t)=>this.post({endpoint:"trains/"+t+"/items",body:e}),createAll:(e,t)=>this.post({endpoint:"trains/"+t+"/items/batch",body:e}),copy:(e,t,n)=>this.post({endpoint:"trains/"+t+"/items/"+n+"/copy",body:{train_id:e}}),update:(e,t,n)=>this.put({endpoint:"trains/"+t+"/items/"+n,body:e}),count:(e,t={})=>this.count({endpoint:"trains/"+e+"/items?"+new URLSearchParams({_page:1,_per_page:1,...t&&{q:JSON.stringify(t)}})})}}get waiting_list_items(){return{get_from_barcode:e=>{let t={_page:1,_per_page:1,q:JSON.stringify({"me.barcode":e})};return this.get({endpoint:"waiting-list/items?"+new URLSearchParams(t),headers:{"x-koha-embed":"biblio"}}).then(e=>e.length?e[0]:void 0)},delete:e=>this.delete({endpoint:"waiting-list/items/"+e}),createAll:e=>this.post({endpoint:"waiting-list/items",body:e}),count:(e={})=>this.count({endpoint:"waiting-list/items?"+new URLSearchParams({_page:1,_per_page:1,...e&&{q:JSON.stringify(e)}})})}}},rK={erm:new rq,patron:new class e extends rj{constructor(){super({baseURL:"/api/v1/"})}get patrons(){return{get:e=>this.get({endpoint:"patrons/"+e})}}},acquisition:new rF,additional_fields:new class e extends rj{constructor(){super({baseURL:"/api/v1/extended_attribute_types"})}get additional_fields(){return{getAll:e=>this.get({endpoint:"?resource_type="+e})}}},authorised_values:new rU,item:new rz,sysprefs:new rY,preservation:new rJ,record_sources:new rH};var rZ=n("4740"),rW={};rW.styleTagTransform=iH(),rW.setAttributes=iq(),rW.insert=iL().bind(null,"head"),rW.domAPI=iI(),rW.insertStyleElement=iU(),iO()(rZ.Z,rW),rZ.Z&&rZ.Z.locals&&rZ.Z.locals;var rG=n("7689"),rQ={};rQ.styleTagTransform=iH(),rQ.setAttributes=iq(),rQ.insert=iL().bind(null,"head"),rQ.domAPI=iI(),rQ.insertStyleElement=iU(),iO()(rG.Z,rQ),rG.Z&&rG.Z.locals&&rG.Z.locals;let rX=(0,iK.default)({setup(){let e=(0,y.inject)("vendorStore"),t=(0,y.inject)("AVStore"),{loading:n,loaded:a,setError:i}=(0,y.inject)("mainStore"),r=(0,y.inject)("ERMStore"),{config:o}=tR(r);return{vendorStore:e,AVStore:t,ERMStore:r,config:o,setError:i,loading:n,loaded:a}},data:()=>({component:"agreement",initialized:!1}),beforeCreate(){this.loading();let e=()=>{let e=[];rK.acquisition.vendors.getAll().then(e=>{this.vendorStore.vendors=e},e=>{});let t=rK.authorised_values,n={av_agreement_statuses:"ERM_AGREEMENT_STATUS",av_agreement_closure_reasons:"ERM_AGREEMENT_CLOSURE_REASON",av_agreement_renewal_priorities:"ERM_AGREEMENT_RENEWAL_PRIORITY",av_user_roles:"ERM_USER_ROLES",av_license_types:"ERM_LICENSE_TYPE",av_license_statuses:"ERM_LICENSE_STATUS",av_agreement_license_statuses:"ERM_AGREEMENT_LICENSE_STATUS",av_agreement_license_location:"ERM_AGREEMENT_LICENSE_LOCATION",av_package_types:"ERM_PACKAGE_TYPE",av_package_content_types:"ERM_PACKAGE_CONTENT_TYPE",av_title_publication_types:"ERM_TITLE_PUBLICATION_TYPE",av_report_types:"ERM_REPORT_TYPES",av_platform_reports_metrics:"ERM_PLATFORM_REPORTS_METRICS",av_database_reports_metrics:"ERM_DATABASE_REPORTS_METRICS",av_title_reports_metrics:"ERM_TITLE_REPORTS_METRICS",av_item_reports_metrics:"ERM_ITEM_REPORTS_METRICS"},a=Object.keys(n).map(function(e){return'"'+n[e]+'"'});return e.push(t.values.getCategoriesWithValues(a).then(e=>{Object.entries(n).forEach(([t,n])=>{let a=e.find(e=>e.category_name==n);this.AVStore[t]=a.authorised_values})})),Promise.all(e)};rK.erm.config.get().then(t=>(this.config=t,1!=this.config.settings.ERMModule)?this.setError(this.$__("The e-resource management module is disabled, turn on <a href='/cgi-bin/koha/admin/preferences.pl?tab=&op=search&searchfield=ERMModule'>ERMModule</a> to use it"),!1):e()).then(()=>{this.loaded(),this.initialized=!0})},methods:{async filterProviders(e){let t=e.find(e=>"/cgi-bin/koha/erm/eholdings"===e.path),n=this.config.settings.ERMProviders;return t.children=t.children.filter(e=>n.map(e=>`${t.path}/${e}`).includes(e.path)),e}},components:{Breadcrumbs:iW,Dialog:rT,Help:i0,LeftMenu:i5}},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("Breadcrumbs"),l=(0,y.resolveComponent)("Help"),s=(0,y.resolveComponent)("Dialog"),c=(0,y.resolveComponent)("router-view"),d=(0,y.resolveComponent)("LeftMenu");return i.initialized&&1==a.config.settings.ERMModule?((0,y.openBlock)(),(0,y.createElementBlock)("div",ig,[(0,y.createElementVNode)("div",iv,[(0,y.createVNode)(o),(0,y.createVNode)(l)]),(0,y.createElementVNode)("div",ib,[(0,y.createElementVNode)("div",iy,[(0,y.createElementVNode)("div",ik,[(0,y.createElementVNode)("main",null,[(0,y.createVNode)(s),(0,y.createVNode)(c)])]),(0,y.createElementVNode)("div",iE,[(0,y.createVNode)(d,{title:e.$__("E-resource management"),condition:r.filterProviders},null,8,["title","condition"])])])])])):((0,y.openBlock)(),(0,y.createElementBlock)("div",iA,[(0,y.createVNode)(s)]))}]]),r0=(0,iK.default)({data:()=>({}),methods:{},components:{}},[["render",function(e,t,n,a,i,r){return null}]]),r1={key:0},r2={key:1,id:"agreements_list"},r3={key:1,class:"filters"},r4={for:"expired_filter"},r5={for:"by_mine_filter"},r8=["value"],r6={key:2,class:"page-section"},r7={key:3,class:"alert alert-info"},r9={id:"toolbar",class:"btn-toolbar"},oe=(0,iK.default)({name:"Toolbar"},[["render",function(e,t,n,a,i,r){return(0,y.openBlock)(),(0,y.createElementBlock)("div",r9,[(0,y.renderSlot)(e.$slots,"default")])}]]),ot=(0,iK.default)({props:{to:{type:[String,Object]},icon:{type:String,required:!1},title:{type:String}},name:"Toolbar"},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("font-awesome-icon"),l=(0,y.resolveComponent)("router-link");return(0,y.openBlock)(),(0,y.createBlock)(l,{to:n.to,class:"btn btn-default"},{default:(0,y.withCtx)(()=>[n.icon?((0,y.openBlock)(),(0,y.createBlock)(o,{key:0,icon:n.icon},null,8,["icon"])):(0,y.createCommentVNode)("",!0),(0,y.createTextVNode)(" "+(0,y.toDisplayString)(n.title),1)]),_:1},8,["to"])}]]);function on(e){(0,y.onBeforeUnmount)(()=>{$.fn.DataTable.isDataTable("#"+e)&&$("#"+e).DataTable().destroy(!0)})}function oa(e){return Object.entries(e).map(([e,t])=>t?e+"="+t:void 0).filter(e=>void 0!==e).join("&")}function oi(e,t){let n=oa(t);return e+(n.length?"?"+n:"")}let or=(0,y.defineComponent)({name:"DataTable",expose:["dt"],data:()=>({_dt:null,oldData:[]}),computed:{},methods:{dt(){return this._dt},saveOld(e){this.oldData=e.value?e.value.slice():e.slice()}},mounted(){let e=this.$el.querySelector("table"),t=this.options;if(this.data&&(t.data=this.data,this.saveOld(t.data)),this.columns&&(t.columns=this.columns),this.ajax&&(t.ajax=this.ajax),!b)throw Error("DataTables library not set. See https://datatables.net/tn/19 for details.");this._dt=new b(e,t)},beforeUnmount(){this._dt.destroy(!0)},props:{ajax:null,class:{type:String,default:""},columns:{type:Array,default:null},data:{type:Array,default:null},options:{default:{}}},watch:{data:{handler(e){let t=this._dt.data().toArray();for(let n of e)!t.includes(n)&&this._dt.row.add(n);for(let n of t)!e.includes(n)&&this._dt.row((e,t)=>t===n).remove();this._dt.rows().invalidate().draw(!1),this.saveOld(e)},deep:!0}}});or.use=function(e){b=e};or.render=function(e,t,n,a,i,r){return t[0]||((0,y.setBlockTracking)(-1),t[0]=(0,y.createElementVNode)("div",{class:"datatable"},[(0,y.createElementVNode)("table",{class:(0,y.normalizeClass)(e.class)},[(0,y.renderSlot)(e.$slots,"default")],2)]),(0,y.setBlockTracking)(1),t[0])};var oo=(or.install=e=>{e.component("Datatables.netVue",or)},or),ol=DataTable,os=n.n(ol);oo.use(os());let oc=(0,iK.default)({name:"KohaTable",data(){let e=_dt_buttons({settings:this.options,table_settings:this.table_settings});if(this.add_filters&&(this.options.orderCellsTop=!0),this.table_settings){let e=_dt_save_restore_state(this.table_settings);this.options.stateSave=e.stateSave,this.options.stateSaveCallback=e.stateSaveCallback,this.options.stateLoadCallback=e.stateLoadCallback,this.table_settings.hasOwnProperty("default_display_length")&&null!=this.table_settings.default_display_length&&(this.options.pageLength=this.table_settings.default_display_length),this.table_settings.hasOwnProperty("default_sort_order")&&null!=this.table_settings.default_sort_order&&(this.options.order=[[this.table_settings.default_sort_order,"asc"]])}return{data:[],tableColumns:this.columns,allOptions:{paging:!0,serverSide:!0,searching:!0,pagingType:"full_numbers",processing:!0,autoWidth:!1,ajax:{url:"function"==typeof this.url?this.url():this.url,..._dt_default_ajax({options:{...this.options,columns:this.columns},default_filters:this.default_filters})},buttons:e,search:{search:this.$route.query.q},columnDefs:[{targets:"_all",render:function(e,t,n,a){return"display"==t?escape_str(e):e}}],...this.options}}},setup:()=>({dataTablesDefaults}),methods:{redraw:function(e){this.$refs.table.dt().ajax.url(e).draw()},useTableObject:function(){return this.$refs.table.dt()}},beforeMount(){this.actions.hasOwnProperty("-1")&&(this.searchable_additional_fields.length&&this.searchable_additional_fields.forEach(e=>{var t,n=(t=e,function(e,n,a,i){return a._strings.additional_field_values.filter(e=>e.field_id==t.extended_attribute_type_id).map(e=>e.value_str)});if(this.tableColumns.push({name:e.name,data:"extended_attributes",datatype:"related-object",related:"extended_attributes",relatedKey:"field_id",relatedValue:e.extended_attribute_type_id,relatedSearchOn:"value",className:"searchable-additional-column-"+e.extended_attribute_type_id,title:e.name,searchable:!0,sortable:!1,render:n}),e.authorised_value_category_name){let t=this.searchable_av_options[e.authorised_value_category_name];t.map(e=>(e._id=e.value,e._str=e.label,e)),this.filters_options[this.tableColumns.length-1]=t}}),this.tableColumns=[...this.tableColumns,{name:"actions",className:"noExport",title:this.$__("Actions"),searchable:!1,sortable:!1,render:(e,t,n)=>{let a=[];return this.actions["-1"].forEach(e=>{if("object"==typeof e){let t=Object.keys(e)[0],i=!0;"function"==typeof e[t].should_display&&(i=e[t].should_display(n)),i&&a.push(`<a class="${t} btn btn-default btn-xs" role="button"><i class="${e[t].icon}"></i> ${e[t].text}</a>`)}else"edit"==e?a.push('<a class="edit btn btn-default btn-xs" role="button"><i class="fa fa-pencil"></i> '+this.$__("Edit")+"</a>"):"delete"==e?a.push('<a class="delete btn btn-default btn-xs" role="button"><i class="fa fa-trash"></i> '+this.$__("Delete")+"</a>"):"remove"==e&&a.push('<a class="remove btn btn-default btn-xs" role="button"><i class="fa fa-remove"></i> '+this.$__("Remove")+"</a>")}),a.join(" ")}}])},mounted(){let e=this.$refs.table.dt(),t=e.table().node(),n=this.add_filters,a=this.filters_options;if(n&&_dt_add_filters(t,e,a),e.on("column-visibility.dt",function(){n&&_dt_add_filters(t,e,a)}),e.on("search.dt",function(e,t){toggledClearFilter(t.oPreviousSearch.sSearch,t.nTable.id)}),Object.keys(this.actions).length){let t=this;e.on("draw",()=>{let n=e.rows().data();Object.entries(this.actions).forEach(([a,i])=>{e.column(a).nodes().to$().each(function(a){let r=n[a];i.forEach(n=>{let a="object"==typeof n?Object.keys(n)[0]:n;$("."+a,this).on("click",n=>{t.$emit(a,r,e,n)})})})})})}},beforeUnmount(){this.$refs.table.dt().destroy()},components:{DataTable:oo},props:{url:{type:[String,Function],default:""},columns:{type:Array,default:[]},actions:{type:Object,default:{}},options:{type:Object,default:{}},default_filters:{type:Object,required:!1},table_settings:{type:Object,required:!1},add_filters:{type:Boolean,required:!1},filters_options:{type:Object,required:!1},searchable_additional_fields:{type:Array,required:!1,default:[]},searchable_av_options:{type:Array,required:!1,default:[]}}},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("DataTable");return(0,y.openBlock)(),(0,y.createBlock)(o,{columns:i.tableColumns,options:{...a.dataTablesDefaults,...i.allOptions},data:i.data,ref:"table"},{default:(0,y.withCtx)(()=>[(0,y.renderSlot)(e.$slots,"default")]),_:3},8,["columns","options","data"])}]]),od={setup(){let{vendors:e}=tR((0,y.inject)("vendorStore")),{get_lib_from_av:t,map_av_dt_filter:n}=(0,y.inject)("AVStore"),{setConfirmationDialog:a,setMessage:i}=(0,y.inject)("mainStore"),r=(0,y.ref)();return{vendors:e,get_lib_from_av:t,map_av_dt_filter:n,logged_in_user,table:r,setConfirmationDialog:a,setMessage:i,escape_str,agreement_table_settings,filters:(0,y.reactive)({by_expired:!1,max_expiration_date:"",by_mine:!1})}},data:function(){this.filters.by_expired="true"===this.$route.query.by_expired,this.filters.by_mine=this.$route.query.by_mine||!1,this.filters.max_expiration_date=this.$route.query.max_expiration_date||"";let e=this.filters,t=this.logged_in_user;return{fp_config:flatpickr_defaults,agreement_count:0,initialized:!1,searchable_additional_fields:[],searchable_av_options:[],tableOptions:{columns:this.getTableColumns(),options:{embed:"user_roles,vendor,extended_attributes,+strings"},url:()=>this.table_url(),table_settings:this.agreement_table_settings,add_filters:!0,filters_options:{1:()=>this.vendors.map(e=>(e._id=e.id,e._str=e.name,e)),3:()=>this.map_av_dt_filter("av_agreement_statuses"),4:()=>this.map_av_dt_filter("av_agreement_closure_reasons"),5:[{_id:0,_str:this.$__("No")},{_id:1,_str:this.$__("Yes")}],6:()=>this.map_av_dt_filter("av_agreement_renewal_priorities")},actions:{0:["show"],"-1":this.embedded?[{select:{text:this.$__("Select"),icon:"fa fa-check"}}]:["edit","delete"]},default_filters:{"user_roles.user_id":function(){return e.by_mine?t.borrowernumber:""}}},before_route_entered:!1,building_table:!1}},beforeRouteEnter(e,t,n){n(e=>{e.getAgreementCount().then(()=>e.getSearchableAdditionalFields().then(()=>e.getSearchableAVOptions().then(()=>e.initialized=!0)))})},methods:{async getAgreementCount(){let e=rK.erm;await e.agreements.count().then(e=>{this.agreement_count=e},e=>{})},async getSearchableAdditionalFields(){let e=rK.additional_fields;await e.additional_fields.getAll("agreement").then(e=>{this.searchable_additional_fields=e.filter(e=>e.searchable)},e=>{})},async getSearchableAVOptions(){let e=rK.authorised_values,t=this.searchable_additional_fields.filter(e=>e.authorised_value_category_name).map(e=>e.authorised_value_category_name);await e.values.getCategoriesWithValues([...new Set(t.map(e=>'"'+e+'"'))]).then(e=>{t.forEach(t=>{let n=e.find(e=>e.category_name==t);this.searchable_av_options[t]=n.authorised_values.map(e=>({value:e.value,label:e.description}))})})},doShow:function({agreement_id:e},t,n){n.preventDefault(),this.$router.push({name:"AgreementsShow",params:{agreement_id:e}})},doEdit:function({agreement_id:e},t,n){this.$router.push({name:"AgreementsFormAddEdit",params:{agreement_id:e}})},doDelete:function(e,t,n){this.setConfirmationDialog({title:this.$__("Are you sure you want to remove this agreement?"),message:e.name,accept_label:this.$__("Yes, delete"),cancel_label:this.$__("No, do not delete")},()=>{rK.erm.agreements.delete(e.agreement_id).then(n=>{this.setMessage(this.$__("Agreement %s deleted").format(e.name),!0),t.draw()},e=>{})})},doSelect:function(e,t,n){this.$emit("select-agreement",e.agreement_id),this.$emit("close")},get_today_date:function(){return new Date().toISOString().substring(0,10)},table_url:function(){let e="/api/v1/erm/agreements";return this.filters.by_expired&&(e+="?max_expiration_date="+this.filters.max_expiration_date),e},filter_table:async function(){if(!this.embedded){this.filters.by_expired&&!this.filters.max_expiration_date&&(this.filters.max_expiration_date=this.get_today_date()),!this.filters.by_expired&&(this.filters.max_expiration_date="");let{href:e}=this.$router.resolve({name:"AgreementsList"}),t=oi(e,this.filters);this.$router.push(t)}this.$refs.table.redraw(this.table_url())},getTableColumns:function(){let e=this.get_lib_from_av,t=this.escape_str;return[{title:__("Name"),data:"me.name:me.agreement_id",searchable:!0,orderable:!0,render:function(e,n,a,i){return'<a href="/cgi-bin/koha/erm/agreements/'+a.agreement_id+'" class="show">'+t(`${a.name} (#${a.agreement_id})`)+"</a>"}},{title:__("Vendor"),data:"vendor_id",searchable:!0,orderable:!0,render:function(e,n,a,i){return void 0!=a.vendor_id?'<a href="/cgi-bin/koha/acqui/supplier.pl?booksellerid='+a.vendor_id+'">'+t(a.vendor.name)+"</a>":""}},{title:__("Description"),data:"description",searchable:!0,orderable:!0},{title:__("Status"),data:"status",searchable:!0,orderable:!0,render:function(n,a,i,r){return t(e("av_agreement_statuses",i.status))}},{title:__("Closure reason"),data:"closure_reason",searchable:!0,orderable:!0,render:function(n,a,i,r){return t(e("av_agreement_closure_reasons",i.closure_reason))}},{title:__("Is perpetual"),data:"is_perpetual",searchable:!0,orderable:!0,render:function(e,n,a,i){return t(a.is_perpetual?__("Yes"):__("No"))}},{title:__("Renewal priority"),data:"renewal_priority",searchable:!0,orderable:!0,render:function(n,a,i,r){return t(e("av_agreement_renewal_priorities",i.renewal_priority))}}]}},mounted(){this.embedded&&this.getAgreementCount().then(()=>this.initialized=!0)},watch:{"filters.by_expired":function(e,t){e?this.filters.max_expiration_date=this.get_today_date():this.filters.max_expiration_date=""}},components:{flatPickr:rV(),Toolbar:oe,ToolbarButton:ot,KohaTable:oc},props:{embedded:{type:Boolean,default:!1}},name:"AgreementsList",emits:["select-agreement","close"]};var ou=n("9437"),op={};op.styleTagTransform=iH(),op.setAttributes=iq(),op.insert=iL().bind(null,"head"),op.domAPI=iI(),op.insertStyleElement=iU(),iO()(ou.Z,op),ou.Z&&ou.Z.locals&&ou.Z.locals;let o_=(0,iK.default)(od,[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("ToolbarButton"),l=(0,y.resolveComponent)("Toolbar"),s=(0,y.resolveComponent)("flat-pickr"),c=(0,y.resolveComponent)("KohaTable");return e.initialized?((0,y.openBlock)(),(0,y.createElementBlock)("div",r2,[n.embedded?(0,y.createCommentVNode)("",!0):((0,y.openBlock)(),(0,y.createBlock)(l,{key:0},{default:(0,y.withCtx)(()=>[(0,y.createVNode)(o,{to:{name:"AgreementsFormAdd"},icon:"plus",title:e.$__("New agreement")},null,8,["title"])]),_:1})),e.agreement_count>0?((0,y.openBlock)(),(0,y.createElementBlock)("fieldset",r3,[(0,y.createElementVNode)("label",r4,(0,y.toDisplayString)(e.$__("Filter by expired"))+":",1),(0,y.withDirectives)((0,y.createElementVNode)("input",{type:"checkbox",id:"expired_filter","onUpdate:modelValue":t[0]||(t[0]=e=>a.filters.by_expired=e),onKeyup:t[1]||(t[1]=(0,y.withKeys)((...e)=>r.filter_table&&r.filter_table(...e),["enter"]))},null,544),[[y.vModelCheckbox,a.filters.by_expired]]),(0,y.createTextVNode)(" "+(0,y.toDisplayString)(e.$__("on"))+" ",1),(0,y.createVNode)(s,{id:"max_expiration_date_filter",modelValue:a.filters.max_expiration_date,"onUpdate:modelValue":t[2]||(t[2]=e=>a.filters.max_expiration_date=e),config:e.fp_config,disabled:!a.filters.by_expired},null,8,["modelValue","config","disabled"]),(0,y.createElementVNode)("label",r5,(0,y.toDisplayString)(e.$__("Show mine only"))+":",1),(0,y.withDirectives)((0,y.createElementVNode)("input",{type:"checkbox",id:"by_mine_filter","onUpdate:modelValue":t[3]||(t[3]=e=>a.filters.by_mine=e),onKeyup:t[4]||(t[4]=(0,y.withKeys)((...e)=>r.filter_table&&r.filter_table(...e),["enter"]))},null,544),[[y.vModelCheckbox,a.filters.by_mine]]),(0,y.createElementVNode)("input",{onClick:t[5]||(t[5]=(...e)=>r.filter_table&&r.filter_table(...e)),id:"filter_table",type:"button",value:e.$__("Filter")},null,8,r8)])):(0,y.createCommentVNode)("",!0),e.agreement_count>0?((0,y.openBlock)(),(0,y.createElementBlock)("div",r6,[(0,y.createVNode)(c,(0,y.mergeProps)({ref:"table"},e.tableOptions,{searchable_additional_fields:e.searchable_additional_fields,searchable_av_options:e.searchable_av_options,onShow:r.doShow,onEdit:r.doEdit,onDelete:r.doDelete,onSelect:r.doSelect}),null,16,["searchable_additional_fields","searchable_av_options","onShow","onEdit","onDelete","onSelect"])])):((0,y.openBlock)(),(0,y.createElementBlock)("div",r7,(0,y.toDisplayString)(e.$__("There are no agreements defined")),1))])):((0,y.openBlock)(),(0,y.createElementBlock)("div",r1,(0,y.toDisplayString)(e.$__("Loading")),1))}],["__scopeId","data-v-65af96c3"]]),om={key:0},of={key:1,id:"agreements_show"},oh={class:"rows"},og={key:0},ov=["href"],ob={key:0},oy={key:1},ok={key:0},oE={key:1},oA={key:2},ow={key:3},oC={id:"agreement_relationships"},oS={key:4},oN={id:"agreement_packages"},oV={key:0},ox={key:1},o$={key:5},oD={id:"agreement_documents"},oT={key:0},oB={key:0},oP=["href"],oO=(e=>((0,y.pushScopeId)("data-v-45b2b965"),e=e(),(0,y.popScopeId)(),e))(()=>(0,y.createElementVNode)("i",{class:"fa fa-download"},null,-1)),oR={key:1},oI={key:2},oM={key:3},oL={class:"action"},oj={key:0,class:"rows",id:"additional_fields"},oq=["for"],oF=(0,iK.default)({data:()=>({fields_to_display:[]}),name:"AdditionalFieldsDisplay",props:{resource_type:String,additional_field_values:Array}},[["render",function(e,t,n,a,i,r){return n.additional_field_values.length?((0,y.openBlock)(),(0,y.createElementBlock)("fieldset",oj,[(0,y.createElementVNode)("legend",null,(0,y.toDisplayString)(e.$__("Additional fields")),1),(0,y.createElementVNode)("ol",null,[((0,y.openBlock)(!0),(0,y.createElementBlock)(y.Fragment,null,(0,y.renderList)(n.additional_field_values,e=>((0,y.openBlock)(),(0,y.createElementBlock)("li",{key:e.id},[(0,y.createElementVNode)("label",{for:"additional_field_"+e.field_id},(0,y.toDisplayString)(e.field_label)+": ",9,oq),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(e.value_str),1)]))),128))])])):(0,y.createCommentVNode)("",!0)}]]);var oU=n("5423"),oz={};oz.styleTagTransform=iH(),oz.setAttributes=iq(),oz.insert=iL().bind(null,"head"),oz.domAPI=iI(),oz.insertStyleElement=iU(),iO()(oU.Z,oz),oU.Z&&oU.Z.locals&&oU.Z.locals;let oH=(0,iK.default)({setup(){let e=$date,t=$patron_to_html,{setConfirmationDialog:n,setMessage:a}=(0,y.inject)("mainStore"),{get_lib_from_av:i}=(0,y.inject)("AVStore");return{format_date:e,patron_to_html:t,get_lib_from_av:i,setConfirmationDialog:n,setMessage:a}},data:()=>({agreement:{agreement_id:null,name:"",vendor_id:null,vendor:null,description:"",status:"",closure_reason:"",is_perpetual:!1,renewal_priority:"",license_info:"",periods:[],user_roles:[],extended_attributes:[],_strings:[],agreement_packages:[]},initialized:!1}),beforeRouteEnter(e,t,n){n(t=>{t.getAgreement(e.params.agreement_id)})},beforeRouteUpdate(e,t){this.agreement=this.getAgreement(e.params.agreement_id)},methods:{async getAgreement(e){rK.erm.agreements.get(e).then(e=>{this.agreement=e,this.initialized=!0},e=>{})},delete_agreement:function(e,t){this.setConfirmationDialog({title:this.$__("Are you sure you want to remove this agreement?"),message:t,accept_label:this.$__("Yes, delete"),cancel_label:this.$__("No, do not delete")},()=>{rK.erm.agreements.delete(e).then(e=>{this.setMessage(this.$__("Agreement %s deleted").format(t),!0),this.$router.push({name:"AgreementsList"})},e=>{})})}},components:{Toolbar:oe,ToolbarButton:ot,AdditionalFieldsDisplay:oF},name:"AgreementsShow"},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("ToolbarButton"),l=(0,y.resolveComponent)("font-awesome-icon"),s=(0,y.resolveComponent)("Toolbar"),c=(0,y.resolveComponent)("router-link"),d=(0,y.resolveComponent)("AdditionalFieldsDisplay");return i.initialized?((0,y.openBlock)(),(0,y.createElementBlock)("div",of,[(0,y.createVNode)(s,null,{default:(0,y.withCtx)(()=>[(0,y.createVNode)(o,{to:{name:"AgreementsFormAddEdit",params:{agreement_id:i.agreement.agreement_id}},icon:"pencil",title:e.$__("Edit")},null,8,["to","title"]),(0,y.createElementVNode)("a",{onClick:t[0]||(t[0]=e=>r.delete_agreement(i.agreement.agreement_id,i.agreement.name)),class:"btn btn-default"},[(0,y.createVNode)(l,{icon:"trash"}),(0,y.createTextVNode)(" "+(0,y.toDisplayString)(e.$__("Delete")),1)])]),_:1}),(0,y.createElementVNode)("h2",null,(0,y.toDisplayString)(e.$__("Agreement #%s").format(i.agreement.agreement_id)),1),(0,y.createElementVNode)("div",null,[(0,y.createElementVNode)("fieldset",oh,[(0,y.createElementVNode)("ol",null,[(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Agreement name"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.agreement.name),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Vendor"))+":",1),i.agreement.vendor_id?((0,y.openBlock)(),(0,y.createElementBlock)("span",og,[(0,y.createElementVNode)("a",{href:`/cgi-bin/koha/acqui/booksellers.pl?booksellerid=${i.agreement.vendor_id}`},(0,y.toDisplayString)(i.agreement.vendor.name),9,ov)])):(0,y.createCommentVNode)("",!0)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Description"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.agreement.description),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Status"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(a.get_lib_from_av("av_agreement_statuses",i.agreement.status)),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Closure reason"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(a.get_lib_from_av("av_agreement_closure_reasons",i.agreement.closure_reason)),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Is perpetual"))+":",1),i.agreement.is_perpetual?((0,y.openBlock)(),(0,y.createElementBlock)("span",ob,(0,y.toDisplayString)(e.$__("Yes")),1)):((0,y.openBlock)(),(0,y.createElementBlock)("span",oy,(0,y.toDisplayString)(e.$__("No")),1))]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Renewal priority"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(a.get_lib_from_av("av_agreement_renewal_priorities",i.agreement.renewal_priority)),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("License info"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.agreement.license_info),1)]),i.agreement.periods.length?((0,y.openBlock)(),(0,y.createElementBlock)("li",ok,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Periods")),1),(0,y.createElementVNode)("table",null,[(0,y.createElementVNode)("thead",null,[(0,y.createElementVNode)("th",null,(0,y.toDisplayString)(e.$__("Period start")),1),(0,y.createElementVNode)("th",null,(0,y.toDisplayString)(e.$__("Period end")),1),(0,y.createElementVNode)("th",null,(0,y.toDisplayString)(e.$__("Cancellation deadline")),1),(0,y.createElementVNode)("th",null,(0,y.toDisplayString)(e.$__("Period note")),1)]),(0,y.createElementVNode)("tbody",null,[((0,y.openBlock)(!0),(0,y.createElementBlock)(y.Fragment,null,(0,y.renderList)(i.agreement.periods,(e,t)=>((0,y.openBlock)(),(0,y.createElementBlock)("tr",{key:t},[(0,y.createElementVNode)("td",null,(0,y.toDisplayString)(a.format_date(e.started_on)),1),(0,y.createElementVNode)("td",null,(0,y.toDisplayString)(a.format_date(e.ended_on)),1),(0,y.createElementVNode)("td",null,(0,y.toDisplayString)(a.format_date(e.cancellation_deadline)),1),(0,y.createElementVNode)("td",null,(0,y.toDisplayString)(e.notes),1)]))),128))])])])):(0,y.createCommentVNode)("",!0),i.agreement.user_roles.length?((0,y.openBlock)(),(0,y.createElementBlock)("li",oE,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Users")),1),(0,y.createElementVNode)("table",null,[(0,y.createElementVNode)("thead",null,[(0,y.createElementVNode)("th",null,(0,y.toDisplayString)(e.$__("Name")),1),(0,y.createElementVNode)("th",null,(0,y.toDisplayString)(e.$__("Role")),1)]),(0,y.createElementVNode)("tbody",null,[((0,y.openBlock)(!0),(0,y.createElementBlock)(y.Fragment,null,(0,y.renderList)(i.agreement.user_roles,(e,t)=>((0,y.openBlock)(),(0,y.createElementBlock)("tr",{key:t},[(0,y.createElementVNode)("td",null,(0,y.toDisplayString)(a.patron_to_html(e.patron)),1),(0,y.createElementVNode)("td",null,(0,y.toDisplayString)(a.get_lib_from_av("av_user_roles",e.role)),1)]))),128))])])])):(0,y.createCommentVNode)("",!0),i.agreement.agreement_licenses.length?((0,y.openBlock)(),(0,y.createElementBlock)("li",oA,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Licenses")),1),(0,y.createElementVNode)("table",null,[(0,y.createElementVNode)("thead",null,[(0,y.createElementVNode)("th",null,(0,y.toDisplayString)(e.$__("Name")),1),(0,y.createElementVNode)("th",null,(0,y.toDisplayString)(e.$__("Status")),1),(0,y.createElementVNode)("th",null,(0,y.toDisplayString)(e.$__("Physical location")),1),(0,y.createElementVNode)("th",null,(0,y.toDisplayString)(e.$__("Notes")),1),(0,y.createElementVNode)("th",null,(0,y.toDisplayString)(e.$__("URI")),1)]),(0,y.createElementVNode)("tbody",null,[((0,y.openBlock)(!0),(0,y.createElementBlock)(y.Fragment,null,(0,y.renderList)(i.agreement.agreement_licenses,(e,t)=>((0,y.openBlock)(),(0,y.createElementBlock)("tr",{key:t},[(0,y.createElementVNode)("td",null,[(0,y.createVNode)(c,{to:{name:"LicensesShow",params:{license_id:e.license_id}}},{default:(0,y.withCtx)(()=>[(0,y.createTextVNode)((0,y.toDisplayString)(e.license.name),1)]),_:2},1032,["to"])]),(0,y.createElementVNode)("td",null,(0,y.toDisplayString)(a.get_lib_from_av("av_agreement_license_statuses",e.status)),1),(0,y.createElementVNode)("td",null,(0,y.toDisplayString)(a.get_lib_from_av("av_agreement_license_location",e.physical_location)),1),(0,y.createElementVNode)("td",null,(0,y.toDisplayString)(e.notes),1),(0,y.createElementVNode)("td",null,(0,y.toDisplayString)(e.uri),1)]))),128))])])])):(0,y.createCommentVNode)("",!0),i.agreement.agreement_relationships.length?((0,y.openBlock)(),(0,y.createElementBlock)("li",ow,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Related agreements")),1),(0,y.createElementVNode)("div",oC,[((0,y.openBlock)(!0),(0,y.createElementBlock)(y.Fragment,null,(0,y.renderList)(i.agreement.agreement_relationships,e=>((0,y.openBlock)(),(0,y.createElementBlock)("div",{key:e.related_agreement_id},[(0,y.createElementVNode)("span",null,[(0,y.createVNode)(c,{to:{name:"AgreementsShow",params:{agreement_id:e.related_agreement.agreement_id}}},{default:(0,y.withCtx)(()=>[(0,y.createTextVNode)((0,y.toDisplayString)(e.related_agreement.name),1)]),_:2},1032,["to"])]),(0,y.createTextVNode)(" "+(0,y.toDisplayString)(a.get_lib_from_av("av_agreement_relationships",e.relationship))+" "+(0,y.toDisplayString)(i.agreement.name),1)]))),128))])])):(0,y.createCommentVNode)("",!0),i.agreement.agreement_packages.length?((0,y.openBlock)(),(0,y.createElementBlock)("li",oS,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Packages")),1),(0,y.createElementVNode)("div",oN,[((0,y.openBlock)(!0),(0,y.createElementBlock)(y.Fragment,null,(0,y.renderList)(i.agreement.agreement_packages,t=>((0,y.openBlock)(),(0,y.createElementBlock)("div",{key:t.package_id},[t.package.external_id&&"ebsco"==t.package.provider?((0,y.openBlock)(),(0,y.createElementBlock)("span",oV,[(0,y.createVNode)(c,{to:{name:"EHoldingsEBSCOPackagesShow",params:{package_id:t.package.external_id}}},{default:(0,y.withCtx)(()=>[(0,y.createTextVNode)((0,y.toDisplayString)(t.package.name),1)]),_:2},1032,["to"]),(0,y.createTextVNode)(" "+(0,y.toDisplayString)(e.$__("(EBSCO)")),1)])):((0,y.openBlock)(),(0,y.createElementBlock)("span",ox,[(0,y.createVNode)(c,{to:{name:"EHoldingsLocalPackagesShow",params:{package_id:t.package.package_id}}},{default:(0,y.withCtx)(()=>[(0,y.createTextVNode)((0,y.toDisplayString)(t.package.name),1)]),_:2},1032,["to"]),(0,y.createTextVNode)(" ("+(0,y.toDisplayString)(e.$__("local"))+")",1)]))]))),128))])])):(0,y.createCommentVNode)("",!0),i.agreement.documents.length?((0,y.openBlock)(),(0,y.createElementBlock)("li",o$,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Documents")),1),(0,y.createElementVNode)("div",oD,[(0,y.createElementVNode)("ul",null,[((0,y.openBlock)(!0),(0,y.createElementBlock)(y.Fragment,null,(0,y.renderList)(i.agreement.documents,t=>((0,y.openBlock)(),(0,y.createElementBlock)("li",{key:t.document_id},[t.file_name?((0,y.openBlock)(),(0,y.createElementBlock)("div",oT,[t.file_description?((0,y.openBlock)(),(0,y.createElementBlock)("span",oB,(0,y.toDisplayString)(t.file_description)+" - ",1)):(0,y.createCommentVNode)("",!0),(0,y.createElementVNode)("a",{download:"",href:`/api/v1/erm/documents/${t.document_id}/file/content`},[(0,y.createTextVNode)((0,y.toDisplayString)(t.file_name)+" ",1),oO],8,oP),(0,y.createTextVNode)(" ("+(0,y.toDisplayString)(t.file_type)+") "+(0,y.toDisplayString)(e.$__("Uploaded on"))+": "+(0,y.toDisplayString)(a.format_date(t.uploaded_on)),1)])):(0,y.createCommentVNode)("",!0),t.physical_location?((0,y.openBlock)(),(0,y.createElementBlock)("div",oR,(0,y.toDisplayString)(e.$__("Physical location"))+": "+(0,y.toDisplayString)(t.physical_location),1)):(0,y.createCommentVNode)("",!0),t.uri?((0,y.openBlock)(),(0,y.createElementBlock)("div",oI,(0,y.toDisplayString)(e.$__("URI"))+": "+(0,y.toDisplayString)(t.uri),1)):(0,y.createCommentVNode)("",!0),t.notes?((0,y.openBlock)(),(0,y.createElementBlock)("div",oM,(0,y.toDisplayString)(e.$__("Notes"))+": "+(0,y.toDisplayString)(t.notes),1)):(0,y.createCommentVNode)("",!0)]))),128))])])])):(0,y.createCommentVNode)("",!0)])]),(0,y.createVNode)(d,{resource_type:"agreement",additional_field_values:i.agreement._strings.additional_field_values},null,8,["additional_field_values"]),(0,y.createElementVNode)("fieldset",oL,[(0,y.createVNode)(c,{to:{name:"AgreementsList"},role:"button",class:"cancel"},{default:(0,y.withCtx)(()=>[(0,y.createTextVNode)((0,y.toDisplayString)(e.$__("Close")),1)]),_:1})])])])):((0,y.openBlock)(),(0,y.createElementBlock)("div",om,(0,y.toDisplayString)(e.$__("Loading")),1))}],["__scopeId","data-v-45b2b965"]]),oY={key:0},oJ={key:1,id:"agreements_add"},oK={key:0},oZ={key:1},oW={class:"rows"},oG={for:"agreement_name",class:"required"},oQ=["placeholder"],oX={class:"required"},o0={for:"agreement_vendor_id"},o1={for:"agreement_description"},o2=["placeholder"],o3={for:"agreement_status",class:"required"},o4=["required"],o5={class:"required"},o8={for:"agreement_closure_reason"},o6={for:"agreement_is_perpetual"},o7={class:"radio",for:"agreement_is_perpetual_yes"},o9={class:"radio",for:"agreement_is_perpetual_no"},le={for:"agreement_renewal_priority"},lt={for:"agreement_license_info"},ln={class:"action"},la={class:"rows",id:"agreement_periods"},li=["id"],lr=["onClick"],lo=(0,y.createElementVNode)("i",{class:"fa fa-trash"},null,-1),ll=["for"],ls={class:"required"},lc=["for"],ld=["for"],lu=["for"],lp=["id","name","onUpdate:modelValue"],l_={name:"AgreementPeriods",data:()=>({fp_config:flatpickr_defaults}),props:{periods:Array},methods:{addPeriod(){this.periods.push({started_on:null,ended_on:null,cancellation_deadline:null,notes:null})},deletePeriod(e){this.periods.splice(e,1)}},components:{flatPickr:rV()}},lm=(0,iK.default)(l_,[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("flat-pickr"),l=(0,y.resolveComponent)("font-awesome-icon");return(0,y.openBlock)(),(0,y.createElementBlock)("fieldset",la,[(0,y.createElementVNode)("legend",null,(0,y.toDisplayString)(e.$__("Periods")),1),((0,y.openBlock)(!0),(0,y.createElementBlock)(y.Fragment,null,(0,y.renderList)(n.periods,(t,n)=>((0,y.openBlock)(),(0,y.createElementBlock)("fieldset",{id:`agreement_period_${n}`,class:"rows",key:n},[(0,y.createElementVNode)("legend",null,[(0,y.createTextVNode)((0,y.toDisplayString)(e.$__("Agreement period %s").format(n+1))+" ",1),(0,y.createElementVNode)("a",{href:"#",onClick:(0,y.withModifiers)(e=>r.deletePeriod(n),["prevent"])},[lo,(0,y.createTextVNode)(" "+(0,y.toDisplayString)(e.$__("Remove this period")),1)],8,lr)]),(0,y.createElementVNode)("ol",null,[(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",{for:`started_on_${n}`,class:"required"},(0,y.toDisplayString)(e.$__("Start date"))+": ",9,ll),(0,y.createVNode)(o,{id:`started_on_${n}`,modelValue:t.started_on,"onUpdate:modelValue":e=>t.started_on=e,required:"",config:i.fp_config,"data-date_to":`ended_on_${n}`},null,8,["id","modelValue","onUpdate:modelValue","config","data-date_to"]),(0,y.createElementVNode)("span",ls,(0,y.toDisplayString)(e.$__("Required")),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",{for:`ended_on_${n}`},(0,y.toDisplayString)(e.$__("End date"))+":",9,lc),(0,y.createVNode)(o,{id:`ended_on_${n}`,modelValue:t.ended_on,"onUpdate:modelValue":e=>t.ended_on=e,config:i.fp_config},null,8,["id","modelValue","onUpdate:modelValue","config"])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",{for:`cancellation_deadline_${n}`},(0,y.toDisplayString)(e.$__("Cancellation deadline"))+": ",9,ld),(0,y.createVNode)(o,{id:`cancellation_deadline_${n}`,modelValue:t.cancellation_deadline,"onUpdate:modelValue":e=>t.cancellation_deadline=e,config:i.fp_config},null,8,["id","modelValue","onUpdate:modelValue","config"])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",{for:`notes_${n}`},(0,y.toDisplayString)(e.$__("Notes"))+":",9,lu),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:`notes_${n}`,type:"text",class:"notes",name:`notes_${n}`,"onUpdate:modelValue":e=>t.notes=e},null,8,lp),[[y.vModelText,t.notes]])])])],8,li))),128)),(0,y.createElementVNode)("a",{class:"btn btn-default",onClick:t[0]||(t[0]=(...e)=>r.addPeriod&&r.addPeriod(...e))},[(0,y.createVNode)(l,{icon:"plus"}),(0,y.createTextVNode)(" "+(0,y.toDisplayString)(e.$__("Add new period")),1)])])}]]),lf={class:"rows",id:"user_roles"},lh=["onClick"],lg=(0,y.createElementVNode)("i",{class:"fa fa-trash"},null,-1),lv=["for"],lb={class:"user"},ly=["onClick"],lk=(0,y.createElementVNode)("i",{class:"fa fa-plus"},null,-1),lE={class:"required"},lA=["for"],lw=["required"],lC={class:"required"},lS=(0,y.createElementVNode)("input",{type:"hidden",name:"selected_patron_id",id:"selected_patron_id"},null,-1),lN=(0,iK.default)({name:"UserRoles",props:{user_type:String,av_user_roles:Array,user_roles:Array},beforeCreate(){this.user_roles.forEach(e=>{e.patron_str=$patron_to_html(e.patron)})},methods:{addUser(){this.user_roles.push({user_id:null,role:null,patron_str:""})},deleteUser(e){this.user_roles.splice(e,1)},selectUser(e){$(document).on("hidden.bs.modal","#patron_search_modal",this.newUserSelected),this.selected_user_counter=e},newUserSelected(e){let t,n=this.selected_user_counter,a=document.getElementById("selected_patron_id").value;rK.patron.patrons.get(a).then(e=>{t=e,this.user_roles[n].patron=t,this.user_roles[n].patron_str=$patron_to_html(t),this.user_roles[n].user_id=t.patron_id})}}},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("v-select"),l=(0,y.resolveComponent)("font-awesome-icon");return(0,y.openBlock)(),(0,y.createElementBlock)("fieldset",lf,[(0,y.createElementVNode)("legend",null,(0,y.toDisplayString)(e.$__("Users")),1),((0,y.openBlock)(!0),(0,y.createElementBlock)(y.Fragment,null,(0,y.renderList)(n.user_roles,(t,a)=>((0,y.openBlock)(),(0,y.createElementBlock)("fieldset",{class:"rows",key:a},[(0,y.createElementVNode)("legend",null,[(0,y.createTextVNode)((0,y.toDisplayString)(n.user_type.format(a+1))+" ",1),(0,y.createElementVNode)("a",{href:"#",onClick:(0,y.withModifiers)(e=>r.deleteUser(a),["prevent"])},[lg,(0,y.createTextVNode)(" "+(0,y.toDisplayString)(e.$__("Remove this user")),1)],8,lh)]),(0,y.createElementVNode)("ol",null,[(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",{for:`user_id_${a}`,class:"required"},(0,y.toDisplayString)(e.$__("User"))+":",9,lv),(0,y.createElementVNode)("span",lb,(0,y.toDisplayString)(t.patron_str),1),(0,y.createTextVNode)(" \xa0 "),(0,y.createElementVNode)("a",{href:"#patron_search_modal",onClick:e=>r.selectUser(a),class:"btn btn-default","data-bs-toggle":"modal"},[lk,(0,y.createTextVNode)(" "+(0,y.toDisplayString)(e.$__("Select user")),1)],8,ly),(0,y.createElementVNode)("span",lE,(0,y.toDisplayString)(e.$__("Required")),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",{for:`user_role_${a}`,class:"required"},(0,y.toDisplayString)(e.$__("Role"))+":",9,lA),(0,y.createVNode)(o,{id:`user_role_${a}`,modelValue:t.role,"onUpdate:modelValue":e=>t.role=e,label:"description",reduce:e=>e.value,options:n.av_user_roles},{search:(0,y.withCtx)(({attributes:e,events:n})=>[(0,y.createElementVNode)("input",(0,y.mergeProps)({required:!t.role,class:"vs__search"},e,(0,y.toHandlers)(n,!0)),null,16,lw)]),_:2},1032,["id","modelValue","onUpdate:modelValue","reduce","options"]),(0,y.createElementVNode)("span",lC,(0,y.toDisplayString)(e.$__("Required")),1)])])]))),128)),lS,(0,y.createElementVNode)("a",{class:"btn btn-default",onClick:t[0]||(t[0]=(...e)=>r.addUser&&r.addUser(...e))},[(0,y.createVNode)(l,{icon:"plus"}),(0,y.createTextVNode)(" "+(0,y.toDisplayString)(e.$__("Add new user")),1)])])}]]),lV={class:"rows",id:"agreement_licenses"},lx=["id"],l$=["onClick"],lD=(0,y.createElementVNode)("i",{class:"fa fa-trash"},null,-1),lT=["for"],lB={class:"required"},lP=["for"],lO=["required"],lR={class:"required"},lI=["for"],lM=["for"],lL=["id","onUpdate:modelValue","placeholder"],lj=["for"],lq=["id","onUpdate:modelValue","placeholder"],lF={key:1},lU=["required"],lz=(0,iK.default)({props:{id:String,selectedData:Object,dataType:String,modelValue:Number,dataIdentifier:String,label:String,required:Boolean},emits:["update:modelValue"],data(){return{observer:null,limit:null,search:"",scrollPage:null,data:[this.selectedData],paginationRequired:!1,selectedOptionLabel:this.selectedData[this.label]}},computed:{model:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}},filtered(){return this.data.filter(e=>e[this.label].includes(this.search))},paginated(){return this.filtered.slice(0,this.limit)},hasNextPage(){return this.paginated.length<this.filtered.length}},mounted(){this.observer=new IntersectionObserver(this.infiniteScroll)},methods:{async fetchInitialData(e){let t=rK.erm;await t[e].getAll({},{_page:1,_per_page:20,_match:"contains"}).then(e=>{this.data=e,this.search="",this.limit=19,this.scrollPage=1},e=>{})},async searchFilter(e){if(e){this.paginationRequired=!1,this.observer.disconnect(),this.data=[],this.search=e;let t=rK.erm,n="me."+this.label,a={};a[n]={like:`%${e}%`},await t[this.dataType].getAll(a,{_per_page:-1}).then(e=>{this.data=[...e]},e=>{})}else this.resetSelect()},async onOpen(){this.paginationRequired=!0,await this.fetchInitialData(this.dataType),this.hasNextPage&&(await this.$nextTick(),this.observer.observe(this.$refs.load))},onClose(){this.observer.disconnect()},onSelected(e){this.selectedOptionLabel=e[this.label]},async infiniteScroll([{isIntersecting:e,target:t}]){setTimeout(async()=>{if(e){let e=t.offsetParent,n=t.offsetParent.scrollTop;this.limit+=20,this.scrollPage++,await this.$nextTick();let a=rK.erm;e.scrollTop=n,await a[this.dataType].getAll({},{_page:this.scrollPage,_per_page:20,_match:"contains"}).then(e=>{let t=[...this.data];this.data=[...t,...e]},e=>{}),e.scrollTop=n}},250)},async resetSelect(){this.$refs.select.open?(await this.fetchInitialData(this.dataType),this.hasNextPage&&(await this.$nextTick(),this.observer.observe(this.$refs.load))):this.paginationRequired=!1}},name:"InfiniteScrollSelect"},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("v-select");return(0,y.openBlock)(),(0,y.createBlock)(o,{id:n.id,modelValue:r.model,"onUpdate:modelValue":t[0]||(t[0]=e=>r.model=e),label:n.label,options:i.paginationRequired?r.paginated:i.data,reduce:e=>e[n.dataIdentifier],onOpen:r.onOpen,onClose:r.onClose,"onOption:selected":r.onSelected,onSearch:t[1]||(t[1]=e=>r.searchFilter(e)),ref:"select"},(0,y.createSlots)({"selected-option":(0,y.withCtx)(e=>[(0,y.createTextVNode)((0,y.toDisplayString)(i.selectedOptionLabel),1)]),"list-footer":(0,y.withCtx)(()=>[(0,y.withDirectives)((0,y.createElementVNode)("li",{ref:"load"},(0,y.toDisplayString)(e.$__("Loading more options...")),513),[[y.vShow,r.hasNextPage&&!this.search]])]),_:2},[n.required?{name:"search",fn:(0,y.withCtx)(({attributes:e,events:t})=>[(0,y.createElementVNode)("input",(0,y.mergeProps)({required:!r.model,class:"vs__search"},e,(0,y.toHandlers)(t,!0)),null,16,lU)]),key:"0"}:void 0]),1032,["id","modelValue","label","options","reduce","onOpen","onClose","onOption:selected"])}]]),lH=(0,iK.default)({name:"AgreementLicenses",data:()=>({license_count:null}),props:{av_agreement_license_statuses:Array,av_agreement_license_location:Array,agreement_licenses:Array},beforeCreate(){rK.erm.licenses.count().then(e=>{this.license_count=e,this.initialized=!0},e=>{})},methods:{addLicense(){this.agreement_licenses.push({license_id:null,status:null,physical_location:null,notes:"",uri:"",license:{name:""}})},deleteLicense(e){this.agreement_licenses.splice(e,1)}},components:{InfiniteScrollSelect:lz}},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("InfiniteScrollSelect"),l=(0,y.resolveComponent)("v-select"),s=(0,y.resolveComponent)("font-awesome-icon");return(0,y.openBlock)(),(0,y.createElementBlock)("fieldset",lV,[(0,y.createElementVNode)("legend",null,(0,y.toDisplayString)(e.$__("Licenses")),1),((0,y.openBlock)(!0),(0,y.createElementBlock)(y.Fragment,null,(0,y.renderList)(n.agreement_licenses,(t,a)=>((0,y.openBlock)(),(0,y.createElementBlock)("fieldset",{id:`agreement_license_${a}`,class:"rows",key:a},[(0,y.createElementVNode)("legend",null,[(0,y.createTextVNode)((0,y.toDisplayString)(e.$__("Agreement license %s").format(a+1))+" ",1),(0,y.createElementVNode)("a",{href:"#",onClick:(0,y.withModifiers)(e=>r.deleteLicense(a),["prevent"])},[lD,(0,y.createTextVNode)(" "+(0,y.toDisplayString)(e.$__("Remove this license")),1)],8,l$)]),(0,y.createElementVNode)("ol",null,[(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",{for:`license_id_${a}`,class:"required"},(0,y.toDisplayString)(e.$__("License"))+":",9,lT),(0,y.createVNode)(o,{id:`license_id_${a}`,modelValue:t.license_id,"onUpdate:modelValue":e=>t.license_id=e,selectedData:t.license,dataType:"licenses",dataIdentifier:"license_id",label:"name",required:!0},null,8,["id","modelValue","onUpdate:modelValue","selectedData"]),(0,y.createElementVNode)("span",lB,(0,y.toDisplayString)(e.$__("Required")),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",{for:`license_status_${a}`,class:"required"},(0,y.toDisplayString)(e.$__("Status"))+":",9,lP),(0,y.createVNode)(l,{id:`license_status_${a}`,modelValue:t.status,"onUpdate:modelValue":e=>t.status=e,label:"description",reduce:e=>e.value,options:n.av_agreement_license_statuses},{search:(0,y.withCtx)(({attributes:e,events:n})=>[(0,y.createElementVNode)("input",(0,y.mergeProps)({required:!t.status,class:"vs__search"},e,(0,y.toHandlers)(n,!0)),null,16,lO)]),_:2},1032,["id","modelValue","onUpdate:modelValue","reduce","options"]),(0,y.createElementVNode)("span",lR,(0,y.toDisplayString)(e.$__("Required")),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",{for:`license_location_${a}`},(0,y.toDisplayString)(e.$__("Physical location"))+": ",9,lI),(0,y.createVNode)(l,{id:`license_location_${a}`,modelValue:t.physical_location,"onUpdate:modelValue":e=>t.physical_location=e,label:"description",reduce:e=>e.value,options:n.av_agreement_license_location},null,8,["id","modelValue","onUpdate:modelValue","reduce","options"])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",{for:`license_notes_${a}`},(0,y.toDisplayString)(e.$__("Notes"))+":",9,lM),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:`license_notes_${a}`,"onUpdate:modelValue":e=>t.notes=e,placeholder:e.$__("Notes")},null,8,lL),[[y.vModelText,t.notes]])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",{for:`license_uri_${a}`},(0,y.toDisplayString)(e.$__("URI"))+":",9,lj),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:`license_uri_${a}`,"onUpdate:modelValue":e=>t.uri=e,placeholder:e.$__("URI")},null,8,lq),[[y.vModelText,t.uri]])])])],8,lx))),128)),i.license_count>0?((0,y.openBlock)(),(0,y.createElementBlock)("a",{key:0,class:"btn btn-default",onClick:t[0]||(t[0]=(...e)=>r.addLicense&&r.addLicense(...e))},[(0,y.createVNode)(s,{icon:"plus"}),(0,y.createTextVNode)(" "+(0,y.toDisplayString)(e.$__("Add new license")),1)])):((0,y.openBlock)(),(0,y.createElementBlock)("span",lF,(0,y.toDisplayString)(e.$__("There are no licenses created yet")),1))])}]]),lY={class:"rows",id:"agreement_relationships"},lJ=["id"],lK=["onClick"],lZ=(0,y.createElementVNode)("i",{class:"fa fa-trash"},null,-1),lW=["for"],lG=["required"],lQ={class:"required"},lX=["for"],l0=["required"],l1={class:"required"},l2=["for"],l3=["id","onUpdate:modelValue","placeholder"],l4={key:1},l5=(0,iK.default)({data:()=>({agreements:[]}),beforeCreate(){rK.erm.agreements.getAll({"me.agreement_id":{"!=":this.agreement_id}}).then(e=>{this.agreements=e,this.initialized=!0},e=>{})},methods:{addRelationship(){this.relationships.push({related_agreement_id:null,relationship:null,notes:""})},deleteRelationship(e){this.relationships.splice(e,1)}},props:{agreement_id:Number,av_agreement_relationships:Array,relationships:Array},name:"AgreementRelationships"},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("v-select"),l=(0,y.resolveComponent)("font-awesome-icon");return(0,y.openBlock)(),(0,y.createElementBlock)("fieldset",lY,[(0,y.createElementVNode)("legend",null,(0,y.toDisplayString)(e.$__("Related agreements")),1),((0,y.openBlock)(!0),(0,y.createElementBlock)(y.Fragment,null,(0,y.renderList)(n.relationships,(t,a)=>((0,y.openBlock)(),(0,y.createElementBlock)("fieldset",{id:`related_agreement_${a}`,class:"rows",key:a},[(0,y.createElementVNode)("legend",null,[(0,y.createTextVNode)((0,y.toDisplayString)(e.$__("Related agreement %s").format(a+1))+" ",1),(0,y.createElementVNode)("a",{href:"#",onClick:(0,y.withModifiers)(e=>r.deleteRelationship(a),["prevent"])},[lZ,(0,y.createTextVNode)(" "+(0,y.toDisplayString)(e.$__("Remove this relationship")),1)],8,lK)]),(0,y.createElementVNode)("ol",null,[(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",{for:`related_agreement_id_${a}`,class:"required"},(0,y.toDisplayString)(e.$__("Related agreement"))+": ",9,lW),(0,y.createVNode)(o,{id:`related_agreement_id_${a}`,modelValue:t.related_agreement_id,"onUpdate:modelValue":e=>t.related_agreement_id=e,label:"name",reduce:e=>e.agreement_id,options:i.agreements},{search:(0,y.withCtx)(({attributes:e,events:n})=>[(0,y.createElementVNode)("input",(0,y.mergeProps)({required:!t.related_agreement_id,class:"vs__search"},e,(0,y.toHandlers)(n,!0)),null,16,lG)]),_:2},1032,["id","modelValue","onUpdate:modelValue","reduce","options"]),(0,y.createElementVNode)("span",lQ,(0,y.toDisplayString)(e.$__("Required")),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",{for:`related_agreement_relationship_${a}`,class:"required"},(0,y.toDisplayString)(e.$__("Relationship"))+": ",9,lX),(0,y.createVNode)(o,{id:`related_agreement_relationship_${a}`,modelValue:t.relationship,"onUpdate:modelValue":e=>t.relationship=e,label:"description",reduce:e=>e.value,options:n.av_agreement_relationships},{search:(0,y.withCtx)(({attributes:e,events:n})=>[(0,y.createElementVNode)("input",(0,y.mergeProps)({required:!t.relationship,class:"vs__search"},e,(0,y.toHandlers)(n,!0)),null,16,l0)]),_:2},1032,["id","modelValue","onUpdate:modelValue","reduce","options"]),(0,y.createElementVNode)("span",l1,(0,y.toDisplayString)(e.$__("Required")),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",{for:`related_agreement_notes_${a}`},(0,y.toDisplayString)(e.$__("Notes"))+":",9,l2),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:`related_agreement_notes_${a}`,"onUpdate:modelValue":e=>t.notes=e,placeholder:e.$__("Notes")},null,8,l3),[[y.vModelText,t.notes]])])])],8,lJ))),128)),i.agreements.length?((0,y.openBlock)(),(0,y.createElementBlock)("a",{key:0,class:"btn btn-default",onClick:t[0]||(t[0]=(...e)=>r.addRelationship&&r.addRelationship(...e))},[(0,y.createVNode)(l,{icon:"plus"}),(0,y.createTextVNode)(" "+(0,y.toDisplayString)(e.$__("Add new related agreement")),1)])):((0,y.openBlock)(),(0,y.createElementBlock)("span",l4,(0,y.toDisplayString)(e.$__("There are no other agreements created yet")),1))])}]]),l8={class:"rows",id:"documents"},l6=["id"],l7=["onClick"],l9=(0,y.createElementVNode)("i",{class:"fa fa-trash"},null,-1),se={class:"file_information"},st={key:0},sn=["onChange","id","name"],sa={key:1},si=["onChange","id","name"],sr=["id","name","onUpdate:modelValue","placeholder"],so=["for"],sl=["id","name","onUpdate:modelValue","placeholder"],ss=["for"],sc=["id","onUpdate:modelValue","placeholder"],sd=["for"],su=["id","name","onUpdate:modelValue","placeholder"],sp=(0,iK.default)({setup:()=>({format_date:$date}),methods:{selectFile(e,t){let n=e.target.files;if(!n)return;let a=n[0],i=new FileReader;i.onload=e=>this.loadFile(a.name,e.target.result,t),i.readAsBinaryString(a)},loadFile(e,t,n){this.documents[n].file_name=e,this.documents[n].file_content=btoa(t)},addDocument(){this.documents.push({file_name:null,file_type:null,file_description:null,file_content:null,physical_location:null,uri:null,notes:null})},deleteDocument(e){this.documents.splice(e,1)}},name:"Documents",props:{documents:Array}},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("font-awesome-icon");return(0,y.openBlock)(),(0,y.createElementBlock)("fieldset",l8,[(0,y.createElementVNode)("legend",null,(0,y.toDisplayString)(e.$__("Documents")),1),((0,y.openBlock)(!0),(0,y.createElementBlock)(y.Fragment,null,(0,y.renderList)(n.documents,(t,n)=>((0,y.openBlock)(),(0,y.createElementBlock)("fieldset",{id:`document_${n}`,class:"rows",key:n},[(0,y.createElementVNode)("legend",null,[(0,y.createTextVNode)((0,y.toDisplayString)(e.$__("Document %s").format(n+1))+" ",1),(0,y.createElementVNode)("a",{href:"#",onClick:(0,y.withModifiers)(e=>r.deleteDocument(n),["prevent"])},[l9,(0,y.createTextVNode)(" "+(0,y.toDisplayString)(e.$__("Remove this document")),1)],8,l7)]),(0,y.createElementVNode)("ol",null,[(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("File"))+":",1),(0,y.createElementVNode)("div",se,[t.file_name?((0,y.openBlock)(),(0,y.createElementBlock)("span",sa,[(0,y.createTextVNode)((0,y.toDisplayString)(e.$__("Update file"))+" ",1),(0,y.createElementVNode)("input",{type:"file",onChange:e=>r.selectFile(e,n),id:`file_${n}`,name:`file_${n}`},null,40,si)])):((0,y.openBlock)(),(0,y.createElementBlock)("span",st,[(0,y.createTextVNode)((0,y.toDisplayString)(e.$__("Select a file"))+" ",1),(0,y.createElementVNode)("input",{type:"file",onChange:e=>r.selectFile(e,n),id:`file_${n}`,name:`file_${n}`},null,40,sn)])),(0,y.createElementVNode)("ol",null,[(0,y.withDirectives)((0,y.createElementVNode)("li",null,[(0,y.createTextVNode)((0,y.toDisplayString)(e.$__("File name"))+": ",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(t.file_name),1)],512),[[y.vShow,t.file_name]]),(0,y.withDirectives)((0,y.createElementVNode)("li",null,[(0,y.createTextVNode)((0,y.toDisplayString)(e.$__("File type"))+": ",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(t.file_type),1)],512),[[y.vShow,t.file_type]]),(0,y.withDirectives)((0,y.createElementVNode)("li",null,[(0,y.createTextVNode)((0,y.toDisplayString)(e.$__("File description"))+": ",1),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:`file_description_${n}`,type:"text",class:"file_description",name:`file_description_${n}`,"onUpdate:modelValue":e=>t.file_description=e,placeholder:e.$__("File description")},null,8,sr),[[y.vModelText,t.file_description]])],512),[[y.vShow,t.file_name]]),(0,y.withDirectives)((0,y.createElementVNode)("li",null,[(0,y.createTextVNode)((0,y.toDisplayString)(e.$__("Uploaded on"))+": ",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(a.format_date(t.uploaded_on)),1)],512),[[y.vShow,t.uploaded_on]])])])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",{for:`physical_location_${n}`},(0,y.toDisplayString)(e.$__("Physical location"))+": ",9,so),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:`physical_location_${n}`,type:"text",class:"physical_location",name:`physical_location_${n}`,"onUpdate:modelValue":e=>t.physical_location=e,placeholder:e.$__("Physical location")},null,8,sl),[[y.vModelText,t.physical_location]])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",{for:`uri_${n}`},(0,y.toDisplayString)(e.$__("URI"))+":",9,ss),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:`uri_${n}`,"onUpdate:modelValue":e=>t.uri=e,placeholder:e.$__("URI")},null,8,sc),[[y.vModelText,t.uri]])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",{for:`notes_${n}`},(0,y.toDisplayString)(e.$__("Notes"))+":",9,sd),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:`notes_${n}`,type:"text",class:"notes",name:`notes_${n}`,"onUpdate:modelValue":e=>t.notes=e,placeholder:e.$__("Notes")},null,8,su),[[y.vModelText,t.notes]])])])],8,l6))),128)),(0,y.createElementVNode)("a",{class:"btn btn-default",onClick:t[0]||(t[0]=(...e)=>r.addDocument&&r.addDocument(...e))},[(0,y.createVNode)(o,{icon:"plus"}),(0,y.createTextVNode)(" "+(0,y.toDisplayString)(e.$__("Add new document")),1)])])}]]),s_={key:0,class:"rows",id:"additional_fields"},sm={key:0},sf=["for"],sh={key:1},sg=["for"],sv=["for"],sb=["onUpdate:modelValue"],sy=["onClick"],sk=(0,y.createElementVNode)("i",{class:"fa fa-fw fa-trash-can"},null,-1),sE=["onClick"],sA=(0,y.createElementVNode)("i",{class:"fa fa-fw fa-plus"},null,-1),sw=(0,iK.default)({data:()=>({available_fields:[],av_options:[],current_additional_fields_values:{}}),beforeCreate(){rK.additional_fields.additional_fields.getAll(this.resource_type).then(e=>{this.available_fields=e,this.initialized=!0},e=>{})},watch:{current_additional_fields_values:{deep:!0,handler(e){this.updateParentAdditionalFieldValues(e)}},available_fields:function(e){if(e){let t=rK.authorised_values,n=e.map(e=>e.authorised_value_category_name).filter(e=>e);t.values.getCategoriesWithValues([...new Set(n.map(e=>'"'+e+'"'))]).then(t=>{n.forEach(e=>{let n=t.find(t=>t.category_name==e);this.av_options[e]=n.authorised_values.map(e=>({value:e.value,label:e.description}))}),e.forEach(e=>{this.current_additional_fields_values[e.extended_attribute_type_id]=[];let t=this.additional_field_values.filter(t=>t.field_id==e.extended_attribute_type_id&&t.value);t.length?t.forEach(t=>{let n="";if(e.authorised_value_category_name){let a=this.av_options[e.authorised_value_category_name].filter(e=>e.value==t.value);n=a.length?a[0].label:""}this.current_additional_fields_values[t.field_id].push({value:t.value,label:n})}):!e.authorised_value_category_name&&(this.current_additional_fields_values[e.extended_attribute_type_id]=[{label:"",value:""}])})})}}},methods:{clearField:function(e,t){t.preventDefault(),e.value=""},cloneField:function(e,t,n){n.preventDefault(),this.current_additional_fields_values[e.extended_attribute_type_id].push({value:t.value,label:e.name})},updateParentAdditionalFieldValues:function(e){let t=[];Object.keys(e).forEach(n=>{if(!Array.isArray(e[n])&&e[n]&&(e[n]=[e[n]]),e[n]){let a=e[n].map(e=>({field_id:n,value:e.value}));t=t.concat(a)}}),this.$emit("additional-fields-changed",t)}},name:"AdditionalFieldsEntry",props:{resource_type:String,additional_field_values:Array}},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("v-select");return i.available_fields.length?((0,y.openBlock)(),(0,y.createElementBlock)("fieldset",s_,[(0,y.createElementVNode)("legend",null,(0,y.toDisplayString)(e.$__("Additional fields")),1),(0,y.createElementVNode)("ol",null,[((0,y.openBlock)(!0),(0,y.createElementBlock)(y.Fragment,null,(0,y.renderList)(i.available_fields,t=>((0,y.openBlock)(),(0,y.createElementBlock)(y.Fragment,{key:t.extended_attribute_type_id},[t.authorised_value_category_name&&!t.repeatable?((0,y.openBlock)(),(0,y.createElementBlock)("li",sm,[(0,y.createElementVNode)("label",{for:"additional_field_"+t.extended_attribute_type_id},(0,y.toDisplayString)(t.name)+": ",9,sf),(0,y.createVNode)(o,{id:"additional_field_"+t.extended_attribute_type_id,name:t.name,modelValue:i.current_additional_fields_values[t.extended_attribute_type_id],"onUpdate:modelValue":e=>i.current_additional_fields_values[t.extended_attribute_type_id]=e,options:i.av_options[t.authorised_value_category_name]},null,8,["id","name","modelValue","onUpdate:modelValue","options"])])):(0,y.createCommentVNode)("",!0),t.authorised_value_category_name&&t.repeatable?((0,y.openBlock)(),(0,y.createElementBlock)("li",sh,[(0,y.createElementVNode)("label",{for:"additional_field_"+t.extended_attribute_type_id},(0,y.toDisplayString)(t.name)+": ",9,sg),(0,y.createVNode)(o,{id:"additional_field_"+t.extended_attribute_type_id,name:t.name,multiple:t.repeatable,modelValue:i.current_additional_fields_values[t.extended_attribute_type_id],"onUpdate:modelValue":e=>i.current_additional_fields_values[t.extended_attribute_type_id]=e,options:i.av_options[t.authorised_value_category_name]},null,8,["id","name","multiple","modelValue","onUpdate:modelValue","options"])])):(0,y.createCommentVNode)("",!0),t.authorised_value_category_name?(0,y.createCommentVNode)("",!0):((0,y.openBlock)(!0),(0,y.createElementBlock)(y.Fragment,{key:2},(0,y.renderList)(i.current_additional_fields_values[t.extended_attribute_type_id],n=>((0,y.openBlock)(),(0,y.createElementBlock)("li",{key:n.id},[(0,y.createElementVNode)("label",{for:"additional_field_"+t.extended_attribute_type_id},(0,y.toDisplayString)(t.name)+": ",9,sv),(0,y.withDirectives)((0,y.createElementVNode)("input",{type:"text","onUpdate:modelValue":e=>n.value=e},null,8,sb),[[y.vModelText,n.value]]),(0,y.createElementVNode)("a",{href:"#",class:"clear_attribute",onClick:e=>r.clearField(n,e)},[sk,(0,y.createTextVNode)(" "+(0,y.toDisplayString)(e.$__("Clear")),1)],8,sy),t.repeatable?((0,y.openBlock)(),(0,y.createElementBlock)("a",{key:0,href:"#",class:"clone_attribute",onClick:e=>r.cloneField(t,n,e)},[sA,(0,y.createTextVNode)(" "+(0,y.toDisplayString)(e.$__("New")),1)],8,sE)):(0,y.createCommentVNode)("",!0)]))),128))],64))),128))])])):(0,y.createCommentVNode)("",!0)}]]),sC=["value"],sS={name:"ButtonSubmit",props:{text:{type:String,default:__("Submit"),required:!1}}},sN=(0,iK.default)(sS,[["render",function(e,t,n,a,i,r){return(0,y.openBlock)(),(0,y.createElementBlock)("input",{type:"submit",class:"btn btn-primary",value:n.text},null,8,sC)}]]),sV=(0,y.createElementVNode)("br",null,null,-1),sx=(0,iK.default)({setup(){let{vendors:e}=tR((0,y.inject)("vendorStore"));return{vendors:e}},computed:{vendorOptions(){return this.vendors.map(e=>({...e,full_search:e.name+(e.aliases.length>0?" ("+e.aliases.map(e=>e.alias).join(", ")+")":"")}))}},methods:{filterVendors:(e,t,n)=>(e.full_search||"").toLocaleLowerCase().indexOf(n.toLocaleLowerCase())>-1}},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("v-select");return(0,y.openBlock)(),(0,y.createBlock)(o,{label:"name",reduce:e=>e.id,options:r.vendorOptions,"filter-by":r.filterVendors},{option:(0,y.withCtx)(e=>[(0,y.createTextVNode)((0,y.toDisplayString)(e.name)+" ",1),sV,(0,y.createElementVNode)("cite",null,(0,y.toDisplayString)(e.aliases.map(e=>e.alias).join(", ")),1)]),_:1},8,["reduce","options","filter-by"])}]]),s$=(0,iK.default)({setup(){let{av_agreement_statuses:e,av_agreement_closure_reasons:t,av_agreement_renewal_priorities:n,av_user_roles:a,av_agreement_license_statuses:i,av_agreement_license_location:r,av_agreement_relationships:o}=tR((0,y.inject)("AVStore"));return{av_agreement_statuses:e,av_agreement_closure_reasons:t,av_agreement_renewal_priorities:n,av_user_roles:a,av_agreement_license_statuses:i,av_agreement_license_location:r,av_agreement_relationships:o,max_allowed_packet}},data:()=>({agreement:{agreement_id:null,name:"",vendor_id:null,description:"",status:"",closure_reason:"",is_perpetual:!1,renewal_priority:"",license_info:"",periods:[],user_roles:[],agreement_licenses:[],agreement_relationships:[],documents:[],extended_attributes:[]},initialized:!1}),beforeRouteEnter(e,t,n){n(t=>{e.params.agreement_id?t.getAgreement(e.params.agreement_id):t.initialized=!0})},methods:{async getAgreement(e){rK.erm.agreements.get(e).then(e=>{this.agreement=e,this.initialized=!0},e=>{})},checkForm(e){let t=[],n=e.agreement_licenses,a=n.map(e=>e.license_id);a.filter((e,t)=>a.indexOf(e)!==t).length&&t.push(this.$__("A license is used several times"));let i=e.agreement_relationships.map(e=>e.related_agreement_id);return i.filter((e,t)=>i.indexOf(e)!==t).length&&t.push(this.$__("An agreement is used as relationship several times")),n.filter(e=>"controlling"==e.status).length>1&&t.push(this.$__("Only one controlling license is allowed")),n.filter(e=>"controlling"==e.status).length>1&&t.push(this.$__("Only one controlling license is allowed")),e.documents.filter(e=>void 0!==e.file_content).filter(e=>atob(e.file_content).length>=max_allowed_packet).length>=1&&t.push(this.$__("File size exceeds maximum allowed: %s MB").format((max_allowed_packet/1048576).toFixed(2))),e.user_roles.forEach((e,n)=>{""===e.patron_str&&t.push(this.$__("Agreement user %s is missing a user").format(n+1))}),rO(t.join("<br>")),!t.length},onSubmit(e){e.preventDefault();let t=JSON.parse(JSON.stringify(this.agreement)),n=t.agreement_id;if(!this.checkForm(t))return!1;delete t.agreement_id,delete t.vendor,delete t._strings,t.is_perpetual=!!t.is_perpetual,""==t.vendor_id&&(t.vendor_id=null),t.periods=t.periods.map(({agreement_id:e,agreement_period_id:t,...n})=>n),t.user_roles=t.user_roles.map(({patron:e,patron_str:t,...n})=>n),t.agreement_licenses=t.agreement_licenses.map(({license:e,agreement_id:t,agreement_license_id:n,...a})=>a),t.agreement_relationships=t.agreement_relationships.map(({related_agreement:e,...t})=>t),t.documents=t.documents.map(({file_type:e,uploaded_on:t,...n})=>n),delete t.agreement_packages;let a=rK.erm;n?a.agreements.update(t,n).then(e=>{rR(this.$__("Agreement updated")),this.$router.push({name:"AgreementsList"})},e=>{}):a.agreements.create(t).then(e=>{rR(this.$__("Agreement created")),this.$router.push({name:"AgreementsList"})},e=>{})},onStatusChanged(e){"closed"!=e.value&&(this.agreement.closure_reason="")},additionalFieldsChanged(e){this.agreement.extended_attributes=e}},components:{AgreementPeriods:lm,UserRoles:lN,AgreementLicenses:lH,AgreementRelationships:l5,Documents:sp,ButtonSubmit:sN,FormSelectVendors:sx,AdditionalFieldsEntry:sw},name:"AgreementsFormAdd"},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("FormSelectVendors"),l=(0,y.resolveComponent)("v-select"),s=(0,y.resolveComponent)("AdditionalFieldsEntry"),c=(0,y.resolveComponent)("AgreementPeriods"),d=(0,y.resolveComponent)("UserRoles"),u=(0,y.resolveComponent)("AgreementLicenses"),p=(0,y.resolveComponent)("AgreementRelationships"),_=(0,y.resolveComponent)("Documents"),m=(0,y.resolveComponent)("ButtonSubmit"),f=(0,y.resolveComponent)("router-link");return i.initialized?((0,y.openBlock)(),(0,y.createElementBlock)("div",oJ,[i.agreement.agreement_id?((0,y.openBlock)(),(0,y.createElementBlock)("h2",oK,(0,y.toDisplayString)(e.$__("Edit agreement #%s").format(i.agreement.agreement_id)),1)):((0,y.openBlock)(),(0,y.createElementBlock)("h2",oZ,(0,y.toDisplayString)(e.$__("New agreement")),1)),(0,y.createElementVNode)("div",null,[(0,y.createElementVNode)("form",{onSubmit:t[9]||(t[9]=e=>r.onSubmit(e))},[(0,y.createElementVNode)("fieldset",oW,[(0,y.createElementVNode)("ol",null,[(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",oG,(0,y.toDisplayString)(e.$__("Agreement name"))+":",1),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:"agreement_name","onUpdate:modelValue":t[0]||(t[0]=e=>i.agreement.name=e),placeholder:e.$__("Agreement name"),required:""},null,8,oQ),[[y.vModelText,i.agreement.name]]),(0,y.createElementVNode)("span",oX,(0,y.toDisplayString)(e.$__("Required")),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",o0,(0,y.toDisplayString)(e.$__("Vendor"))+":",1),(0,y.createVNode)(o,{id:"agreement_vendor_id",modelValue:i.agreement.vendor_id,"onUpdate:modelValue":t[1]||(t[1]=e=>i.agreement.vendor_id=e)},null,8,["modelValue"])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",o1,(0,y.toDisplayString)(e.$__("Description"))+": ",1),(0,y.withDirectives)((0,y.createElementVNode)("textarea",{id:"agreement_description","onUpdate:modelValue":t[2]||(t[2]=e=>i.agreement.description=e),placeholder:e.$__("Description"),rows:"10",cols:"50"},null,8,o2),[[y.vModelText,i.agreement.description]])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",o3,(0,y.toDisplayString)(e.$__("Status"))+":",1),(0,y.createVNode)(l,{id:"agreement_status",modelValue:i.agreement.status,"onUpdate:modelValue":t[3]||(t[3]=e=>i.agreement.status=e),label:"description",reduce:e=>e.value,options:a.av_agreement_statuses,"onOption:selected":r.onStatusChanged,required:!i.agreement.status},{search:(0,y.withCtx)(({attributes:e,events:t})=>[(0,y.createElementVNode)("input",(0,y.mergeProps)({required:!i.agreement.status,class:"vs__search"},e,(0,y.toHandlers)(t,!0)),null,16,o4)]),_:1},8,["modelValue","reduce","options","onOption:selected","required"]),(0,y.createElementVNode)("span",o5,(0,y.toDisplayString)(e.$__("Required")),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",o8,(0,y.toDisplayString)(e.$__("Closure reason"))+":",1),(0,y.createVNode)(l,{id:"agreement_closure_reason",modelValue:i.agreement.closure_reason,"onUpdate:modelValue":t[4]||(t[4]=e=>i.agreement.closure_reason=e),label:"description",reduce:e=>e.value,options:a.av_agreement_closure_reasons,disabled:"closed"!=i.agreement.status},null,8,["modelValue","reduce","options","disabled"])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",o6,(0,y.toDisplayString)(e.$__("Is perpetual"))+":",1),(0,y.createElementVNode)("label",o7,[(0,y.createTextVNode)((0,y.toDisplayString)(e.$__("Yes"))+": ",1),(0,y.withDirectives)((0,y.createElementVNode)("input",{type:"radio",name:"is_perpetual",id:"agreement_is_perpetual_yes",value:!0,"onUpdate:modelValue":t[5]||(t[5]=e=>i.agreement.is_perpetual=e)},null,512),[[y.vModelRadio,i.agreement.is_perpetual]])]),(0,y.createElementVNode)("label",o9,[(0,y.createTextVNode)((0,y.toDisplayString)(e.$__("No"))+": ",1),(0,y.withDirectives)((0,y.createElementVNode)("input",{type:"radio",name:"is_perpetual",id:"agreement_is_perpetual_no",value:!1,"onUpdate:modelValue":t[6]||(t[6]=e=>i.agreement.is_perpetual=e)},null,512),[[y.vModelRadio,i.agreement.is_perpetual]])])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",le,(0,y.toDisplayString)(e.$__("Renewal priority"))+":",1),(0,y.createVNode)(l,{id:"agreement_renewal_priority",modelValue:i.agreement.renewal_priority,"onUpdate:modelValue":t[7]||(t[7]=e=>i.agreement.renewal_priority=e),label:"description",reduce:e=>e.value,options:a.av_agreement_renewal_priorities},null,8,["modelValue","reduce","options"])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",lt,(0,y.toDisplayString)(e.$__("License info"))+": ",1),(0,y.withDirectives)((0,y.createElementVNode)("textarea",{id:"agreement_license_info","onUpdate:modelValue":t[8]||(t[8]=e=>i.agreement.license_info=e),placeholder:"License info"},null,512),[[y.vModelText,i.agreement.license_info]])])])]),(0,y.createVNode)(s,{resource_type:"agreement",additional_field_values:i.agreement.extended_attributes,onAdditionalFieldsChanged:r.additionalFieldsChanged},null,8,["additional_field_values","onAdditionalFieldsChanged"]),(0,y.createVNode)(c,{periods:i.agreement.periods},null,8,["periods"]),(0,y.createVNode)(d,{user_type:e.$__("Agreement user %s"),user_roles:i.agreement.user_roles,av_user_roles:a.av_user_roles},null,8,["user_type","user_roles","av_user_roles"]),(0,y.createVNode)(u,{agreement_licenses:i.agreement.agreement_licenses,av_agreement_license_statuses:a.av_agreement_license_statuses,av_agreement_license_location:a.av_agreement_license_location},null,8,["agreement_licenses","av_agreement_license_statuses","av_agreement_license_location"]),(0,y.createVNode)(p,{agreement_id:i.agreement.agreement_id,relationships:i.agreement.agreement_relationships,av_agreement_relationships:a.av_agreement_relationships},null,8,["agreement_id","relationships","av_agreement_relationships"]),(0,y.createVNode)(_,{documents:i.agreement.documents},null,8,["documents"]),(0,y.createElementVNode)("fieldset",ln,[(0,y.createVNode)(m),(0,y.createVNode)(f,{to:{name:"AgreementsList"},role:"button",class:"cancel"},{default:(0,y.withCtx)(()=>[(0,y.createTextVNode)((0,y.toDisplayString)(e.$__("Cancel")),1)]),_:1})])],32)])])):((0,y.openBlock)(),(0,y.createElementBlock)("div",oY,(0,y.toDisplayString)(e.$__("Loading")),1))}]]),sD={key:0},sT={key:1,id:"packages_add"},sB={key:0},sP={key:1},sO={class:"rows"},sR={class:"required",for:"package_name"},sI=["placeholder"],sM={class:"required"},sL={for:"package_vendor_id"},sj={for:"package_type"},sq={for:"package_content_type"},sF={for:"package_notes"},sU={class:"action"},sz=["value"],sH={class:"rows",id:"package_agreements"},sY={key:0},sJ=["id"],sK=["onClick"],sZ=(0,y.createElementVNode)("i",{class:"fa fa-trash"},null,-1),sW=["for"],sG=["required"],sQ={class:"required"},sX={key:3},s0=(0,iK.default)({data:()=>({agreements:[],initialized:!1}),beforeCreate(){rK.erm.agreements.getAll().then(e=>{this.agreements=e,this.initialized=!0},e=>{})},methods:{addAgreement(){this.package_agreements.push({agreement_id:null})},deleteAgreement(e){this.package_agreements.splice(e,1)}},props:{package_agreements:Array},name:"EHoldingsLocalPackageAgreements"},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("v-select"),l=(0,y.resolveComponent)("font-awesome-icon");return(0,y.openBlock)(),(0,y.createElementBlock)("fieldset",sH,[(0,y.createElementVNode)("legend",null,(0,y.toDisplayString)(e.$__("Agreements")),1),i.initialized?((0,y.openBlock)(!0),(0,y.createElementBlock)(y.Fragment,{key:1},(0,y.renderList)(n.package_agreements,(t,n)=>((0,y.openBlock)(),(0,y.createElementBlock)("fieldset",{id:`package_agreement_${n}`,class:"rows",key:n},[(0,y.createElementVNode)("legend",null,[(0,y.createTextVNode)((0,y.toDisplayString)(e.$__("Agreement %s").format(n+1))+" ",1),(0,y.createElementVNode)("a",{href:"#",onClick:(0,y.withModifiers)(e=>r.deleteAgreement(n),["prevent"])},[sZ,(0,y.createTextVNode)(" "+(0,y.toDisplayString)(e.$__("Remove this agreement")),1)],8,sK)]),(0,y.createElementVNode)("ol",null,[(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",{for:`agreement_id_${n}`,class:"required"},(0,y.toDisplayString)(e.$__("Agreement"))+": ",9,sW),(0,y.createVNode)(o,{id:`agreement_id_${n}`,modelValue:t.agreement_id,"onUpdate:modelValue":e=>t.agreement_id=e,label:"name",reduce:e=>e.agreement_id,options:i.agreements},{search:(0,y.withCtx)(({attributes:e,events:n})=>[(0,y.createElementVNode)("input",(0,y.mergeProps)({required:!t.agreement_id,class:"vs__search"},e,(0,y.toHandlers)(n,!0)),null,16,sG)]),_:2},1032,["id","modelValue","onUpdate:modelValue","reduce","options"]),(0,y.createElementVNode)("span",sQ,(0,y.toDisplayString)(e.$__("Required")),1)])])],8,sJ))),128)):((0,y.openBlock)(),(0,y.createElementBlock)("div",sY,(0,y.toDisplayString)(e.$__("Loading")),1)),i.initialized&&i.agreements.length?((0,y.openBlock)(),(0,y.createElementBlock)("a",{key:2,class:"btn btn-default",onClick:t[0]||(t[0]=(...e)=>r.addAgreement&&r.addAgreement(...e))},[(0,y.createVNode)(l,{icon:"plus"}),(0,y.createTextVNode)(" "+(0,y.toDisplayString)(e.$__("Add new agreement")),1)])):i.initialized?((0,y.openBlock)(),(0,y.createElementBlock)("span",sX,(0,y.toDisplayString)(e.$__("There are no agreements created yet")),1)):(0,y.createCommentVNode)("",!0)])}]]),s1=(0,iK.default)({setup(){let{av_package_types:e,av_package_content_types:t}=tR((0,y.inject)("AVStore"));return{av_package_types:e,av_package_content_types:t}},data:()=>({erm_package:{package_id:null,vendor_id:null,name:"",external_id:"",package_type:"",content_type:"",notes:"",created_on:null,resources:null,package_agreements:[],extended_attributes:[]},initialized:!1}),beforeRouteEnter(e,t,n){n(t=>{e.params.package_id?t.erm_package=t.getPackage(e.params.package_id):t.initialized=!0})},methods:{getPackage(e){rK.erm.localPackages.get(e).then(e=>{this.erm_package=e,this.initialized=!0},e=>{})},checkForm(e){let t=[],n=e.package_agreements.map(e=>e.agreement_id);return n.filter((e,t)=>n.indexOf(e)!==t).length&&t.push(this.$__("An agreement is used several times")),t.forEach(function(e){rO(e)}),!t.length},onSubmit(e){e.preventDefault();let t=JSON.parse(JSON.stringify(this.erm_package));if(!this.checkForm(t))return!1;let n=t.package_id;delete t.package_id,delete t.resources,delete t.vendor,delete t.resources_count,delete t.is_selected,delete t._strings,t.package_agreements=t.package_agreements.map(({package_id:e,agreement:t,...n})=>n);let a=rK.erm;n?a.localPackages.update(t,n).then(e=>{rR(this.$__("Package updated")),this.$router.push({name:"EHoldingsLocalPackagesList"})},e=>{}):a.localPackages.create(t).then(e=>{rR(this.$__("Package created")),this.$router.push({name:"EHoldingsLocalPackagesList"})},e=>{})},additionalFieldsChanged(e){this.erm_package.extended_attributes=e}},components:{EHoldingsPackageAgreements:s0,FormSelectVendors:sx,AdditionalFieldsEntry:sw},name:"EHoldingsEBSCOPackagesFormAdd"},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("FormSelectVendors"),l=(0,y.resolveComponent)("v-select"),s=(0,y.resolveComponent)("AdditionalFieldsEntry"),c=(0,y.resolveComponent)("EHoldingsPackageAgreements"),d=(0,y.resolveComponent)("router-link");return i.initialized?((0,y.openBlock)(),(0,y.createElementBlock)("div",sT,[i.erm_package.package_id?((0,y.openBlock)(),(0,y.createElementBlock)("h2",sB,(0,y.toDisplayString)(e.$__("Edit package #%s").format(i.erm_package.package_id)),1)):((0,y.openBlock)(),(0,y.createElementBlock)("h2",sP,(0,y.toDisplayString)(e.$__("New package")),1)),(0,y.createElementVNode)("div",null,[(0,y.createElementVNode)("form",{onSubmit:t[5]||(t[5]=e=>r.onSubmit(e))},[(0,y.createElementVNode)("fieldset",sO,[(0,y.createElementVNode)("ol",null,[(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",sR,(0,y.toDisplayString)(e.$__("Package name"))+":",1),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:"package_name","onUpdate:modelValue":t[0]||(t[0]=e=>i.erm_package.name=e),placeholder:e.$__("Package name"),required:""},null,8,sI),[[y.vModelText,i.erm_package.name]]),(0,y.createElementVNode)("span",sM,(0,y.toDisplayString)(e.$__("Required")),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",sL,(0,y.toDisplayString)(e.$__("Vendor"))+":",1),(0,y.createVNode)(o,{id:"package_vendor_id",modelValue:i.erm_package.vendor_id,"onUpdate:modelValue":t[1]||(t[1]=e=>i.erm_package.vendor_id=e)},null,8,["modelValue"])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",sj,(0,y.toDisplayString)(e.$__("Type"))+":",1),(0,y.createVNode)(l,{id:"package_type",modelValue:i.erm_package.package_type,"onUpdate:modelValue":t[2]||(t[2]=e=>i.erm_package.package_type=e),label:"description",reduce:e=>e.value,options:a.av_package_types},null,8,["modelValue","reduce","options"])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",sq,(0,y.toDisplayString)(e.$__("Content type: ")),1),(0,y.createVNode)(l,{id:"package_content_type",modelValue:i.erm_package.content_type,"onUpdate:modelValue":t[3]||(t[3]=e=>i.erm_package.content_type=e),label:"description",reduce:e=>e.value,options:a.av_package_content_types},null,8,["modelValue","reduce","options"])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",sF,(0,y.toDisplayString)(e.$__("Notes"))+":",1),(0,y.withDirectives)((0,y.createElementVNode)("textarea",{id:"package_notes","onUpdate:modelValue":t[4]||(t[4]=e=>i.erm_package.notes=e)},null,512),[[y.vModelText,i.erm_package.notes]])])])]),(0,y.createVNode)(s,{resource_type:"package",additional_field_values:i.erm_package.extended_attributes,onAdditionalFieldsChanged:r.additionalFieldsChanged},null,8,["additional_field_values","onAdditionalFieldsChanged"]),(0,y.createVNode)(c,{package_agreements:i.erm_package.package_agreements},null,8,["package_agreements"]),(0,y.createElementVNode)("fieldset",sU,[(0,y.createElementVNode)("input",{type:"submit",class:"btn btn-primary",value:e.$__("Submit")},null,8,sz),(0,y.createVNode)(d,{to:{name:"EHoldingsLocalPackagesList"},role:"button",class:"cancel"},{default:(0,y.withCtx)(()=>[(0,y.createTextVNode)((0,y.toDisplayString)(e.$__("Cancel")),1)]),_:1})])],32)])])):((0,y.openBlock)(),(0,y.createElementBlock)("div",sD,(0,y.toDisplayString)(e.$__("Loading")),1))}]]),s2={key:0},s3={key:1,id:"titles_add"},s4={key:0},s5={key:1},s8={class:"rows"},s6={key:0},s7={for:"title_title_id"},s9={class:"required",for:"title_name"},ce=["placeholder"],ct={class:"required"},cn={for:"title_print_identifier"},ca=["placeholder"],ci={for:"title_online_identifier"},cr=["placeholder"],co={for:"title_date_first_issue_online"},cl=["placeholder"],cs={for:"title_num_first_vol_online"},cc=["placeholder"],cd={for:"title_num_first_issue_online"},cu=["placeholder"],cp={for:"title_date_last_issue_online"},c_=["placeholder"],cm={for:"title_num_last_vol_online"},cf=["placeholder"],ch={for:"title_num_last_issue_online"},cg=["placeholder"],cv={for:"title_title_url"},cb=["placeholder"],cy={for:"title_first_author"},ck=["placeholder"],cE={for:"title_embargo_info"},cA=["placeholder"],cw={for:"title_coverage_depth"},cC=["placeholder"],cS={for:"title_notes"},cN=["placeholder"],cV={for:"title_publisher_name"},cx=["placeholder"],c$={for:"title_publication_type"},cD={for:"title_date_monograph_published_print"},cT=["placeholder"],cB={for:"title_date_monograph_published_online"},cP=["placeholder"],cO={for:"title_monograph_volume"},cR=["placeholder"],cI={for:"title_monograph_edition"},cM=["placeholder"],cL={for:"title_first_editor"},cj=["placeholder"],cq={for:"title_parent_publication_title_id"},cF=["placeholder"],cU={for:"title_preceding_publication_title_id"},cz=["placeholder"],cH={for:"title_access_type"},cY=["placeholder"],cJ={key:0,class:"rows"},cK={for:"create_linked_biblio"},cZ={class:"action"},cW=["value"],cG={class:"rows",id:"resources"},cQ=["onClick"],cX=(0,y.createElementVNode)("i",{class:"fa fa-trash"},null,-1),c0=["for"],c1=["required"],c2={class:"required"},c3=["for"],c4=["for"],c5=["for"],c8=["for"],c6=["id","onUpdate:modelValue","placeholder"],c7={key:1},c9={setup(){},data:()=>({packages:[],fp_config:flatpickr_defaults}),beforeCreate(){rK.erm.localPackages.getAll().then(e=>{this.packages=e,this.initialized=!0},e=>{})},methods:{addPackage(){this.resources.push({package_id:null,vendor_id:null,started_on:null,ended_on:null,proxy:""})},deletePackage(e){this.resources.splice(e,1)}},props:{resources:Array},components:{flatPickr:rV(),FormSelectVendors:sx},name:"EHoldingsLocalTitlesFormAddResources"},de=(0,iK.default)(c9,[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("v-select"),l=(0,y.resolveComponent)("FormSelectVendors"),s=(0,y.resolveComponent)("flat-pickr"),c=(0,y.resolveComponent)("font-awesome-icon");return(0,y.openBlock)(),(0,y.createElementBlock)("fieldset",cG,[(0,y.createElementVNode)("legend",null,(0,y.toDisplayString)(e.$__("Packages")),1),((0,y.openBlock)(!0),(0,y.createElementBlock)(y.Fragment,null,(0,y.renderList)(n.resources,(t,n)=>((0,y.openBlock)(),(0,y.createElementBlock)("fieldset",{class:"rows",key:n},[(0,y.createElementVNode)("legend",null,[(0,y.createTextVNode)((0,y.toDisplayString)(e.$__("Package %s").format(n+1))+" ",1),(0,y.createElementVNode)("a",{href:"#",onClick:(0,y.withModifiers)(e=>r.deletePackage(n),["prevent"])},[cX,(0,y.createTextVNode)(" "+(0,y.toDisplayString)(e.$__("Remove from this package")),1)],8,cQ)]),(0,y.createElementVNode)("ol",null,[(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",{for:`resource_package_id_${n}`,class:"required"},(0,y.toDisplayString)(e.$__("Package"))+": ",9,c0),(0,y.createVNode)(o,{id:`resource_package_id_${n}`,modelValue:t.package_id,"onUpdate:modelValue":e=>t.package_id=e,label:"name",reduce:e=>parseInt(e.package_id),options:i.packages},{search:(0,y.withCtx)(({attributes:e,events:n})=>[(0,y.createElementVNode)("input",(0,y.mergeProps)({required:!t.package_id,class:"vs__search"},e,(0,y.toHandlers)(n,!0)),null,16,c1)]),_:2},1032,["id","modelValue","onUpdate:modelValue","reduce","options"]),(0,y.createElementVNode)("span",c2,(0,y.toDisplayString)(e.$__("Required")),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",{for:`resource_vendor_id_${n}`},(0,y.toDisplayString)(e.$__("Vendor"))+":",9,c3),(0,y.createVNode)(l,{id:`resource_vendor_id_${n}`,modelValue:t.vendor_id,"onUpdate:modelValue":e=>t.vendor_id=e},null,8,["id","modelValue","onUpdate:modelValue"])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",{for:`started_on_${n}`},(0,y.toDisplayString)(e.$__("Start date"))+": ",9,c4),(0,y.createVNode)(s,{id:`started_on_${n}`,modelValue:t.started_on,"onUpdate:modelValue":e=>t.started_on=e,config:i.fp_config,"data-date_to":`ended_on_${n}`},null,8,["id","modelValue","onUpdate:modelValue","config","data-date_to"])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",{for:`ended_on_${n}`},(0,y.toDisplayString)(e.$__("End date"))+":",9,c5),(0,y.createVNode)(s,{id:`ended_on_${n}`,modelValue:t.ended_on,"onUpdate:modelValue":e=>t.ended_on=e,config:i.fp_config},null,8,["id","modelValue","onUpdate:modelValue","config"])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",{for:`${n}`},(0,y.toDisplayString)(e.$__("Proxy"))+":",9,c8),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:`proxy_${n}`,"onUpdate:modelValue":e=>t.proxy=e,placeholder:e.$__("Proxy")},null,8,c6),[[y.vModelText,t.proxy]])])])]))),128)),i.packages.length?((0,y.openBlock)(),(0,y.createElementBlock)("a",{key:0,class:"btn btn-default",onClick:t[0]||(t[0]=(...e)=>r.addPackage&&r.addPackage(...e))},[(0,y.createVNode)(c,{icon:"plus"}),(0,y.createTextVNode)(" "+(0,y.toDisplayString)(e.$__("Add to another package")),1)])):((0,y.openBlock)(),(0,y.createElementBlock)("span",c7,(0,y.toDisplayString)(e.$__("There are no packages created yet")),1))])}]]);var dt=n("4922"),dn={};dn.styleTagTransform=iH(),dn.setAttributes=iq(),dn.insert=iL().bind(null,"head"),dn.domAPI=iI(),dn.insertStyleElement=iU(),iO()(dt.Z,dn),dt.Z&&dt.Z.locals&&dt.Z.locals;let da=(0,iK.default)({setup(){let e=(0,y.inject)("AVStore"),{av_title_publication_types:t}=tR(e),{get_lib_from_av:n}=e;return{av_title_publication_types:t,get_lib_from_av:n}},data:()=>({title:{title_id:null,publication_title:"",external_id:"",print_identifier:"",online_identifier:"",date_first_issue_online:"",num_first_vol_online:"",num_first_issue_online:"",date_last_issue_online:"",num_last_vol_online:"",num_last_issue_online:"",title_url:"",first_author:"",embargo_info:"",coverage_depth:"",notes:"",publisher_name:"",publication_type:"",date_monograph_published_print:"",date_monograph_published_online:"",monograph_volume:"",monograph_edition:"",first_editor:"",parent_publication_title_id:"",preceding_publication_title_id:"",access_type:"",resources:[],create_linked_biblio:!1},initialized:!1}),beforeRouteEnter(e,t,n){n(t=>{e.params.title_id?t.title=t.getTitle(e.params.title_id):t.initialized=!0})},methods:{getTitle(e){rK.erm.localTitles.get(e).then(e=>{this.title=e,this.initialized=!0},e=>{})},checkForm(e){let t=[],n=e.resources.map(e=>e.package_id);return n.filter((e,t)=>n.indexOf(e)!==t).length&&t.push(this.$__("A package is used several times")),t.forEach(function(e){rO(e)}),!t.length},onSubmit(e){e.preventDefault();let t=JSON.parse(JSON.stringify(this.title));if(!this.checkForm(t))return!1;let n=t.title_id;delete t.title_id,delete t.biblio_id,t.resources.forEach(function(e){delete e.package,delete e.resource_id});let a=rK.erm;n?a.localTitles.update(t,n).then(e=>{rR(this.$__("Title updated")),this.$router.push({name:"EHoldingsLocalTitlesList"})},e=>{}):a.localTitles.create(t).then(e=>{rR(this.$__("Title created")),this.$router.push({name:"EHoldingsLocalTitlesList"})},e=>{})}},components:{EHoldingsTitlesFormAddResources:de},name:"EHoldingsLocalTitlesFormAdd"},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("v-select"),l=(0,y.resolveComponent)("EHoldingsTitlesFormAddResources"),s=(0,y.resolveComponent)("router-link");return i.initialized?((0,y.openBlock)(),(0,y.createElementBlock)("div",s3,[i.title.title_id?((0,y.openBlock)(),(0,y.createElementBlock)("h2",s4,(0,y.toDisplayString)(e.$__("Edit title #%s").format(i.title.title_id)),1)):((0,y.openBlock)(),(0,y.createElementBlock)("h2",s5,(0,y.toDisplayString)(e.$__("New title")),1)),(0,y.createElementVNode)("div",null,[(0,y.createElementVNode)("form",{onSubmit:t[25]||(t[25]=e=>r.onSubmit(e))},[(0,y.createElementVNode)("fieldset",s8,[(0,y.createElementVNode)("ol",null,[i.title.title_id?((0,y.openBlock)(),(0,y.createElementBlock)("li",s6,[(0,y.createElementVNode)("label",s7,(0,y.toDisplayString)(e.$__("Title identifier"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.title_id),1)])):(0,y.createCommentVNode)("",!0),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",s9,(0,y.toDisplayString)(e.$__("Publication title"))+":",1),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:"title_publication_title","onUpdate:modelValue":t[0]||(t[0]=e=>i.title.publication_title=e),placeholder:e.$__("Publication title"),required:""},null,8,ce),[[y.vModelText,i.title.publication_title]]),(0,y.createElementVNode)("span",ct,(0,y.toDisplayString)(e.$__("Required")),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",cn,(0,y.toDisplayString)(e.$__("Print-format identifier"))+":",1),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:"title_print_identifier","onUpdate:modelValue":t[1]||(t[1]=e=>i.title.print_identifier=e),placeholder:e.$__("Print-format identifier")},null,8,ca),[[y.vModelText,i.title.print_identifier]])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",ci,(0,y.toDisplayString)(e.$__("Online-format identifier"))+":",1),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:"title_online_identifier","onUpdate:modelValue":t[2]||(t[2]=e=>i.title.online_identifier=e),placeholder:e.$__("Online-format identifier")},null,8,cr),[[y.vModelText,i.title.online_identifier]])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",co,(0,y.toDisplayString)(e.$__("Date of first serial issue available online"))+":",1),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:"title_date_first_issue_online","onUpdate:modelValue":t[3]||(t[3]=e=>i.title.date_first_issue_online=e),placeholder:e.$__("Date of first serial issue available online")},null,8,cl),[[y.vModelText,i.title.date_first_issue_online]])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",cs,(0,y.toDisplayString)(e.$__("Number of first volume available online"))+":",1),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:"title_num_first_vol_online","onUpdate:modelValue":t[4]||(t[4]=e=>i.title.num_first_vol_online=e),placeholder:e.$__("Number of first volume available online")},null,8,cc),[[y.vModelText,i.title.num_first_vol_online]])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",cd,(0,y.toDisplayString)(e.$__("Number of first issue available online"))+":",1),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:"title_num_first_issue_online","onUpdate:modelValue":t[5]||(t[5]=e=>i.title.num_first_issue_online=e),placeholder:e.$__("Number of first issue available online")},null,8,cu),[[y.vModelText,i.title.num_first_issue_online]])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",cp,(0,y.toDisplayString)(e.$__("Date of last issue available online"))+":",1),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:"title_date_last_issue_online","onUpdate:modelValue":t[6]||(t[6]=e=>i.title.date_last_issue_online=e),placeholder:e.$__("Date of last issue available online")},null,8,c_),[[y.vModelText,i.title.date_last_issue_online]])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",cm,(0,y.toDisplayString)(e.$__("Number of last volume available online"))+":",1),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:"title_num_last_vol_online","onUpdate:modelValue":t[7]||(t[7]=e=>i.title.num_last_vol_online=e),placeholder:e.$__("Number of last volume available online")},null,8,cf),[[y.vModelText,i.title.num_last_vol_online]])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",ch,(0,y.toDisplayString)(e.$__("Number of last issue available online"))+":",1),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:"title_num_last_issue_online","onUpdate:modelValue":t[8]||(t[8]=e=>i.title.num_last_issue_online=e),placeholder:e.$__("Number of last issue available online")},null,8,cg),[[y.vModelText,i.title.num_last_issue_online]])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",cv,(0,y.toDisplayString)(e.$__("Title-level URL"))+":",1),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:"title_title_url","onUpdate:modelValue":t[9]||(t[9]=e=>i.title.title_url=e),placeholder:e.$__("Title-level URL")},null,8,cb),[[y.vModelText,i.title.title_url]])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",cy,(0,y.toDisplayString)(e.$__("First author"))+":",1),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:"title_first_author","onUpdate:modelValue":t[10]||(t[10]=e=>i.title.first_author=e),placeholder:e.$__("First author")},null,8,ck),[[y.vModelText,i.title.first_author]])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",cE,(0,y.toDisplayString)(e.$__("Embargo information"))+":",1),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:"title_embargo_info","onUpdate:modelValue":t[11]||(t[11]=e=>i.title.embargo_info=e),placeholder:e.$__("Embargo information")},null,8,cA),[[y.vModelText,i.title.embargo_info]])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",cw,(0,y.toDisplayString)(e.$__("Coverage depth"))+":",1),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:"title_coverage_depth","onUpdate:modelValue":t[12]||(t[12]=e=>i.title.coverage_depth=e),placeholder:e.$__("Coverage depth")},null,8,cC),[[y.vModelText,i.title.coverage_depth]])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",cS,(0,y.toDisplayString)(e.$__("Notes"))+":",1),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:"title_notes","onUpdate:modelValue":t[13]||(t[13]=e=>i.title.notes=e),placeholder:e.$__("Notes")},null,8,cN),[[y.vModelText,i.title.notes]])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",cV,(0,y.toDisplayString)(e.$__("Publisher name"))+":",1),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:"title_publisher_name","onUpdate:modelValue":t[14]||(t[14]=e=>i.title.publisher_name=e),placeholder:e.$__("Publisher name")},null,8,cx),[[y.vModelText,i.title.publisher_name]])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",c$,(0,y.toDisplayString)(e.$__("Publication type"))+":",1),(0,y.createVNode)(o,{id:"title_publication_type",modelValue:i.title.publication_type,"onUpdate:modelValue":t[15]||(t[15]=e=>i.title.publication_type=e),label:"description",reduce:e=>e.value,options:a.av_title_publication_types},null,8,["modelValue","reduce","options"])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",cD,(0,y.toDisplayString)(e.$__("Date the monograph is first published in print"))+":",1),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:"title_date_monograph_published_print","onUpdate:modelValue":t[16]||(t[16]=e=>i.title.date_monograph_published_print=e),placeholder:e.$__("Date the monograph is first published in print")},null,8,cT),[[y.vModelText,i.title.date_monograph_published_print]])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",cB,(0,y.toDisplayString)(e.$__("Date the monograph is first published online"))+":",1),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:"title_date_monograph_published_online","onUpdate:modelValue":t[17]||(t[17]=e=>i.title.date_monograph_published_online=e),placeholder:e.$__("Date the monograph is first published online")},null,8,cP),[[y.vModelText,i.title.date_monograph_published_online]])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",cO,(0,y.toDisplayString)(e.$__("Number of volume for monograph"))+":",1),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:"title_monograph_volume","onUpdate:modelValue":t[18]||(t[18]=e=>i.title.monograph_volume=e),placeholder:e.$__("Number of volume for monograph")},null,8,cR),[[y.vModelText,i.title.monograph_volume]])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",cI,(0,y.toDisplayString)(e.$__("Edition of the monograph"))+":",1),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:"title_monograph_edition","onUpdate:modelValue":t[19]||(t[19]=e=>i.title.monograph_edition=e),placeholder:e.$__("Edition of the monograph")},null,8,cM),[[y.vModelText,i.title.monograph_edition]])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",cL,(0,y.toDisplayString)(e.$__("First editor"))+":",1),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:"title_first_editor","onUpdate:modelValue":t[20]||(t[20]=e=>i.title.first_editor=e),placeholder:e.$__("First editor")},null,8,cj),[[y.vModelText,i.title.first_editor]])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",cq,(0,y.toDisplayString)(e.$__("Title identifier of the parent publication"))+":",1),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:"title_parent_publication_title_id","onUpdate:modelValue":t[21]||(t[21]=e=>i.title.parent_publication_title_id=e),placeholder:e.$__("Title identifier of the parent publication")},null,8,cF),[[y.vModelText,i.title.parent_publication_title_id]])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",cU,(0,y.toDisplayString)(e.$__("Title identifier of any preceding publication title"))+":",1),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:"title_preceding_publication_title_id","onUpdate:modelValue":t[22]||(t[22]=e=>i.title.preceding_publication_title_id=e),placeholder:e.$__("Title identifier of any preceding publication title")},null,8,cz),[[y.vModelText,i.title.preceding_publication_title_id]])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",cH,(0,y.toDisplayString)(e.$__("Access type"))+":",1),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:"title_access_type","onUpdate:modelValue":t[23]||(t[23]=e=>i.title.access_type=e),placeholder:e.$__("Access type")},null,8,cY),[[y.vModelText,i.title.access_type]])])])]),i.title.title_id&&i.title.biblio_id||!i.title.title_id?((0,y.openBlock)(),(0,y.createElementBlock)("fieldset",cJ,[(0,y.createElementVNode)("legend",null,(0,y.toDisplayString)(i.title.title_id?e.$__("Update linked bibliographic record"):e.$__("Create linked bibliographic record"))+": ",1),(0,y.createElementVNode)("label",cK,(0,y.toDisplayString)(i.title.title_id?e.$__("Update bibliographic record"):e.$__("Create bibliographic record"))+":",1),(0,y.withDirectives)((0,y.createElementVNode)("input",{type:"checkbox",id:"create_linked_biblio","onUpdate:modelValue":t[24]||(t[24]=e=>i.title.create_linked_biblio=e)},null,512),[[y.vModelCheckbox,i.title.create_linked_biblio]])])):(0,y.createCommentVNode)("",!0),(0,y.createVNode)(l,{resources:i.title.resources},null,8,["resources"]),(0,y.createElementVNode)("fieldset",cZ,[(0,y.createElementVNode)("input",{type:"submit",class:"btn btn-primary",value:e.$__("Submit")},null,8,cW),(0,y.createVNode)(s,{to:{name:"EHoldingsLocalTitlesList"},role:"button",class:"cancel"},{default:(0,y.withCtx)(()=>[(0,y.createTextVNode)((0,y.toDisplayString)(e.$__("Cancel")),1)]),_:1})])],32)])])):((0,y.openBlock)(),(0,y.createElementBlock)("div",s2,(0,y.toDisplayString)(e.$__("Loading")),1))}],["__scopeId","data-v-6f7165c1"]]),di={key:0,class:"alert alert-info"},dr=["href"],dl={id:"package_list",class:"rows"},ds={id:"import_list_result",class:"page-section"},dc=["id"];var dd=n("5177"),du={};du.styleTagTransform=iH(),du.setAttributes=iq(),du.insert=iL().bind(null,"head"),du.domAPI=iI(),du.insertStyleElement=iU(),iO()(dd.Z,du),dd.Z&&dd.Z.locals&&dd.Z.locals;let dp=(0,iK.default)({setup(){let e="list_list";return on(e),{table_id:e,logged_in_user_lists}},data:()=>({job_id:null,package_id:null,packages:[]}),beforeCreate(){rK.erm.localPackages.getAll().then(e=>{this.packages=e,this.packages.length&&(this.package_id=e[0].package_id),this.initialized=!0},e=>{})},methods:{import_from_list:async function(e){if(!this.package_id){rP(this.$__("Cannot import, no package selected"));return}if(!!e)rK.erm.localTitles.import({list_id:e,package_id:this.package_id}).then(e=>{this.job_id=e.job_id},e=>{})},build_datatable:function(){let e=this.logged_in_user_lists,t=this.table_id,n=this.import_from_list;$("#"+t).dataTable($.extend(!0,{},dataTablesDefaults,{data:e,order:[[0,"asc"]],autoWidth:!1,columns:[{title:__("Name"),data:"shelfname",searchable:!0,orderable:!0,width:"100%",render:function(e,t,n,a){return n.shelfname+" (#"+n.shelfnumber+")"}},{title:__("Actions"),data:function(e,t,n,a){return'<div class="actions"></div>'},className:"actions noExport",searchable:!1,orderable:!1}],drawCallback:function(e){var t=new $.fn.dataTable.Api(e);$.each($(this).find("td .actions"),function(e,a){let i=$(this).parent().parent(),r=t.row(i).data().shelfnumber,o=(0,y.createVNode)("a",{class:"btn btn-default btn-xs",role:"button",onClick:()=>{n(r)}},[(0,y.createVNode)("i",{class:"fa fa-download","aria-hidden":"true"}),__("Import")]),l=(0,y.createVNode)("span",{},[o]);(0,y.render)(l,a)})}}))}},mounted(){this.build_datatable()},name:"EHoldingsLocalTitlesFormImport"},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("v-select");return(0,y.openBlock)(),(0,y.createElementBlock)(y.Fragment,null,[(0,y.createElementVNode)("h2",null,(0,y.toDisplayString)(e.$__("Import from a list")),1),i.job_id?((0,y.openBlock)(),(0,y.createElementBlock)("div",di,[(0,y.createTextVNode)((0,y.toDisplayString)(e.$__("Import in progress,"))+" ",1),(0,y.createElementVNode)("a",{href:`/cgi-bin/koha/admin/background_jobs.pl?op=view&id=${i.job_id}`,target:"_blank"},(0,y.toDisplayString)(e.$__("see job #%s").format(i.job_id)),9,dr)])):(0,y.createCommentVNode)("",!0),(0,y.createElementVNode)("fieldset",dl,[(0,y.createTextVNode)((0,y.toDisplayString)(e.$__("To the following local package"))+": ",1),(0,y.createVNode)(o,{modelValue:i.package_id,"onUpdate:modelValue":t[0]||(t[0]=e=>i.package_id=e),label:"name",reduce:e=>e.package_id,options:i.packages,clearable:!1},null,8,["modelValue","reduce","options"])]),(0,y.createElementVNode)("div",ds,[(0,y.createElementVNode)("table",{id:a.table_id},null,8,dc)])],64)}],["__scopeId","data-v-2e85ed3a"]]),d_={class:"page-section",id:"files"},dm={style:{"margin-bottom":"1.5em"}},df={class:"rows",id:"package_list"},dh={for:"import_file"},dg={for:"package_id"},dv=["required"],db={class:"required"},dy={for:"create_linked_biblio"},dk={class:"action"};var dE=n("3513"),dA={};dA.styleTagTransform=iH(),dA.setAttributes=iq(),dA.insert=iL().bind(null,"head"),dA.domAPI=iI(),dA.insertStyleElement=iU(),iO()(dE.Z,dA),dE.Z&&dE.Z.locals&&dE.Z.locals;let dw=(0,iK.default)({setup(){let{setMessage:e,setWarning:t}=(0,y.inject)("mainStore");return{setMessage:e,setWarning:t}},data:()=>({file:{filename:null,file_content:null},packages:[],package_id:null,create_linked_biblio:!1,fileLoader:(0,y.ref)()}),beforeCreate(){rK.erm.localPackages.getAll().then(e=>{this.packages=e,this.initialized=!0},e=>{})},methods:{selectFile(e){let t=e.target.files;if(!t)return;let n=t[0],a=new FileReader;a.onload=e=>this.loadFile(n.name,e.target.result),a.readAsBinaryString(n)},loadFile(e,t){this.file.filename=e,this.file.file_content=btoa(t)},addDocument(e){e.preventDefault();let t=rK.erm,n={file:this.file,package_id:this.package_id,create_linked_biblio:this.create_linked_biblio};t.localTitles.import_kbart(n).then(e=>{let t="";e.job_ids&&(e.job_ids.length>1&&(t+=`<p style='font-weight: normal; font-size: medium; margin-top: 1em;'>${this.$__("Your file was too large to process in one job, the file has been split into %s jobs to meet the maximum size limits.").format(e.job_ids.length)}</p>`),e.job_ids.forEach((e,n)=>{t+=`<li>${this.$__("Job %s for uploaded file has been queued").format(n+1)}, <a href="/cgi-bin/koha/admin/background_jobs.pl?op=view&id=${e}" target="_blank">${this.$__("see progress")}</a></li>`}),this.setMessage(t,!0)),e.warnings.invalid_columns&&(t+=`<p style='font-weight: normal; font-size: medium; margin-top: 1em;'>${this.$__("Information:")}</p><p>${this.$__("Additional columns were detected in your report, please see the list below:")}</p>`,e.warnings.invalid_columns.forEach(e=>{t+=`<li>${e}</li>`}),t+=`<p style='margin-top: 0.1em;'>${this.$__("The data in these columns will not be imported.")}</p>`,this.setMessage(t,!0)),e.warnings.invalid_filetype&&(t+=`<p>${this.$__("The file must be in .tsv or .csv format, please convert your file and try again.")}</p>`,this.setWarning(t))},e=>{}),this.clearForm()},clearForm(){this.file={filename:null,file_type:null,file_content:null},this.package_id=null,this.create_linked_biblio=!1,this.$refs.fileLoader.files=null,this.$refs.fileLoader.value=null}},components:{ButtonSubmit:sN},name:"EHoldingsLocalTitlesKBARTImport"},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("v-select"),l=(0,y.resolveComponent)("ButtonSubmit");return(0,y.openBlock)(),(0,y.createElementBlock)(y.Fragment,null,[(0,y.createElementVNode)("h2",null,(0,y.toDisplayString)(e.$__("Import from a KBART file")),1),(0,y.createElementVNode)("div",d_,[(0,y.createElementVNode)("form",{onSubmit:t[4]||(t[4]=e=>r.addDocument(e)),class:"file_upload"},[(0,y.createElementVNode)("h3",null,(0,y.toDisplayString)(e.$__("Requirements:")),1),(0,y.createElementVNode)("ul",dm,[(0,y.createElementVNode)("li",null,(0,y.toDisplayString)(e.$__("The file must be in TSV or CSV format")),1),(0,y.createElementVNode)("li",null,[(0,y.createTextVNode)((0,y.toDisplayString)(e.$__("The file should not contain any additional information / header rows, e.g. a file with a single title would be structured as follows:"))+" ",1),(0,y.createElementVNode)("ol",null,[(0,y.createElementVNode)("li",null,(0,y.toDisplayString)(e.$__("Column headings row")),1),(0,y.createElementVNode)("li",null,(0,y.toDisplayString)(e.$__("Title data row")),1)])])]),(0,y.createElementVNode)("fieldset",df,[(0,y.createElementVNode)("h3",null,(0,y.toDisplayString)(e.$__("Select file for upload"))+":",1),(0,y.createElementVNode)("ol",null,[(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",dh,(0,y.toDisplayString)(e.$__("File"))+":",1),(0,y.createElementVNode)("input",{type:"file",onChange:t[0]||(t[0]=e=>r.selectFile(e)),id:"import_file",name:"import_file",required:"",ref:"fileLoader"},null,544)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",dg,(0,y.toDisplayString)(e.$__("To the following local package"))+":",1),(0,y.createVNode)(o,{id:"package_id",modelValue:i.package_id,"onUpdate:modelValue":t[1]||(t[1]=e=>i.package_id=e),label:"name",reduce:e=>e.package_id,options:i.packages,clearable:!1,required:!i.package_id},{search:(0,y.withCtx)(({attributes:e,events:t})=>[(0,y.createElementVNode)("input",(0,y.mergeProps)({required:!i.package_id,class:"vs__search"},e,(0,y.toHandlers)(t,!0)),null,16,dv)]),_:1},8,["modelValue","reduce","options","required"]),(0,y.createElementVNode)("span",db,(0,y.toDisplayString)(e.$__("Required")),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",dy,(0,y.toDisplayString)(e.$__("Create linked bibliographic record"))+":",1),(0,y.withDirectives)((0,y.createElementVNode)("input",{type:"checkbox",id:"create_linked_biblio","onUpdate:modelValue":t[2]||(t[2]=e=>i.create_linked_biblio=e)},null,512),[[y.vModelCheckbox,i.create_linked_biblio]])])])]),(0,y.createElementVNode)("fieldset",dk,[(0,y.createVNode)(l),(0,y.createElementVNode)("a",{onClick:t[3]||(t[3]=e=>r.clearForm()),role:"button",class:"cancel"},(0,y.toDisplayString)(e.$__("Clear form")),1)])],32)])],64)}],["__scopeId","data-v-5201fb7e"]]),dC={key:0},dS={key:1,id:"packages_list"},dN={key:0,id:"package_list_result",class:"page-section"},dV={key:1,class:"alert alert-info"},dx=(0,iK.default)({setup(){let{vendors:e}=tR((0,y.inject)("vendorStore")),{get_lib_from_av:t,map_av_dt_filter:n}=(0,y.inject)("AVStore"),{setConfirmationDialog:a,setMessage:i}=(0,y.inject)("mainStore"),r=(0,y.ref)();return{vendors:e,get_lib_from_av:t,map_av_dt_filter:n,table:r,filters:(0,y.reactive)({package_name:"",content_type:""}),setConfirmationDialog:a,setMessage:i,escape_str,eholdings_packages_table_settings}},data:function(){this.filters={package_name:this.$route.query.package_name||"",content_type:this.$route.query.content_type||""};let e=this.filters;return{package_count:0,initialized:!1,searchable_additional_fields:[],searchable_av_options:[],tableOptions:{columns:this.getTableColumns(),url:"/api/v1/erm/eholdings/local/packages",options:{embed:"resources+count,vendor.name,extended_attributes,+strings",searchCols:[{search:e.package_name},null,null,{search:e.content_type},null,null]},table_settings:this.eholdings_packages_table_settings,add_filters:!0,filters_options:{1:()=>this.vendors.map(e=>(e._id=e.id,e._str=e.name,e)),2:()=>this.map_av_dt_filter("av_package_types"),3:()=>this.map_av_dt_filter("av_package_content_types")},actions:{0:["show"],"-1":["edit","delete"]}}}},beforeRouteEnter(e,t,n){n(e=>{e.getPackageCount().then(()=>e.getSearchableAdditionalFields().then(()=>e.getSearchableAVOptions().then(()=>e.initialized=!0)))})},methods:{async getPackageCount(){let e=rK.erm;await e.localPackages.count().then(e=>{this.package_count=e},e=>{})},async getSearchableAdditionalFields(){let e=rK.additional_fields;await e.additional_fields.getAll("package").then(e=>{this.searchable_additional_fields=e.filter(e=>e.searchable)},e=>{})},async getSearchableAVOptions(){let e=rK.authorised_values,t=this.searchable_additional_fields.filter(e=>e.authorised_value_category_name).map(e=>e.authorised_value_category_name);await e.values.getCategoriesWithValues([...new Set(t.map(e=>'"'+e+'"'))]).then(e=>{t.forEach(t=>{let n=e.find(e=>e.category_name==t);this.searchable_av_options[t]=n.authorised_values.map(e=>({value:e.value,label:e.description}))})})},doShow:function({package_id:e},t,n){n.preventDefault(),this.$router.push({name:"EHoldingsLocalPackagesShow",params:{package_id:e}})},doEdit:function({package_id:e},t,n){this.$router.push({name:"EHoldingsLocalPackagesFormAddEdit",params:{package_id:e}})},doDelete:function(e,t,n){this.setConfirmationDialog({title:this.$__("Are you sure you want to remove this package?"),message:e.name,accept_label:this.$__("Yes, delete"),cancel_label:this.$__("No, do not delete")},()=>{rK.erm.localPackages.delete(e.package_id).then(n=>{this.setMessage(this.$__("Local package %s deleted").format(e.name),!0),t.draw()},e=>{})})},getTableColumns:function(){let e=this.get_lib_from_av,t=this.escape_str;return[{title:__("Name"),data:"me.name:me.package_id",searchable:!0,orderable:!0,render:function(e,n,a,i){return'<a href="/cgi-bin/koha/erm/eholdings/local/packages/'+a.package_id+'" class="show">'+t(`${a.name} (#${a.package_id})`)+"</a>"}},{title:__("Vendor"),data:"vendor_id",searchable:!0,orderable:!0,render:function(e,n,a,i){return void 0!=a.vendor_id?'<a href="/cgi-bin/koha/acqui/supplier.pl?booksellerid='+a.vendor_id+'">'+t(a.vendor.name)+"</a>":""}},{title:__("Type"),data:"package_type",searchable:!0,orderable:!0,render:function(n,a,i,r){return t(e("av_package_types",i.package_type))}},{title:__("Content type"),data:"content_type",searchable:!0,orderable:!0,render:function(n,a,i,r){return t(e("av_package_content_types",i.content_type))}},{title:__("Created on"),data:"created_on",searchable:!1,orderable:!0,render:function(e,t,n,a){return $date(n.created_on)}},{title:__("Notes"),data:"notes",searchable:!0,orderable:!0,render:function(e,t,n,a){return n.notes}}]}},components:{Toolbar:oe,ToolbarButton:ot,KohaTable:oc},name:"EHoldingsLocalPackagesList"},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("ToolbarButton"),l=(0,y.resolveComponent)("Toolbar"),s=(0,y.resolveComponent)("KohaTable");return(0,y.openBlock)(),(0,y.createElementBlock)("div",null,[e.initialized?((0,y.openBlock)(),(0,y.createElementBlock)("div",dS,[(0,y.createVNode)(l,null,{default:(0,y.withCtx)(()=>[(0,y.createVNode)(o,{to:{name:"EHoldingsLocalPackagesFormAdd"},icon:"plus",title:e.$__("New package")},null,8,["title"])]),_:1}),e.package_count>0?((0,y.openBlock)(),(0,y.createElementBlock)("div",dN,[(0,y.createVNode)(s,(0,y.mergeProps)({ref:"table"},e.tableOptions,{searchable_additional_fields:e.searchable_additional_fields,searchable_av_options:e.searchable_av_options,onShow:r.doShow,onEdit:r.doEdit,onDelete:r.doDelete}),null,16,["searchable_additional_fields","searchable_av_options","onShow","onEdit","onDelete"])])):((0,y.openBlock)(),(0,y.createElementBlock)("div",dV,(0,y.toDisplayString)(e.$__("There are no packages defined")),1))])):((0,y.openBlock)(),(0,y.createElementBlock)("div",dC,(0,y.toDisplayString)(e.$__("Loading")),1))])}]]),d$={key:0},dD={key:1,id:"packages_show"},dT={class:"rows"},dB={key:0},dP=["href"],dO={key:1},dR={key:2},dI={key:0},dM={class:"action"},dL={id:"title_list_result"},dj=(0,iK.default)({setup(){let{get_lib_from_av:e,map_av_dt_filter:t}=(0,y.inject)("AVStore");return{get_lib_from_av:e,map_av_dt_filter:t,escape_str,table:(0,y.ref)()}},data(){return{tableOptions:{columns:this.getTableColumns(),url:"/api/v1/erm/eholdings/local/packages/"+this.package_id+"/resources",options:{embed:"title"},add_filters:!0,filters_options:{1:()=>this.map_av_dt_filter("av_title_publication_types")},actions:{0:["show"]}}}},methods:{doShow:function({resource_id:e},t,n){n.preventDefault(),this.$router.push({name:"EHoldingsLocalResourcesShow",params:{resource_id:e}})},getTableColumns:function(){let e=this.get_lib_from_av,t=this.escape_str;return[{title:__("Name"),data:"title.publication_title",searchable:!0,orderable:!0,render:function(e,n,a,i){return'<a href="/cgi-bin/koha/erm/eholdings/local/resources/'+a.resource_id+'" class="show">'+t(a.title.publication_title)+"</a>"}},{title:__("Publication type"),data:"title.publication_type",searchable:!0,orderable:!0,render:function(n,a,i,r){return t(e("av_title_publication_types",i.title.publication_type))}}]}},props:{package_id:String},components:{KohaTable:oc},name:"EHoldingsLocalPackageTitlesList"},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("KohaTable");return(0,y.openBlock)(),(0,y.createElementBlock)("div",dL,[(0,y.createVNode)(o,(0,y.mergeProps)({ref:"table"},i.tableOptions,{onShow:r.doShow}),null,16,["onShow"])])}]]);var dq=n("5085"),dF={};dF.styleTagTransform=iH(),dF.setAttributes=iq(),dF.insert=iL().bind(null,"head"),dF.domAPI=iI(),dF.insertStyleElement=iU(),iO()(dq.Z,dF),dq.Z&&dq.Z.locals&&dq.Z.locals;let dU=(0,iK.default)({setup(){let e=$date,{setConfirmationDialog:t,setMessage:n}=(0,y.inject)("mainStore"),{get_lib_from_av:a}=(0,y.inject)("AVStore");return{format_date:e,get_lib_from_av:a,setConfirmationDialog:t,setMessage:n}},data:()=>({erm_package:{package_id:null,vendor_id:null,name:"",external_id:"",package_type:"",content_type:"",created_on:null,resources:null,package_agreements:[],extended_attributes:[],_strings:[]},initialized:!1}),beforeRouteEnter(e,t,n){n(t=>{t.getPackage(e.params.package_id)})},beforeRouteUpdate(e,t){this.erm_package=this.getPackage(e.params.package_id)},methods:{getPackage(e){rK.erm.localPackages.get(e).then(e=>{this.erm_package=e,this.initialized=!0},e=>{})},delete_package:function(e,t){this.setConfirmationDialog({title:this.$__("Are you sure you want to remove this package?"),message:t,accept_label:this.$__("Yes, delete"),cancel_label:this.$__("No, do not delete")},()=>{rK.erm.localPackages.delete(e).then(e=>{this.setMessage(this.$__("Local package %s deleted").format(t),!0),this.$router.push({name:"EHoldingsLocalPackagesList"})},e=>{})})}},components:{EHoldingsPackageTitlesList:dj,Toolbar:oe,ToolbarButton:ot,AdditionalFieldsDisplay:oF},name:"EHoldingsLocalPackagesShow"},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("ToolbarButton"),l=(0,y.resolveComponent)("font-awesome-icon"),s=(0,y.resolveComponent)("Toolbar"),c=(0,y.resolveComponent)("router-link"),d=(0,y.resolveComponent)("EHoldingsPackageTitlesList"),u=(0,y.resolveComponent)("AdditionalFieldsDisplay");return i.initialized?i.erm_package?((0,y.openBlock)(),(0,y.createElementBlock)("div",dD,[(0,y.createVNode)(s,null,{default:(0,y.withCtx)(()=>[(0,y.createVNode)(o,{to:{name:"EHoldingsLocalPackagesFormAddEdit",params:{package_id:i.erm_package.package_id}},icon:"pencil",title:e.$__("Edit")},null,8,["to","title"]),(0,y.createElementVNode)("a",{onClick:t[0]||(t[0]=e=>r.delete_package(i.erm_package.package_id,i.erm_package.name)),class:"btn btn-default"},[(0,y.createVNode)(l,{icon:"trash"}),(0,y.createTextVNode)(" "+(0,y.toDisplayString)(e.$__("Delete")),1)])]),_:1}),(0,y.createElementVNode)("h2",null,(0,y.toDisplayString)(e.$__("Package #%s").format(i.erm_package.package_id)),1),(0,y.createElementVNode)("div",null,[(0,y.createElementVNode)("fieldset",dT,[(0,y.createElementVNode)("ol",null,[(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Package name"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.erm_package.name),1)]),i.erm_package.vendor?((0,y.openBlock)(),(0,y.createElementBlock)("li",dB,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Vendor"))+":",1),(0,y.createElementVNode)("span",null,[(0,y.createElementVNode)("a",{href:`/cgi-bin/koha/acqui/booksellers.pl?booksellerid=${i.erm_package.vendor_id}`},(0,y.toDisplayString)(i.erm_package.vendor.name),9,dP)])])):(0,y.createCommentVNode)("",!0),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Package type"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(a.get_lib_from_av("av_package_types",i.erm_package.package_type)),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Content type"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(a.get_lib_from_av("av_package_content_types",i.erm_package.content_type)),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Notes"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.erm_package.notes),1)]),i.erm_package.created_on?((0,y.openBlock)(),(0,y.createElementBlock)("li",dO,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Created on"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(a.format_date(i.erm_package.created_on)),1)])):(0,y.createCommentVNode)("",!0),i.erm_package.package_agreements.length?((0,y.openBlock)(),(0,y.createElementBlock)("li",dR,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Agreements")),1),((0,y.openBlock)(!0),(0,y.createElementBlock)(y.Fragment,null,(0,y.renderList)(i.erm_package.package_agreements,e=>((0,y.openBlock)(),(0,y.createElementBlock)("div",{key:e.agreement_id},[(0,y.createVNode)(c,{to:{name:"AgreementsShow",params:{agreement_id:e.agreement.agreement_id}}},{default:(0,y.withCtx)(()=>[(0,y.createTextVNode)((0,y.toDisplayString)(e.agreement.name),1)]),_:2},1032,["to"])]))),128))])):(0,y.createCommentVNode)("",!0),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Titles (%s)").format(i.erm_package.resources_count)),1)])]),i.erm_package.resources_count?((0,y.openBlock)(),(0,y.createElementBlock)("div",dI,[(0,y.createVNode)(d,{package_id:i.erm_package.package_id.toString()},null,8,["package_id"])])):(0,y.createCommentVNode)("",!0)]),(0,y.createVNode)(u,{resource_type:"package",additional_field_values:i.erm_package._strings.additional_field_values},null,8,["additional_field_values"]),(0,y.createElementVNode)("fieldset",dM,[(0,y.createVNode)(c,{to:{name:"EHoldingsLocalPackagesList"},role:"button",class:"cancel"},{default:(0,y.withCtx)(()=>[(0,y.createTextVNode)((0,y.toDisplayString)(e.$__("Close")),1)]),_:1})])])])):(0,y.createCommentVNode)("",!0):((0,y.openBlock)(),(0,y.createElementBlock)("div",d$,(0,y.toDisplayString)(e.$__("Loading")),1))}],["__scopeId","data-v-4c60eb1c"]]),dz={key:0},dH={key:1,id:"eholdings_resources_show"},dY={class:"rows"},dJ={key:0},dK={key:1},dZ={key:2},dW={class:"rows"},dG={key:0},dQ={key:0},dX={class:"rows"},d0=(e=>((0,y.pushScopeId)("data-v-673e609b"),e=e(),(0,y.popScopeId)(),e))(()=>(0,y.createElementVNode)("legend",null,"Resource settings",-1));var d1=n("6098"),d2={};d2.styleTagTransform=iH(),d2.setAttributes=iq(),d2.insert=iL().bind(null,"head"),d2.domAPI=iI(),d2.insertStyleElement=iU(),iO()(d1.Z,d2),d1.Z&&d1.Z.locals&&d1.Z.locals;let d3=(0,iK.default)({setup:()=>({format_date:$date}),data:()=>({resource:{resource_id:null,title_id:null,package_id:null,started_on:"",ended_on:"",proxy:"",title:{},package:{}},initialized:!1}),beforeRouteEnter(e,t,n){n(t=>{t.getResource(e.params.resource_id)})},beforeRouteUpdate(e,t){this.resource=this.getResource(e.params.resource_id)},methods:{getResource(e){rK.erm.localResources.get(e).then(e=>{this.resource=e,this.initialized=!0},e=>{})}},name:"EHoldingsLocalResourcesShow"},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("router-link");return i.initialized?i.resource?((0,y.openBlock)(),(0,y.createElementBlock)("div",dH,[(0,y.createElementVNode)("h2",null,(0,y.toDisplayString)(e.$__("Resource #%s").format(i.resource.resource_id)),1),(0,y.createElementVNode)("div",null,[(0,y.createElementVNode)("fieldset",dY,[(0,y.createElementVNode)("legend",null,(0,y.toDisplayString)(e.$__("Resource information")),1),(0,y.createElementVNode)("ol",null,[i.resource.resource_id?((0,y.openBlock)(),(0,y.createElementBlock)("li",dJ,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Resource identifier"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.resource.resource_id),1)])):(0,y.createCommentVNode)("",!0),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Publication title"))+":",1),(0,y.createElementVNode)("span",null,[(0,y.createVNode)(o,{to:{name:"EHoldingsLocalTitlesShow",params:{title_id:i.resource.title_id}}},{default:(0,y.withCtx)(()=>[(0,y.createTextVNode)((0,y.toDisplayString)(i.resource.title.publication_title),1)]),_:1},8,["to"])])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Publisher name"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.resource.title.publisher_name),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Publication type"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.resource.title.publication_type),1)]),i.resource.title.print_identifier?((0,y.openBlock)(),(0,y.createElementBlock)("li",dK,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Print-format identifier"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.resource.title.print_identifier),1)])):(0,y.createCommentVNode)("",!0),i.resource.title.online_identifier?((0,y.openBlock)(),(0,y.createElementBlock)("li",dZ,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Online-format identifier"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.resource.title.online_identifier),1)])):(0,y.createCommentVNode)("",!0)])]),(0,y.createElementVNode)("fieldset",dW,[(0,y.createElementVNode)("ol",null,[(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Package"))+":",1),(0,y.createElementVNode)("span",null,[(0,y.createVNode)(o,{to:{name:"EHoldingsLocalPackagesShow",params:{package_id:i.resource.package_id}}},{default:(0,y.withCtx)(()=>[(0,y.createTextVNode)((0,y.toDisplayString)(i.resource.package.name),1)]),_:1},8,["to"])])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Vendor"))+":",1),i.resource.vendor?((0,y.openBlock)(),(0,y.createElementBlock)("span",dG,(0,y.toDisplayString)(i.resource.vendor.name),1)):(0,y.createCommentVNode)("",!0)]),i.resource.package.content_type?((0,y.openBlock)(),(0,y.createElementBlock)("li",dQ,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Package content type"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.resource.package.content_type),1)])):(0,y.createCommentVNode)("",!0)])]),(0,y.createElementVNode)("fieldset",dX,[d0,(0,y.createElementVNode)("ol",null,[(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Coverage dates"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(a.format_date(i.resource.started_on))+"-"+(0,y.toDisplayString)(a.format_date(i.resource.ended_on)),1)])])])])])):(0,y.createCommentVNode)("",!0):((0,y.openBlock)(),(0,y.createElementBlock)("div",dz,(0,y.toDisplayString)(e.$__("Loading")),1))}],["__scopeId","data-v-673e609b"]]),d4={key:0},d5={key:1,id:"titles_list"},d8={key:0,id:"title_list_result",class:"page-section"},d6={key:1,class:"alert alert-info"},d7=(0,iK.default)({setup(){let e=(0,y.inject)("AVStore"),{av_title_publication_types:t}=tR(e),{get_lib_from_av:n,map_av_dt_filter:a}=e,{setConfirmationDialog:i,setMessage:r}=(0,y.inject)("mainStore"),o=(0,y.ref)();return{av_title_publication_types:t,get_lib_from_av:n,map_av_dt_filter:a,escape_str,table:o,filters:(0,y.reactive)({publication_title:"",publication_type:""}),setConfirmationDialog:i,setMessage:r,eholdings_titles_table_settings}},data:function(){this.filters={publication_title:this.$route.query.publication_title||"",publication_type:this.$route.query.publication_type||""};let e=this.filters;return{title_count:0,initialized:!1,tableOptions:{columns:this.getTableColumns(),url:"/api/v1/erm/eholdings/local/titles",options:{embed:"resources.package",searchCols:[{search:e.publication_title},null,{search:e.publication_type},null]},table_settings:this.eholdings_titles_table_settings,add_filters:!0,filters_options:{2:()=>this.map_av_dt_filter("av_title_publication_types")},actions:{0:["show"],"-1":["edit","delete"]}},cannot_search:!1}},beforeRouteEnter(e,t,n){n(e=>{e.getTitleCount().then(()=>e.initialized=!0)})},methods:{async getTitleCount(){let e=rK.erm;await e.localTitles.count().then(e=>{this.title_count=e},e=>{})},doShow:function({title_id:e},t,n){n.preventDefault(),this.$router.push({name:"EHoldingsLocalTitlesShow",params:{title_id:e}})},doEdit:function({title_id:e},t,n){this.$router.push({name:"EHoldingsLocalTitlesFormAddEdit",params:{title_id:e}})},doDelete:function(e,t,n){this.setConfirmationDialog({title:this.$__("Are you sure you want to remove this title?"),message:e.publication_title,accept_label:this.$__("Yes, delete"),cancel_label:this.$__("No, do not delete")},()=>{rK.erm.localTitles.delete(e.title_id).then(n=>{this.setMessage(this.$__("Local title %s deleted").format(e.publication_title),!0),t.draw()},e=>{})})},getTableColumns:function(){let e=this.get_lib_from_av,t=this.escape_str;return[{title:__("Title"),data:"me.publication_title:me.title_id",searchable:!0,orderable:!0,render:function(e,n,a,i){return'<a href="/cgi-bin/koha/erm/eholdings/local/titles/'+a.title_id+'" class="show">'+t(`${a.publication_title} (#${a.title_id})`)+"</a>"}},{title:__("Contributors"),data:"first_author:first_editor",searchable:!0,orderable:!0,render:function(e,n,a,i){return t(a.first_author)+(a.first_author&&a.first_editor?"<br/>":"")+t(a.first_editor)}},{title:__("Publication type"),data:"publication_type",searchable:!0,orderable:!0,render:function(n,a,i,r){return t(e("av_title_publication_types",i.publication_type))}},{title:__("Identifier"),data:"print_identifier:online_identifier",searchable:!0,orderable:!0,render:function(e,n,a,i){let r=a.print_identifier,o=a.online_identifier;return[r?t(__("ISBN (Print): %s").format(r)):"",o?t(__("ISBN (Online): %s").format(o)):""].join("<br/>")}}]}},components:{Toolbar:oe,ToolbarButton:ot,KohaTable:oc},name:"EHoldingsLocalTitlesList"},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("ToolbarButton"),l=(0,y.resolveComponent)("Toolbar"),s=(0,y.resolveComponent)("KohaTable");return(0,y.openBlock)(),(0,y.createElementBlock)("div",null,[e.initialized?((0,y.openBlock)(),(0,y.createElementBlock)("div",d5,[(0,y.createVNode)(l,null,{default:(0,y.withCtx)(()=>[(0,y.createVNode)(o,{to:{name:"EHoldingsLocalTitlesFormAdd"},icon:"plus",title:e.$__("New title")},null,8,["title"]),(0,y.createVNode)(o,{to:{name:"EHoldingsLocalTitlesFormImport"},icon:"plus",title:e.$__("Import from list")},null,8,["title"]),(0,y.createVNode)(o,{to:{name:"EHoldingsLocalTitlesKBARTImport"},icon:"plus",title:e.$__("Import from KBART file")},null,8,["title"])]),_:1}),e.title_count>0?((0,y.openBlock)(),(0,y.createElementBlock)("div",d8,[(0,y.createVNode)(s,(0,y.mergeProps)({ref:"table"},e.tableOptions,{onShow:r.doShow,onEdit:r.doEdit,onDelete:r.doDelete}),null,16,["onShow","onEdit","onDelete"])])):((0,y.openBlock)(),(0,y.createElementBlock)("div",d6,(0,y.toDisplayString)(e.$__("There are no titles defined")),1))])):((0,y.openBlock)(),(0,y.createElementBlock)("div",d4,(0,y.toDisplayString)(e.$__("Loading")),1))])}]]),d9={key:0},ue={key:1,id:"eholdings_title_show"},ut={class:"rows"},un={key:0},ua=["href"],ui={key:1},ur={key:2},uo={key:3},ul={key:4},us={key:5},uc={key:6},ud={key:7},uu={key:8},up={key:9},u_=["href"],um={key:10},uf={key:11},uh={key:12},ug={key:13},uv={key:14},ub={key:15},uy={key:16},uk={key:17},uE={key:18},uA={key:19},uw={key:20},uC={key:21},uS={key:22},uN={key:23},uV={key:0},ux={class:"action"},u$={id:"package_list_result"},uD=["id"];var uT=n("8042"),uB={};uB.styleTagTransform=iH(),uB.setAttributes=iq(),uB.insert=iL().bind(null,"head"),uB.domAPI=iI(),uB.insertStyleElement=iU(),iO()(uT.Z,uB),uT.Z&&uT.Z.locals&&uT.Z.locals;let uP=(0,iK.default)({setup(){let e="package_list";return on(e),{table_id:e}},data:()=>({}),methods:{show_resource:function(e){this.$router.push({name:"EHoldingsLocalResourcesShow",params:{resource_id:e}})},build_datatable:function(){let e=this.show_resource,t=this.$router,n=this.resources;$("#"+this.table_id).dataTable($.extend(!0,{},dataTablesDefaults,{data:n,embed:["package.name"],order:[[0,"asc"]],autoWidth:!1,columns:[{title:__("Name"),data:"package.name",searchable:!0,orderable:!0,render:function(e,t,n,a){return""},width:"100%"}],drawCallback:function(n){var a=new $.fn.dataTable.Api(n);$.each($(this).find("tbody tr td:first-child"),function(n,i){let r=$(this).parent(),o=a.row(r).data();if(!o)return;let{href:l}=t.resolve({name:"EHoldingsLocalResourcesShow",params:{resource_id:o.resource_id}}),s=(0,y.createVNode)("a",{role:"button",href:l,onClick:t=>{t.preventDefault(),e(o.resource_id)}},`${o.package.name}`);(0,y.render)(s,i)})}}))}},mounted(){this.build_datatable()},props:{resources:Array},name:"EHoldingsLocalTitlePackagesList"},[["render",function(e,t,n,a,i,r){return(0,y.openBlock)(),(0,y.createElementBlock)("div",u$,[(0,y.createElementVNode)("table",{id:a.table_id},null,8,uD)])}],["__scopeId","data-v-2889e25f"]]);var uO=n("7406"),uR={};uR.styleTagTransform=iH(),uR.setAttributes=iq(),uR.insert=iL().bind(null,"head"),uR.domAPI=iI(),uR.insertStyleElement=iU(),iO()(uO.Z,uR),uO.Z&&uO.Z.locals&&uO.Z.locals;let uI=(0,iK.default)({setup(){let{get_lib_from_av:e}=(0,y.inject)("AVStore"),{setConfirmationDialog:t,setMessage:n}=(0,y.inject)("mainStore");return{get_lib_from_av:e,setConfirmationDialog:t,setMessage:n}},data:()=>({title:{title_id:null,publication_title:"",external_id:"",print_identifier:"",online_identifier:"",date_first_issue_online:"",num_first_vol_online:"",num_first_issue_online:"",date_last_issue_online:"",num_last_vol_online:"",num_last_issue_online:"",title_url:"",first_author:"",embargo_info:"",coverage_depth:"",notes:"",publisher_name:"",publication_type:"",date_monograph_published_print:"",date_monograph_published_online:"",monograph_volume:"",monograph_edition:"",first_editor:"",parent_publication_title_id:"",preceding_publication_title_id:"",access_type:"",resources:[]},initialized:!1}),beforeRouteEnter(e,t,n){n(t=>{t.getTitle(e.params.title_id)})},beforeRouteUpdate(e,t){this.title=this.getTitle(e.params.title_id)},methods:{getTitle(e){rK.erm.localTitles.get(e).then(e=>{this.title=e,this.initialized=!0},e=>{})},delete_title:function(e,t){this.setConfirmationDialog({title:this.$__("Are you sure you want to remove this title?"),message:t,accept_label:this.$__("Yes, delete"),cancel_label:this.$__("No, do not delete")},()=>{rK.erm.localTitles.delete(e).then(e=>{this.setMessage(this.$__("Local title %s deleted").format(t),!0),this.$router.push({name:"EHoldingsLocalTitlesList"})},e=>{})})}},components:{EHoldingsTitlePackagesList:uP,Toolbar:oe,ToolbarButton:ot},name:"EHoldingsLocalTitlesShow"},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("ToolbarButton"),l=(0,y.resolveComponent)("font-awesome-icon"),s=(0,y.resolveComponent)("Toolbar"),c=(0,y.resolveComponent)("EHoldingsTitlePackagesList"),d=(0,y.resolveComponent)("router-link");return i.initialized?i.title?((0,y.openBlock)(),(0,y.createElementBlock)("div",ue,[(0,y.createVNode)(s,null,{default:(0,y.withCtx)(()=>[(0,y.createVNode)(o,{to:{name:"EHoldingsLocalTitlesFormAddEdit",params:{title_id:i.title.title_id}},icon:"pencil",title:e.$__("Edit")},null,8,["to","title"]),(0,y.createElementVNode)("a",{onClick:t[0]||(t[0]=e=>r.delete_title(i.title.title_id,i.title.publication_title)),class:"btn btn-default"},[(0,y.createVNode)(l,{icon:"trash"}),(0,y.createTextVNode)(" "+(0,y.toDisplayString)(e.$__("Delete")),1)])]),_:1}),(0,y.createElementVNode)("h2",null,(0,y.toDisplayString)(e.$__("Title #%s").format(i.title.title_id)),1),(0,y.createElementVNode)("div",null,[(0,y.createElementVNode)("fieldset",ut,[(0,y.createElementVNode)("ol",null,[i.title.title_id?((0,y.openBlock)(),(0,y.createElementBlock)("li",un,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Title identifier"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.title_id),1)])):(0,y.createCommentVNode)("",!0),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Publication title"))+":",1),(0,y.createElementVNode)("span",null,[(0,y.createTextVNode)((0,y.toDisplayString)(i.title.publication_title)+" ",1),i.title.biblio_id?((0,y.openBlock)(),(0,y.createElementBlock)("a",{key:0,href:`/cgi-bin/koha/catalogue/detail.pl?biblionumber=${i.title.biblio_id}`},(0,y.toDisplayString)(e.$__("Local bibliographic record")),9,ua)):(0,y.createCommentVNode)("",!0)])]),i.title.print_identifier?((0,y.openBlock)(),(0,y.createElementBlock)("li",ui,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Print-format identifier"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.print_identifier),1)])):(0,y.createCommentVNode)("",!0),i.title.online_identifier?((0,y.openBlock)(),(0,y.createElementBlock)("li",ur,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Online-format identifier"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.online_identifier),1)])):(0,y.createCommentVNode)("",!0),i.title.date_first_issue_online?((0,y.openBlock)(),(0,y.createElementBlock)("li",uo,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Date of first serial issue available online"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.date_first_issue_online),1)])):(0,y.createCommentVNode)("",!0),i.title.num_first_vol_online?((0,y.openBlock)(),(0,y.createElementBlock)("li",ul,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Number of first volume available online"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.num_first_vol_online),1)])):(0,y.createCommentVNode)("",!0),i.title.num_first_issue_online?((0,y.openBlock)(),(0,y.createElementBlock)("li",us,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Number of first issue available online"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.num_first_issue_online),1)])):(0,y.createCommentVNode)("",!0),i.title.date_last_issue_online?((0,y.openBlock)(),(0,y.createElementBlock)("li",uc,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Date of last issue available online"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.date_last_issue_online),1)])):(0,y.createCommentVNode)("",!0),i.title.num_last_vol_online?((0,y.openBlock)(),(0,y.createElementBlock)("li",ud,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Number of last volume available online"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.num_last_vol_online),1)])):(0,y.createCommentVNode)("",!0),i.title.num_last_issue_online?((0,y.openBlock)(),(0,y.createElementBlock)("li",uu,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Number of last issue available online"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.num_last_issue_online),1)])):(0,y.createCommentVNode)("",!0),i.title.title_url?((0,y.openBlock)(),(0,y.createElementBlock)("li",up,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Title-level URL"))+":",1),(0,y.createElementVNode)("span",null,[(0,y.createElementVNode)("a",{href:i.title.title_url,target:"_blank"},(0,y.toDisplayString)(i.title.title_url),9,u_)])])):(0,y.createCommentVNode)("",!0),i.title.first_author?((0,y.openBlock)(),(0,y.createElementBlock)("li",um,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("First author"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.first_author),1)])):(0,y.createCommentVNode)("",!0),i.title.embargo_info?((0,y.openBlock)(),(0,y.createElementBlock)("li",uf,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Embargo information"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.embargo_info),1)])):(0,y.createCommentVNode)("",!0),i.title.coverage_depth?((0,y.openBlock)(),(0,y.createElementBlock)("li",uh,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Coverage depth"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.coverage_depth),1)])):(0,y.createCommentVNode)("",!0),i.title.notes?((0,y.openBlock)(),(0,y.createElementBlock)("li",ug,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Notes"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.notes),1)])):(0,y.createCommentVNode)("",!0),i.title.publisher_name?((0,y.openBlock)(),(0,y.createElementBlock)("li",uv,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Publisher name"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.publisher_name),1)])):(0,y.createCommentVNode)("",!0),i.title.publication_type?((0,y.openBlock)(),(0,y.createElementBlock)("li",ub,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Publication type"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(a.get_lib_from_av("av_title_publication_types",i.title.publication_type)),1)])):(0,y.createCommentVNode)("",!0),i.title.date_monograph_published_print?((0,y.openBlock)(),(0,y.createElementBlock)("li",uy,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Date the monograph is first published in print"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.date_monograph_published_print),1)])):(0,y.createCommentVNode)("",!0),i.title.date_monograph_published_online?((0,y.openBlock)(),(0,y.createElementBlock)("li",uk,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Date the monograph is first published online"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.date_monograph_published_online),1)])):(0,y.createCommentVNode)("",!0),i.title.monograph_volume?((0,y.openBlock)(),(0,y.createElementBlock)("li",uE,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Number of volume for monograph"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.monograph_volume),1)])):(0,y.createCommentVNode)("",!0),i.title.monograph_edition?((0,y.openBlock)(),(0,y.createElementBlock)("li",uA,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Edition of the monograph"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.monograph_edition),1)])):(0,y.createCommentVNode)("",!0),i.title.first_editor?((0,y.openBlock)(),(0,y.createElementBlock)("li",uw,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("First editor"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.first_editor),1)])):(0,y.createCommentVNode)("",!0),i.title.parent_publication_title_id?((0,y.openBlock)(),(0,y.createElementBlock)("li",uC,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Title identifier of the parent publication"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.parent_publication_title_id),1)])):(0,y.createCommentVNode)("",!0),i.title.preceding_publication_title_id?((0,y.openBlock)(),(0,y.createElementBlock)("li",uS,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Title identifier of any preceding publication title"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.preceding_publication_title_id),1)])):(0,y.createCommentVNode)("",!0),i.title.access_type?((0,y.openBlock)(),(0,y.createElementBlock)("li",uN,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Access type"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.access_type),1)])):(0,y.createCommentVNode)("",!0),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Packages (%s)").format(i.title.resources.length)),1),i.title.resources.length?((0,y.openBlock)(),(0,y.createElementBlock)("div",uV,[(0,y.createVNode)(c,{resources:i.title.resources},null,8,["resources"])])):(0,y.createCommentVNode)("",!0)])])]),(0,y.createElementVNode)("fieldset",ux,[(0,y.createVNode)(d,{to:{name:"EHoldingsLocalTitlesList"},role:"button",class:"cancel"},{default:(0,y.withCtx)(()=>[(0,y.createTextVNode)((0,y.toDisplayString)(e.$__("Close")),1)]),_:1})])])])):(0,y.createCommentVNode)("",!0):((0,y.openBlock)(),(0,y.createElementBlock)("div",d9,(0,y.toDisplayString)(e.$__("Loading")),1))}],["__scopeId","data-v-e90d467a"]]),uM={value:""},uL=["value"],uj={value:"0"},uq={value:"1"},uF={value:"2"},uU=["value"],uz={key:0},uH={id:"package_list_result",class:"page-section"},uY=(0,iK.default)({setup(){let e=(0,y.inject)("AVStore"),{av_package_types:t,av_package_content_types:n}=tR(e),{get_lib_from_av:a,map_av_dt_filter:i}=e,{config:r}=(0,y.inject)("ERMStore"),o=(0,y.ref)();return(0,y.reactive)({package_name:"",content_type:"",selection_type:""}),{av_package_types:t,av_package_content_types:n,get_lib_from_av:a,escape_str,map_av_dt_filter:i,config:r,table:o}},data:function(){this.filters={package_name:this.$route.query.package_name||"",content_type:this.$route.query.content_type||"",selection_type:this.$route.query.selection_type||""};let e=this.filters;return{packages:[],initialized:!0,tableOptions:{columns:this.getTableColumns(),url:"/api/v1/erm/eholdings/ebsco/packages",options:{embed:"resources+count,vendor.name",ordering:!1,dom:'<"top pager"<"table_entries"ilp>>tr<"bottom pager"ip>',lengthMenu:[[10,20,50,100],[10,20,50,100]]},table_settings:this.eholdings_titles_table_settings,actions:{0:["show"]},default_filters:{name:function(){return e.package_name||""},content_type:function(){return e.content_type||""},selection_type:function(){return e.selection_type||""}}},show_table:!!oa(e).length,local_count_packages:null}},computed:{local_packages_url(){let{href:e}=this.$router.resolve({name:"EHoldingsLocalPackagesList"});return oi(e,this.filters)}},methods:{doShow:function({package_id:e},t,n){n.preventDefault(),this.$router.push({name:"EHoldingsEBSCOPackagesShow",params:{package_id:e}})},filter_table:async function(){let{href:e}=this.$router.resolve({name:"EHoldingsEBSCOPackagesList"}),t=oi(e,this.filters);if(this.$router.push(t),this.show_table=!0,this.local_count_packages=null,this.config.settings.ERMProviders.includes("local")){let e=rK.erm,t=this.filters?{"me.name":{like:"%"+this.filters.package_name+"%"},...this.filters.content_type?{"me.content_type":this.filters.content_type}:{}}:{};e.localPackages.count(t).then(e=>this.local_count_packages=e,e=>{})}this.$refs.table&&this.$refs.table.redraw("/api/v1/erm/eholdings/ebsco/packages")},getTableColumns:function(){let e=this.get_lib_from_av,t=this.escape_str;return[{title:__("Name"),data:"me.package_id:me.name",searchable:!1,orderable:!1,render:function(e,n,a,i){let r='<a href="/cgi-bin/koha/erm/eholdings/ebsco/packages/'+a.package_id+'" class="show">'+t(`${a.name} (#${a.package_id})`)+"</a>";return a.is_selected&&(r+=' <i class="fa fa-check-square" style="color: green; float: right;" title="'+__("Is selected")+'" />'),r}},{title:__("Vendor"),data:"vendor_id",searchable:!1,orderable:!1,render:function(e,n,a,i){return a.vendor?t(a.vendor.name):""}},{title:__("Type"),data:"package_type",searchable:!1,orderable:!1,render:function(n,a,i,r){return t(e("av_package_types",i.package_type))}},{title:__("Content type"),searchable:!1,orderable:!1,render:function(n,a,i,r){return t(e("av_package_content_types",i.content_type))}}]}},components:{KohaTable:oc},name:"EHoldingsEBSCOPackagesList"},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("router-link"),l=(0,y.resolveComponent)("KohaTable");return(0,y.openBlock)(),(0,y.createElementBlock)("div",null,[(0,y.createElementVNode)("fieldset",null,[(0,y.createTextVNode)((0,y.toDisplayString)(e.$__("Package name"))+": ",1),(0,y.withDirectives)((0,y.createElementVNode)("input",{type:"text",id:"package_name_filter","onUpdate:modelValue":t[0]||(t[0]=t=>e.filters.package_name=t),onKeyup:t[1]||(t[1]=(0,y.withKeys)((...e)=>r.filter_table&&r.filter_table(...e),["enter"]))},null,544),[[y.vModelText,e.filters.package_name]]),(0,y.createTextVNode)(" "+(0,y.toDisplayString)(e.$__("Content type"))+": ",1),(0,y.withDirectives)((0,y.createElementVNode)("select",{id:"content_type_filter","onUpdate:modelValue":t[2]||(t[2]=t=>e.filters.content_type=t)},[(0,y.createElementVNode)("option",uM,(0,y.toDisplayString)(e.$__("All")),1),((0,y.openBlock)(!0),(0,y.createElementBlock)(y.Fragment,null,(0,y.renderList)(a.av_package_content_types,e=>((0,y.openBlock)(),(0,y.createElementBlock)("option",{key:e.authorised_values,value:e.value},(0,y.toDisplayString)(e.description),9,uL))),128))],512),[[y.vModelSelect,e.filters.content_type]]),(0,y.createTextVNode)(" "+(0,y.toDisplayString)(e.$__("Selection status"))+": ",1),(0,y.withDirectives)((0,y.createElementVNode)("select",{id:"selection_type_filter","onUpdate:modelValue":t[3]||(t[3]=t=>e.filters.selection_type=t)},[(0,y.createElementVNode)("option",uj,(0,y.toDisplayString)(e.$__("All")),1),(0,y.createElementVNode)("option",uq,(0,y.toDisplayString)(e.$__("Selected")),1),(0,y.createElementVNode)("option",uF,(0,y.toDisplayString)(e.$__("Not selected")),1)],512),[[y.vModelSelect,e.filters.selection_type]]),(0,y.createElementVNode)("input",{onClick:t[4]||(t[4]=(...e)=>r.filter_table&&r.filter_table(...e)),id:"filter_table",type:"button",value:e.$__("Submit")},null,8,uU)]),(0,y.createElementVNode)("div",{id:"package_list_result",style:(0,y.normalizeStyle)(e.show_table?"display: block":"display: none")},[void 0!==e.local_count_packages&&null!==e.local_count_packages?((0,y.openBlock)(),(0,y.createElementBlock)("div",uz,[(0,y.createVNode)(o,{to:r.local_packages_url},{default:(0,y.withCtx)(()=>[(0,y.createTextVNode)((0,y.toDisplayString)(e.$__("%s packages found locally").format(e.local_count_packages)),1)]),_:1},8,["to"])])):(0,y.createCommentVNode)("",!0),(0,y.createElementVNode)("div",uH,[e.show_table?((0,y.openBlock)(),(0,y.createBlock)(l,(0,y.mergeProps)({key:0,ref:"table"},e.tableOptions,{onShow:r.doShow}),null,16,["onShow"])):(0,y.createCommentVNode)("",!0)])],4)])}]]),uJ={key:0},uK={key:1,id:"packages_show"},uZ={key:0},uW={key:1},uG={class:"rows"},uQ={key:0},uX={key:2},u0=(e=>((0,y.pushScopeId)("data-v-f7262ca2"),e=e(),(0,y.popScopeId)(),e))(()=>(0,y.createElementVNode)("label",null,"Agreements",-1)),u1={key:0},u2={class:"action"},u3={id:"add_agreement",class:"modal",role:"dialog","aria-labelledby":"add_agreement_label","aria-hidden":"true"},u4={class:"modal-dialog modal-xl"},u5={class:"modal-content modal-xl"},u8={class:"modal-header"},u6={class:"modal-title",id:"add_agreement_label"},u7=(0,y.createElementVNode)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),u9={class:"modal-body position-relative overflow-visible"},pe={class:"modal-footer"},pt={class:"btn btn-default deny cancel",type:"button","data-bs-dismiss":"modal"},pn={id:"package_agreements"},pa=["onClick","title"],pi=[(0,y.createElementVNode)("i",{class:"fa fa-trash"},null,-1)];var pr=n("1352"),po={};po.styleTagTransform=iH(),po.setAttributes=iq(),po.insert=iL().bind(null,"head"),po.domAPI=iI(),po.insertStyleElement=iU(),iO()(pr.Z,po),pr.Z&&pr.Z.locals&&pr.Z.locals;let pl=(0,iK.default)({data(){},beforeCreate(){},methods:{serializeAgreement(){let e=JSON.parse(JSON.stringify(this.erm_package));return delete e.vendor_id,delete e.package_type,delete e.content_type,e.external_id=e.package_id,delete e.package_id,e.provider="ebsco",e.package_id=e.koha_internal_id,delete e.koha_internal_id,delete e.resources,delete e.vendor,delete e.resources_count,delete e.is_selected,e.package_agreements=e.package_agreements.map(({package_id:e,agreement:t,...n})=>n),e},showAddAgreementModal(){$("#add_agreement").modal("show")},addAgreement(e){rI(),$("#add_agreement").modal("hide");let t=this.serializeAgreement();if(t.package_agreements.find(t=>t.agreement_id==e))rO(this.$__("This agreement is already linked with this package"));else{t.package_agreements.push({agreement_id:e});let n=rK.erm;if(this.erm_package.koha_internal_id){let e=t.package_id;delete t.package_id,n.localPackages.update(t,e).then(e=>{this.$emit("refresh-agreements")},e=>{})}else n.localPackages.create(t).then(e=>{this.$emit("refresh-agreements")},e=>{})}},deleteAgreement(e){let t=this.serializeAgreement();t.package_agreements.splice(e,1);let n=t.package_id;delete t.package_id,rK.erm.localPackages.update(t,n).then(e=>{this.$emit("refresh-agreements")},e=>{})}},props:{erm_package:Object},components:{AgreementsList:o_},emits:["refresh-agreements"],name:"EHoldingsEBSCOPackageAgreements"},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("AgreementsList"),l=(0,y.resolveComponent)("router-link"),s=(0,y.resolveComponent)("font-awesome-icon");return(0,y.openBlock)(),(0,y.createElementBlock)(y.Fragment,null,[(0,y.createElementVNode)("div",u3,[(0,y.createElementVNode)("div",u4,[(0,y.createElementVNode)("div",u5,[(0,y.createElementVNode)("div",u8,[(0,y.createElementVNode)("h1",u6,(0,y.toDisplayString)(e.$__("Add agreement")),1),u7]),(0,y.createElementVNode)("div",u9,[(0,y.createVNode)(o,{embedded:!0,onSelectAgreement:r.addAgreement},null,8,["onSelectAgreement"])]),(0,y.createElementVNode)("div",pe,[(0,y.createElementVNode)("button",pt,(0,y.toDisplayString)(e.$__("Close")),1)])])])]),(0,y.createElementVNode)("div",pn,[((0,y.openBlock)(!0),(0,y.createElementBlock)(y.Fragment,null,(0,y.renderList)(n.erm_package.package_agreements,(t,n)=>((0,y.openBlock)(),(0,y.createElementBlock)("div",{key:n},[(0,y.createVNode)(l,{to:{name:"AgreementsShow",params:{agreement_id:t.agreement.agreement_id}}},{default:(0,y.withCtx)(()=>[(0,y.createTextVNode)((0,y.toDisplayString)(t.agreement.name),1)]),_:2},1032,["to"]),(0,y.createTextVNode)(" \xa0 "),(0,y.createElementVNode)("a",{href:"#",onClick:(0,y.withModifiers)(e=>r.deleteAgreement(n),["prevent"]),title:e.$__("Remove this agreement")},pi,8,pa)]))),128)),(0,y.createElementVNode)("a",{class:"btn btn-default btn-xs",onClick:t[0]||(t[0]=e=>r.showAddAgreementModal())},[(0,y.createVNode)(s,{icon:"plus"}),(0,y.createTextVNode)(" "+(0,y.toDisplayString)(e.$__("Add new agreement")),1)])])],64)}]]),ps={id:"title_list_result"},pc={id:"filters"},pd=(e=>((0,y.pushScopeId)("data-v-5efd443a"),e=e(),(0,y.popScopeId)(),e))(()=>(0,y.createElementVNode)("i",{class:"fa fa-search"},null,-1)),pu={key:0},pp={value:""},p_=["value"],pm={value:"0"},pf={value:"1"},ph={value:"2"},pg=["value"];var pv=n("2798"),pb={};pb.styleTagTransform=iH(),pb.setAttributes=iq(),pb.insert=iL().bind(null,"head"),pb.domAPI=iI(),pb.insertStyleElement=iU(),iO()(pv.Z,pb),pv.Z&&pv.Z.locals&&pv.Z.locals;let py=(0,iK.default)({setup(){let e=(0,y.inject)("AVStore"),{av_title_publication_types:t}=tR(e),{get_lib_from_av:n,map_av_dt_filter:a}=e,i=(0,y.ref)();return(0,y.reactive)({publication_title:"",publication_type:"",selection_type:""}),{av_title_publication_types:t,get_lib_from_av:n,escape_str,map_av_dt_filter:a,table:i}},data(){this.filters={publication_title:this.$route.query.publication_title||"",publication_type:this.$route.query.publication_type||"",selection_type:this.$route.query.selection_type||""};let e=this.filters;return{tableOptions:{columns:this.getTableColumns(),url:"/api/v1/erm/eholdings/ebsco/packages/"+this.package_id+"/resources",options:{embed:"title",ordering:!1,dom:'<"top pager"<"table_entries"ilp>>tr<"bottom pager"ip>',lengthMenu:[[10,20,50,100],[10,20,50,100]]},filters_options:{1:()=>this.map_av_dt_filter("av_title_publication_types")},actions:{0:["show"]},default_filters:{publication_title:function(){return e.publication_title||""},publication_type:function(){return e.publication_type||""},selection_type:function(){return e.selection_type||""}}},display_filters:!1}},methods:{doShow:function({resource_id:e},t,n){n.preventDefault(),this.$router.push({name:"EHoldingsEBSCOResourcesShow",params:{resource_id:e}})},filter_table:function(){this.$refs.table.redraw("/api/v1/erm/eholdings/ebsco/packages/"+this.package_id+"/resources")},toggle_filters:function(e){this.display_filters=!this.display_filters},getTableColumns:function(){let e=this.get_lib_from_av;return this.map_av_dt_filter,[{title:__("Name"),data:"title.publication_title",searchable:!1,orderable:!1,render:function(e,t,n,a){let i='<a href="/cgi-bin/koha/erm/eholdings/ebsco/resources/'+n.resource_id+'" class="show">'+escape_str(`${n.title.publication_title}`)+"</a>";return n.is_selected&&(i+=' <i class="fa fa-check-square" style="color: green; float: right;" title="'+__("Is selected")+'" />'),i}},{title:__("Publication type"),data:"title.publication_type",searchable:!1,orderable:!1,render:function(t,n,a,i){return escape_str(e("av_title_publication_types",a.title.publication_type))}}]}},props:{package_id:String},components:{KohaTable:oc},name:"EHoldingsEBSCOPackageTitlesList"},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("KohaTable");return(0,y.openBlock)(),(0,y.createElementBlock)("div",ps,[(0,y.createElementVNode)("div",pc,[(0,y.createElementVNode)("a",{href:"#",onClick:t[0]||(t[0]=(0,y.withModifiers)(e=>r.toggle_filters(e),["prevent"]))},[pd,(0,y.createTextVNode)(" "+(0,y.toDisplayString)(i.display_filters?e.$__("Hide filters"):e.$__("Show filters")),1)]),i.display_filters?((0,y.openBlock)(),(0,y.createElementBlock)("fieldset",pu,[(0,y.createElementVNode)("ol",null,[(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Title"))+":",1),(0,y.withDirectives)((0,y.createElementVNode)("input",{type:"text",id:"publication_title_filter","onUpdate:modelValue":t[1]||(t[1]=t=>e.filters.publication_title=t),onKeyup:t[2]||(t[2]=(0,y.withKeys)((...e)=>r.filter_table&&r.filter_table(...e),["enter"]))},null,544),[[y.vModelText,e.filters.publication_title]])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Publication type"))+":",1),(0,y.withDirectives)((0,y.createElementVNode)("select",{id:"publication_type_filter","onUpdate:modelValue":t[3]||(t[3]=t=>e.filters.publication_type=t)},[(0,y.createElementVNode)("option",pp,(0,y.toDisplayString)(e.$__("All")),1),((0,y.openBlock)(!0),(0,y.createElementBlock)(y.Fragment,null,(0,y.renderList)(a.av_title_publication_types,e=>((0,y.openBlock)(),(0,y.createElementBlock)("option",{key:e.value,value:e.value},(0,y.toDisplayString)(e.description),9,p_))),128))],512),[[y.vModelSelect,e.filters.publication_type]])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Selection status"))+":",1),(0,y.withDirectives)((0,y.createElementVNode)("select",{id:"selection_type_filter","onUpdate:modelValue":t[4]||(t[4]=t=>e.filters.selection_type=t)},[(0,y.createElementVNode)("option",pm,(0,y.toDisplayString)(e.$__("All")),1),(0,y.createElementVNode)("option",pf,(0,y.toDisplayString)(e.$__("Selected")),1),(0,y.createElementVNode)("option",ph,(0,y.toDisplayString)(e.$__("Not selected")),1)],512),[[y.vModelSelect,e.filters.selection_type]])])]),(0,y.createElementVNode)("input",{onClick:t[5]||(t[5]=(...e)=>r.filter_table&&r.filter_table(...e)),id:"filter_table",type:"button",value:e.$__("Filter")},null,8,pg)])):(0,y.createCommentVNode)("",!0)]),(0,y.createVNode)(o,(0,y.mergeProps)({ref:"table"},i.tableOptions,{onShow:r.doShow}),null,16,["onShow"])])}],["__scopeId","data-v-5efd443a"]]);var pk=n("1144"),pE={};pE.styleTagTransform=iH(),pE.setAttributes=iq(),pE.insert=iL().bind(null,"head"),pE.domAPI=iI(),pE.insertStyleElement=iU(),iO()(pk.Z,pE),pk.Z&&pk.Z.locals&&pk.Z.locals;let pA=(0,iK.default)({setup(){let e=$date,{get_lib_from_av:t}=(0,y.inject)("AVStore");return{format_date:e,get_lib_from_av:t}},data:()=>({erm_package:{package_id:null,vendor_id:null,name:"",external_id:"",provider:"",package_type:"",content_type:"",created_on:null,resources:null,package_agreements:[]},initialized:!1,updating_is_selected:!1}),beforeRouteEnter(e,t,n){n(t=>{t.getPackage(e.params.package_id)})},beforeRouteUpdate(e,t){this.erm_package=this.getPackage(e.params.package_id)},methods:{getPackage(e){rK.erm.EBSCOPackages.get(e).then(e=>{this.erm_package=e,this.initialized=!0,this.updating_is_selected=!1},e=>{})},edit_selected(e){this.updating_is_selected=!0,rK.erm.EBSCOPackages.patch(this.erm_package.package_id,{is_selected:e}).then(e=>{this.getPackage(this.erm_package.package_id)},e=>{})},add_to_holdings(){this.edit_selected(!0)},remove_from_holdings(){this.edit_selected(!1)},refreshAgreements(){this.initialized=!1,this.getPackage(this.erm_package.package_id)}},components:{EHoldingsPackageAgreements:pl,EHoldingsPackageTitlesList:py},name:"EHoldingsEBSCOPackagesShow"},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("font-awesome-icon"),l=(0,y.resolveComponent)("EHoldingsPackageAgreements"),s=(0,y.resolveComponent)("EHoldingsPackageTitlesList"),c=(0,y.resolveComponent)("router-link");return i.initialized?i.erm_package?((0,y.openBlock)(),(0,y.createElementBlock)("div",uK,[(0,y.createElementVNode)("h2",null,[(0,y.createTextVNode)((0,y.toDisplayString)(e.$__("Package #%s").format(i.erm_package.package_id))+" ",1),i.updating_is_selected?((0,y.openBlock)(),(0,y.createElementBlock)("span",uW,[(0,y.createVNode)(o,{icon:"spinner"})])):((0,y.openBlock)(),(0,y.createElementBlock)("span",uZ,[i.erm_package.is_selected?((0,y.openBlock)(),(0,y.createElementBlock)("a",{key:1,class:"btn btn-default btn-xs",role:"button",id:"remove-from-holdings",onClick:t[1]||(t[1]=(...e)=>r.remove_from_holdings&&r.remove_from_holdings(...e))},[(0,y.createVNode)(o,{icon:"minus"}),(0,y.createTextVNode)(" "+(0,y.toDisplayString)(e.$__("Remove package from holdings")),1)])):((0,y.openBlock)(),(0,y.createElementBlock)("a",{key:0,class:"btn btn-default btn-xs",role:"button",onClick:t[0]||(t[0]=(...e)=>r.add_to_holdings&&r.add_to_holdings(...e))},[(0,y.createVNode)(o,{icon:"plus"}),(0,y.createTextVNode)(" "+(0,y.toDisplayString)(e.$__("Add package to holdings")),1)]))]))]),(0,y.createElementVNode)("div",null,[(0,y.createElementVNode)("fieldset",uG,[(0,y.createElementVNode)("ol",null,[(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Package name"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.erm_package.name),1)]),i.erm_package.vendor?((0,y.openBlock)(),(0,y.createElementBlock)("li",uQ,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Vendor"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.erm_package.vendor.name),1)])):(0,y.createCommentVNode)("",!0),(0,y.createCommentVNode)("",!0),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Package type"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(a.get_lib_from_av("av_package_types",i.erm_package.package_type)),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Content type"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(a.get_lib_from_av("av_package_content_types",i.erm_package.content_type)),1)]),i.erm_package.created_on?((0,y.openBlock)(),(0,y.createElementBlock)("li",uX,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Created on"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(a.format_date(i.erm_package.created_on)),1)])):(0,y.createCommentVNode)("",!0),(0,y.createElementVNode)("li",null,[u0,(0,y.createVNode)(l,{erm_package:i.erm_package,onRefreshAgreements:r.refreshAgreements},null,8,["erm_package","onRefreshAgreements"])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Titles (%s)").format(i.erm_package.resources_count)),1)])]),i.erm_package.resources_count?((0,y.openBlock)(),(0,y.createElementBlock)("div",u1,[(0,y.createVNode)(s,{package_id:i.erm_package.package_id.toString()},null,8,["package_id"])])):(0,y.createCommentVNode)("",!0)]),(0,y.createElementVNode)("fieldset",u2,[(0,y.createVNode)(c,{to:{name:"EHoldingsEBSCOPackagesList"},role:"button",class:"cancel"},{default:(0,y.withCtx)(()=>[(0,y.createTextVNode)((0,y.toDisplayString)(e.$__("Close")),1)]),_:1})])])])):(0,y.createCommentVNode)("",!0):((0,y.openBlock)(),(0,y.createElementBlock)("div",uJ,(0,y.toDisplayString)(e.$__("Loading")),1))}],["__scopeId","data-v-f7262ca2"]]),pw={key:0},pC={key:1,id:"eholdings_resources_show"},pS={key:0},pN={key:1},pV={class:"rows"},px={key:0},p$={key:1},pD={key:2},pT={class:"rows"},pB={key:0},pP={key:0},pO={class:"rows"},pR=(e=>((0,y.pushScopeId)("data-v-0e812b51"),e=e(),(0,y.popScopeId)(),e))(()=>(0,y.createElementVNode)("legend",null,"Resource settings",-1));var pI=n("3154"),pM={};pM.styleTagTransform=iH(),pM.setAttributes=iq(),pM.insert=iL().bind(null,"head"),pM.domAPI=iI(),pM.insertStyleElement=iU(),iO()(pI.Z,pM),pI.Z&&pI.Z.locals&&pI.Z.locals;let pL=(0,iK.default)({setup:()=>({format_date:$date}),data:()=>({resource:{resource_id:null,title_id:null,package_id:null,started_on:"",ended_on:"",proxy:"",title:{},package:{}},initialized:!1,updating_is_selected:!1}),beforeRouteEnter(e,t,n){n(t=>{t.getResource(e.params.resource_id)})},beforeRouteUpdate(e,t){this.resource=this.getResource(e.params.resource_id)},methods:{getResource(e){rK.erm.EBSCOResources.get(e).then(e=>{this.resource=e,this.initialized=!0,this.updating_is_selected=!1},e=>{})},edit_selected(e){this.updating_is_selected=!0,rK.erm.EBSCOResources.patch(this.resource.resource_id,{is_selected:e}).then(e=>{this.getResource(this.resource.resource_id)},e=>{})},add_to_holdings(){this.edit_selected(!0)},remove_from_holdings(){this.edit_selected(!1)}},name:"EHoldingsEBSCOResourcesShow"},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("font-awesome-icon"),l=(0,y.resolveComponent)("router-link");return i.initialized?i.resource?((0,y.openBlock)(),(0,y.createElementBlock)("div",pC,[(0,y.createElementVNode)("h2",null,[(0,y.createTextVNode)((0,y.toDisplayString)(e.$__("Resource #%s").format(i.resource.resource_id))+" ",1),i.updating_is_selected?((0,y.openBlock)(),(0,y.createElementBlock)("span",pN,[(0,y.createVNode)(o,{icon:"spinner"})])):((0,y.openBlock)(),(0,y.createElementBlock)("span",pS,[i.resource.is_selected?((0,y.openBlock)(),(0,y.createElementBlock)("a",{key:1,class:"btn btn-default btn-xs",role:"button",id:"remove-from-holdings",onClick:t[1]||(t[1]=(...e)=>r.remove_from_holdings&&r.remove_from_holdings(...e))},[(0,y.createVNode)(o,{icon:"minus"}),(0,y.createTextVNode)(" "+(0,y.toDisplayString)(e.$__("Remove title from holdings")),1)])):((0,y.openBlock)(),(0,y.createElementBlock)("a",{key:0,class:"btn btn-default btn-xs",role:"button",onClick:t[0]||(t[0]=(...e)=>r.add_to_holdings&&r.add_to_holdings(...e))},[(0,y.createVNode)(o,{icon:"plus"}),(0,y.createTextVNode)(" "+(0,y.toDisplayString)(e.$__("Add title to holdings")),1)]))]))]),(0,y.createElementVNode)("div",null,[(0,y.createElementVNode)("fieldset",pV,[(0,y.createElementVNode)("legend",null,(0,y.toDisplayString)(e.$__("Resource information")),1),(0,y.createElementVNode)("ol",null,[i.resource.resource_id?((0,y.openBlock)(),(0,y.createElementBlock)("li",px,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Resource identifier"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.resource.resource_id),1)])):(0,y.createCommentVNode)("",!0),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Publication title"))+":",1),(0,y.createElementVNode)("span",null,[(0,y.createVNode)(l,{to:{name:"EHoldingsEBSCOTitlesShow",params:{title_id:i.resource.title_id}}},{default:(0,y.withCtx)(()=>[(0,y.createTextVNode)((0,y.toDisplayString)(i.resource.title.publication_title),1)]),_:1},8,["to"])])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Publisher name"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.resource.title.publisher_name),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Publication type"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.resource.title.publication_type),1)]),i.resource.title.print_identifier?((0,y.openBlock)(),(0,y.createElementBlock)("li",p$,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Print-format identifier"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.resource.title.print_identifier),1)])):(0,y.createCommentVNode)("",!0),i.resource.title.online_identifier?((0,y.openBlock)(),(0,y.createElementBlock)("li",pD,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Online-format identifier"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.resource.title.online_identifier),1)])):(0,y.createCommentVNode)("",!0)])]),(0,y.createElementVNode)("fieldset",pT,[(0,y.createElementVNode)("ol",null,[(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Package"))+":",1),(0,y.createElementVNode)("span",null,[(0,y.createVNode)(l,{to:{name:"EHoldingsEBSCOPackagesShow",params:{package_id:i.resource.package_id}}},{default:(0,y.withCtx)(()=>[(0,y.createTextVNode)((0,y.toDisplayString)(i.resource.package.name),1)]),_:1},8,["to"])])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Vendor"))+":",1),i.resource.vendor?((0,y.openBlock)(),(0,y.createElementBlock)("span",pB,(0,y.toDisplayString)(i.resource.vendor.name),1)):(0,y.createCommentVNode)("",!0)]),i.resource.package.content_type?((0,y.openBlock)(),(0,y.createElementBlock)("li",pP,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Package content type"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.resource.package.content_type),1)])):(0,y.createCommentVNode)("",!0)])]),(0,y.createElementVNode)("fieldset",pO,[pR,(0,y.createElementVNode)("ol",null,[(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Coverage dates"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(a.format_date(i.resource.started_on))+"-"+(0,y.toDisplayString)(a.format_date(i.resource.ended_on)),1)])])])])])):(0,y.createCommentVNode)("",!0):((0,y.openBlock)(),(0,y.createElementBlock)("div",pw,(0,y.toDisplayString)(e.$__("Loading")),1))}],["__scopeId","data-v-0e812b51"]]),pj={value:""},pq=["value"],pF={value:"0"},pU={value:"1"},pz={value:"2"},pH=["value"],pY={key:0},pJ={key:0},pK={id:"title_list_result",class:"page-section"},pZ=(0,iK.default)({setup(){let e=(0,y.inject)("AVStore"),{av_title_publication_types:t}=tR(e),{get_lib_from_av:n}=e,{config:a}=(0,y.inject)("ERMStore"),i=(0,y.ref)();return(0,y.reactive)({publication_title:"",publication_type:"",selection_type:""}),{av_title_publication_types:t,get_lib_from_av:n,escape_str,config:a,table:i}},data:function(){this.filters={publication_title:this.$route.query.publication_title||"",publication_type:this.$route.query.publication_type||"",selection_type:this.$route.query.selection_type||""};let e=this.filters;return{titles:[],initialized:!0,tableOptions:{columns:this.getTableColumns(),url:"/api/v1/erm/eholdings/ebsco/titles",options:{ordering:!1,dom:'<"top pager"<"table_entries"ilp>>tr<"bottom pager"ip>',lengthMenu:[[10,20,50,100],[10,20,50,100]]},filters_options:{1:()=>this.map_av_dt_filter("av_title_publication_types")},actions:{0:["show"]},default_filters:{publication_title:function(){return e.publication_title||""},publication_type:function(){return e.publication_type||""},selection_type:function(){return e.selection_type||""}}},cannot_search:!1,show_table:!!oa(e).length,local_title_count:null}},computed:{local_titles_url(){let{href:e}=this.$router.resolve({name:"EHoldingsLocalTitlesList"});return oi(e,this.filters)}},methods:{doShow:function({title_id:e},t,n){n.preventDefault(),this.$router.push({name:"EHoldingsEBSCOTitlesShow",params:{title_id:e}})},filter_table:async function(){if(this.filters.publication_title.length){this.cannot_search=!1;let{href:e}=this.$router.resolve({name:"EHoldingsEBSCOTitlesList"}),t=oi(e,this.filters);if(this.$router.push(t),this.show_table=!0,this.local_title_count=null,this.$refs.table&&this.$refs.table.redraw("/api/v1/erm/eholdings/ebsco/titles"),this.config.settings.ERMProviders.includes("local")){let e=rK.erm,t=this.filters?{...this.filters.publication_title?{"me.publication_title":{like:"%"+this.filters.publication_title+"%"}}:{},...this.filters.publication_type?{"me.publication_type":this.filters.publication_type}:{}}:void 0;e.localTitles.count(t).then(e=>this.local_title_count=e,e=>{})}}else this.cannot_search=!0},getTableColumns:function(){let e=this.get_lib_from_av,t=this.escape_str;return[{title:__("Title"),data:"me.publication_title",searchable:!1,orderable:!1,render:function(e,n,a,i){let r='<a href="/cgi-bin/koha/erm/eholdings/ebsco/titles/'+a.title_id+'" class="show">'+t(`${a.publication_title} (#${a.title_id})`)+"</a>";return a.is_selected&&(r+=' <i class="fa fa-check-square" style="color: green; float: right;" title="'+__("Is selected")+'" />'),r}},{title:__("Publisher name"),data:"me.publisher_name",searchable:!1,orderable:!1,render:function(e,n,a,i){return t(a.publisher_name)}},{title:__("Publication type"),data:"publication_type",searchable:!1,orderable:!1,render:function(n,a,i,r){return t(e("av_title_publication_types",i.publication_type))}},{title:__("Identifier"),data:"print_identifier:online_identifier",searchable:!1,orderable:!1,render:function(e,n,a,i){let r=a.print_identifier,o=a.online_identifier;return(r?t(__("ISBN (Print): %s").format(r)):"")+(o?t(__("ISBN (Online): %s").format(o)):"")}}]}},components:{KohaTable:oc},name:"EHoldingsEBSCOTitlesList"},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("router-link"),l=(0,y.resolveComponent)("KohaTable");return(0,y.openBlock)(),(0,y.createElementBlock)("div",null,[(0,y.createElementVNode)("fieldset",null,[(0,y.createTextVNode)((0,y.toDisplayString)(e.$__("Publication title"))+": ",1),(0,y.withDirectives)((0,y.createElementVNode)("input",{type:"text",id:"publication_title_filter","onUpdate:modelValue":t[0]||(t[0]=t=>e.filters.publication_title=t),onKeyup:t[1]||(t[1]=(0,y.withKeys)((...e)=>r.filter_table&&r.filter_table(...e),["enter"]))},null,544),[[y.vModelText,e.filters.publication_title]]),(0,y.createTextVNode)(" "+(0,y.toDisplayString)(e.$__("Publication type"))+": ",1),(0,y.withDirectives)((0,y.createElementVNode)("select",{id:"publication_type_filter","onUpdate:modelValue":t[2]||(t[2]=t=>e.filters.publication_type=t)},[(0,y.createElementVNode)("option",pj,(0,y.toDisplayString)(e.$__("All")),1),((0,y.openBlock)(!0),(0,y.createElementBlock)(y.Fragment,null,(0,y.renderList)(a.av_title_publication_types,e=>((0,y.openBlock)(),(0,y.createElementBlock)("option",{key:e.value,value:e.value},(0,y.toDisplayString)(e.description),9,pq))),128))],512),[[y.vModelSelect,e.filters.publication_type]]),(0,y.createTextVNode)(" "+(0,y.toDisplayString)(e.$__("Selection status"))+": ",1),(0,y.withDirectives)((0,y.createElementVNode)("select",{id:"selection_type_filter","onUpdate:modelValue":t[3]||(t[3]=t=>e.filters.selection_type=t)},[(0,y.createElementVNode)("option",pF,(0,y.toDisplayString)(e.$__("All")),1),(0,y.createElementVNode)("option",pU,(0,y.toDisplayString)(e.$__("Selected")),1),(0,y.createElementVNode)("option",pz,(0,y.toDisplayString)(e.$__("Not selected")),1)],512),[[y.vModelSelect,e.filters.selection_type]]),(0,y.createElementVNode)("input",{onClick:t[4]||(t[4]=(...e)=>r.filter_table&&r.filter_table(...e)),id:"filter_table",type:"button",value:e.$__("Submit")},null,8,pH),e.cannot_search?((0,y.openBlock)(),(0,y.createElementBlock)("span",pY,(0,y.toDisplayString)(e.$__("Please enter a search term")),1)):(0,y.createCommentVNode)("",!0)]),(0,y.createElementVNode)("div",{id:"title_list_result",style:(0,y.normalizeStyle)(e.show_table?"display: block":"display: none")},[void 0!==e.local_title_count&&null!==e.local_title_count?((0,y.openBlock)(),(0,y.createElementBlock)("div",pJ,[(0,y.createVNode)(o,{to:r.local_titles_url},{default:(0,y.withCtx)(()=>[(0,y.createTextVNode)((0,y.toDisplayString)(e.$__("%s titles found locally").format(e.local_title_count)),1)]),_:1},8,["to"])])):(0,y.createCommentVNode)("",!0),(0,y.createElementVNode)("div",pK,[e.show_table?((0,y.openBlock)(),(0,y.createBlock)(l,(0,y.mergeProps)({key:0,ref:"table"},e.tableOptions,{onShow:r.doShow}),null,16,["onShow"])):(0,y.createCommentVNode)("",!0)])],4)])}]]),pW={key:0},pG={key:1,id:"eholdings_title_show"},pQ={class:"rows"},pX={key:0},p0=["href"],p1={key:1},p2={key:2},p3={key:3},p4={key:4},p5={key:5},p8={key:6},p6={key:7},p7={key:8},p9={key:9},_e={key:10},_t={key:11},_n={key:12},_a={key:13},_i={key:14},_r={key:15},_o={key:16},_l={key:17},_s={key:18},_c={key:19},_d={key:20},_u={key:21},_p={key:22},_m={key:23},_f={key:0},_h={class:"action"},_g={id:"package_list_result"},_v={id:"filters"},_b=(e=>((0,y.pushScopeId)("data-v-25af7a02"),e=e(),(0,y.popScopeId)(),e))(()=>(0,y.createElementVNode)("i",{class:"fa fa-search"},null,-1)),_y={key:0,id:"filters"},_k={value:"0"},_E={value:"1"},_A={value:"2"},_w=["value"],_C=["id"];var _S=n("9220"),_N={};_N.styleTagTransform=iH(),_N.setAttributes=iq(),_N.insert=iL().bind(null,"head"),_N.domAPI=iI(),_N.insertStyleElement=iU(),iO()(_S.Z,_N),_S.Z&&_S.Z.locals&&_S.Z.locals;let _V=(0,iK.default)({setup(){let e="package_list";return on(e),{table_id:e}},data:()=>({filters:{package_name:"",selection_type:0},display_filters:!1}),methods:{show_resource:function(e){this.$router.push({name:"EHoldingsEBSCOResourcesShow",params:{resource_id:e}})},toggle_filters:function(e){this.display_filters=!this.display_filters},filter_table:function(){$("#"+this.table_id).DataTable().draw()},build_datatable:function(){let e=this.show_resource,t=this.resources,n=this.filters,a=this.table_id,i=this.$router;$.fn.dataTable.ext.search=$.fn.dataTable.ext.search.filter(e=>"apply_filter"!=e.name),$("#"+a).dataTable({...dataTablesDefaults,data:t,embed:["package.name"],ordering:!1,dom:'<"top pager"<"table_entries"ilp>>tr<"bottom pager"ip>',lengthMenu:[[10,20,50,100],[10,20,50,100]],autoWidth:!1,columns:[{title:__("Name"),data:"package.name",searchable:!1,orderable:!1,render:function(e,t,n,a){return""},width:"100%"}],drawCallback:function(t){var n=new $.fn.dataTable.Api(t);n.rows({search:"applied"}).count()&&$.each($(this).find("tbody tr td:first-child"),function(t,a){let r=$(this).parent(),o=n.row(r).data();if(!o)return;let{href:l}=i.resolve({name:"EHoldingsEBSCOResourcesShow",params:{resource_id:o.resource_id}}),s=(0,y.createVNode)("a",{role:"button",href:l,onClick:t=>{t.preventDefault(),e(o.resource_id)}},`${o.package.name}`);o.is_selected&&(s=(0,y.createVNode)("span",{},[s," ",(0,y.createVNode)("i",{class:"fa fa-check-square",style:{color:"green",float:"right"},title:__("Is selected")})])),(0,y.render)(s,a)})},initComplete:function(){$.fn.dataTable.ext.search.push(function(e,t,a,i){return i.package.name.match(RegExp(n.package_name,"i"))&&(0==n.selection_type||1==n.selection_type&&i.is_selected||2==n.selection_type&&!i.is_selected)})}})}},mounted(){this.build_datatable()},props:{resources:Array},name:"EHoldingsEBSCOTitlePackagesList"},[["render",function(e,t,n,a,i,r){return(0,y.openBlock)(),(0,y.createElementBlock)("div",_g,[(0,y.createElementVNode)("div",_v,[(0,y.createElementVNode)("a",{href:"#",onClick:t[0]||(t[0]=(0,y.withModifiers)(e=>r.toggle_filters(e),["prevent"]))},[_b,(0,y.createTextVNode)(" "+(0,y.toDisplayString)(i.display_filters?e.$__("Hide filters"):e.$__("Show filters")),1)]),i.display_filters?((0,y.openBlock)(),(0,y.createElementBlock)("fieldset",_y,[(0,y.createElementVNode)("ol",null,[(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Package name"))+":",1),(0,y.withDirectives)((0,y.createElementVNode)("input",{type:"text",id:"package_name_filter","onUpdate:modelValue":t[1]||(t[1]=e=>i.filters.package_name=e),onKeyup:t[2]||(t[2]=(0,y.withKeys)((...e)=>r.filter_table&&r.filter_table(...e),["enter"]))},null,544),[[y.vModelText,i.filters.package_name]])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Selection status"))+":",1),(0,y.withDirectives)((0,y.createElementVNode)("select",{id:"selection_type_filter","onUpdate:modelValue":t[3]||(t[3]=e=>i.filters.selection_type=e)},[(0,y.createElementVNode)("option",_k,(0,y.toDisplayString)(e.$__("All")),1),(0,y.createElementVNode)("option",_E,(0,y.toDisplayString)(e.$__("Selected")),1),(0,y.createElementVNode)("option",_A,(0,y.toDisplayString)(e.$__("Not selected")),1)],512),[[y.vModelSelect,i.filters.selection_type]])])]),(0,y.createElementVNode)("input",{onClick:t[4]||(t[4]=(...e)=>r.filter_table&&r.filter_table(...e)),id:"filter_table",type:"button",value:e.$__("Filter")},null,8,_w)])):(0,y.createCommentVNode)("",!0)]),(0,y.createElementVNode)("table",{id:a.table_id},null,8,_C)])}],["__scopeId","data-v-25af7a02"]]);var _x=n("4649"),_$={};_$.styleTagTransform=iH(),_$.setAttributes=iq(),_$.insert=iL().bind(null,"head"),_$.domAPI=iI(),_$.insertStyleElement=iU(),iO()(_x.Z,_$),_x.Z&&_x.Z.locals&&_x.Z.locals;let _D=(0,iK.default)({setup(){let{get_lib_from_av:e}=(0,y.inject)("AVStore");return{get_lib_from_av:e}},data:()=>({title:{title_id:null,publication_title:"",external_id:"",print_identifier:"",online_identifier:"",date_first_issue_online:"",num_first_vol_online:"",num_first_issue_online:"",date_last_issue_online:"",num_last_vol_online:"",num_last_issue_online:"",title_url:"",first_author:"",embargo_info:"",coverage_depth:"",notes:"",publisher_name:"",publication_type:"",date_monograph_published_print:"",date_monograph_published_online:"",monograph_volume:"",monograph_edition:"",first_editor:"",parent_publication_title_id:"",preceding_publication_title_id:"",access_type:"",resources:[]},initialized:!1}),beforeRouteEnter(e,t,n){n(t=>{t.getTitle(e.params.title_id)})},beforeRouteUpdate(e,t){this.title=this.getTitle(e.params.title_id)},methods:{getTitle(e){rK.erm.EBSCOTitles.get(e).then(e=>{this.title=e,this.initialized=!0},e=>{})}},components:{EHoldingsTitlePackagesList:_V},name:"EHoldingsEBSCOTitlesShow"},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("EHoldingsTitlePackagesList"),l=(0,y.resolveComponent)("router-link");return i.initialized?i.title?((0,y.openBlock)(),(0,y.createElementBlock)("div",pG,[(0,y.createElementVNode)("h2",null,(0,y.toDisplayString)(e.$__("Title #%s").format(i.title.title_id)),1),(0,y.createElementVNode)("div",null,[(0,y.createElementVNode)("fieldset",pQ,[(0,y.createElementVNode)("ol",null,[i.title.title_id?((0,y.openBlock)(),(0,y.createElementBlock)("li",pX,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Title identifier"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.title_id),1)])):(0,y.createCommentVNode)("",!0),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Publication title"))+":",1),(0,y.createElementVNode)("span",null,[(0,y.createTextVNode)((0,y.toDisplayString)(i.title.publication_title)+" ",1),i.title.biblio_id?((0,y.openBlock)(),(0,y.createElementBlock)("a",{key:0,href:`/cgi-bin/koha/catalogue/detail.pl?biblionumber=${i.title.biblio_id}`},(0,y.toDisplayString)(e.$__("Local bibliographic record")),9,p0)):(0,y.createCommentVNode)("",!0)])]),i.title.print_identifier?((0,y.openBlock)(),(0,y.createElementBlock)("li",p1,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Print-format identifier"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.print_identifier),1)])):(0,y.createCommentVNode)("",!0),i.title.online_identifier?((0,y.openBlock)(),(0,y.createElementBlock)("li",p2,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Online-format identifier"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.online_identifier),1)])):(0,y.createCommentVNode)("",!0),i.title.date_first_issue_online?((0,y.openBlock)(),(0,y.createElementBlock)("li",p3,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Date of first serial issue available online"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.date_first_issue_online),1)])):(0,y.createCommentVNode)("",!0),i.title.num_first_vol_online?((0,y.openBlock)(),(0,y.createElementBlock)("li",p4,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Number of first volume available online"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.num_first_vol_online),1)])):(0,y.createCommentVNode)("",!0),i.title.num_first_issue_online?((0,y.openBlock)(),(0,y.createElementBlock)("li",p5,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Number of first issue available online"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.num_first_issue_online),1)])):(0,y.createCommentVNode)("",!0),i.title.date_last_issue_online?((0,y.openBlock)(),(0,y.createElementBlock)("li",p8,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Date of last issue available online"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.date_last_issue_online),1)])):(0,y.createCommentVNode)("",!0),i.title.num_last_vol_online?((0,y.openBlock)(),(0,y.createElementBlock)("li",p6,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Number of last volume available online"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.num_last_vol_online),1)])):(0,y.createCommentVNode)("",!0),i.title.num_last_issue_online?((0,y.openBlock)(),(0,y.createElementBlock)("li",p7,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Number of last issue available online"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.num_last_issue_online),1)])):(0,y.createCommentVNode)("",!0),i.title.title_url?((0,y.openBlock)(),(0,y.createElementBlock)("li",p9,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Title-level URL"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.title_url),1)])):(0,y.createCommentVNode)("",!0),i.title.first_author?((0,y.openBlock)(),(0,y.createElementBlock)("li",_e,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("First author"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.first_author),1)])):(0,y.createCommentVNode)("",!0),i.title.embargo_info?((0,y.openBlock)(),(0,y.createElementBlock)("li",_t,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Embargo information"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.embargo_info),1)])):(0,y.createCommentVNode)("",!0),i.title.coverage_depth?((0,y.openBlock)(),(0,y.createElementBlock)("li",_n,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Coverage depth"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.coverage_depth),1)])):(0,y.createCommentVNode)("",!0),i.title.notes?((0,y.openBlock)(),(0,y.createElementBlock)("li",_a,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Notes"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.notes),1)])):(0,y.createCommentVNode)("",!0),i.title.publisher_name?((0,y.openBlock)(),(0,y.createElementBlock)("li",_i,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Publisher name"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.publisher_name),1)])):(0,y.createCommentVNode)("",!0),i.title.publication_type?((0,y.openBlock)(),(0,y.createElementBlock)("li",_r,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Publication type"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(a.get_lib_from_av("av_title_publication_types",i.title.publication_type)),1)])):(0,y.createCommentVNode)("",!0),i.title.date_monograph_published_print?((0,y.openBlock)(),(0,y.createElementBlock)("li",_o,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Date the monograph is first published in print"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.date_monograph_published_print),1)])):(0,y.createCommentVNode)("",!0),i.title.date_monograph_published_online?((0,y.openBlock)(),(0,y.createElementBlock)("li",_l,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Date the monograph is first published online"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.date_monograph_published_online),1)])):(0,y.createCommentVNode)("",!0),i.title.monograph_volume?((0,y.openBlock)(),(0,y.createElementBlock)("li",_s,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Number of volume for monograph"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.monograph_volume),1)])):(0,y.createCommentVNode)("",!0),i.title.monograph_edition?((0,y.openBlock)(),(0,y.createElementBlock)("li",_c,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Edition of the monograph"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.monograph_edition),1)])):(0,y.createCommentVNode)("",!0),i.title.first_editor?((0,y.openBlock)(),(0,y.createElementBlock)("li",_d,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("First editor"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.first_editor),1)])):(0,y.createCommentVNode)("",!0),i.title.parent_publication_title_id?((0,y.openBlock)(),(0,y.createElementBlock)("li",_u,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Title identifier of the parent publication"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.parent_publication_title_id),1)])):(0,y.createCommentVNode)("",!0),i.title.preceding_publication_title_id?((0,y.openBlock)(),(0,y.createElementBlock)("li",_p,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Title identifier of any preceding publication title"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.preceding_publication_title_id),1)])):(0,y.createCommentVNode)("",!0),i.title.access_type?((0,y.openBlock)(),(0,y.createElementBlock)("li",_m,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Access type"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.title.access_type),1)])):(0,y.createCommentVNode)("",!0),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,"Packages ("+(0,y.toDisplayString)(i.title.resources.length)+")",1),i.title.resources.length?((0,y.openBlock)(),(0,y.createElementBlock)("div",_f,[(0,y.createVNode)(o,{resources:i.title.resources},null,8,["resources"])])):(0,y.createCommentVNode)("",!0)])])]),(0,y.createElementVNode)("fieldset",_h,[(0,y.createVNode)(l,{to:{name:"EHoldingsEBSCOTitlesList"},role:"button",class:"cancel"},{default:(0,y.withCtx)(()=>[(0,y.createTextVNode)((0,y.toDisplayString)(e.$__("Close")),1)]),_:1})])])])):(0,y.createCommentVNode)("",!0):((0,y.openBlock)(),(0,y.createElementBlock)("div",pW,(0,y.toDisplayString)(e.$__("Loading")),1))}],["__scopeId","data-v-7931d542"]]),_T={key:0},_B={key:1,id:"licenses_list"},_P={key:0,class:"page-section"},_O={key:1,class:"alert alert-info"},_R=(0,iK.default)({setup(){let{vendors:e}=tR((0,y.inject)("vendorStore")),{get_lib_from_av:t,map_av_dt_filter:n}=(0,y.inject)("AVStore"),{setConfirmationDialog:a,setMessage:i}=(0,y.inject)("mainStore");return{vendors:e,get_lib_from_av:t,map_av_dt_filter:n,table:(0,y.ref)(),setConfirmationDialog:a,setMessage:i,license_table_settings}},data:function(){return{license_count:0,initialized:!1,toolbar_options:[{to:"LicensesFormAdd",icon:"plus",button_title:this.$__("New license")}],searchable_additional_fields:[],searchable_av_options:[],tableOptions:{columns:this.getTableColumns(),url:"/api/v1/erm/licenses",options:{embed:"vendor,extended_attributes,+strings"},table_settings:this.license_table_settings,add_filters:!0,filters_options:{1:()=>this.vendors.map(e=>(e._id=e.id,e._str=e.name,e)),3:()=>this.map_av_dt_filter("av_license_types"),4:()=>this.map_av_dt_filter("av_license_statuses")},actions:{0:["show"],"-1":["edit","delete"]}}}},beforeRouteEnter(e,t,n){n(e=>{e.getLicenseCount().then(()=>e.getSearchableAdditionalFields().then(()=>e.getSearchableAVOptions().then(()=>e.initialized=!0)))})},methods:{async getLicenseCount(){let e=rK.erm;await e.licenses.count().then(e=>{this.license_count=e},e=>{})},async getSearchableAdditionalFields(){let e=rK.additional_fields;await e.additional_fields.getAll("license").then(e=>{this.searchable_additional_fields=e.filter(e=>e.searchable)},e=>{})},async getSearchableAVOptions(){let e=rK.authorised_values,t=this.searchable_additional_fields.filter(e=>e.authorised_value_category_name).map(e=>e.authorised_value_category_name);await e.values.getCategoriesWithValues([...new Set(t.map(e=>'"'+e+'"'))]).then(e=>{t.forEach(t=>{let n=e.find(e=>e.category_name==t);this.searchable_av_options[t]=n.authorised_values.map(e=>({value:e.value,label:e.description}))})})},doShow:function({license_id:e},t,n){n.preventDefault(),this.$router.push({name:"LicensesShow",params:{license_id:e}})},doEdit:function({license_id:e},t,n){this.$router.push({name:"LicensesFormAddEdit",params:{license_id:e}})},doDelete:function(e,t,n){this.setConfirmationDialog({title:this.$__("Are you sure you want to remove this license?"),message:e.name,accept_label:this.$__("Yes, delete"),cancel_label:this.$__("No, do not delete")},()=>{rK.erm.licenses.delete(e.license_id).then(n=>{this.setMessage(this.$__("License %s deleted").format(e.name),!0),t.draw()},e=>{})})},getTableColumns:function(){let e=this.get_lib_from_av;return[{title:__("Name"),data:"me.name:me.license_id",searchable:!0,orderable:!0,render:function(e,t,n,a){return'<a href="/cgi-bin/koha/erm/licenses/'+n.license_id+'" class="show">'+escape_str(`${n.name} (#${n.license_id})`)+"</a>"}},{title:__("Vendor"),data:"vendor_id",searchable:!0,orderable:!0,render:function(e,t,n,a){return void 0!=n.vendor_id?'<a href="/cgi-bin/koha/acqui/supplier.pl?booksellerid='+n.vendor_id+'">'+escape_str(n.vendor.name)+"</a>":""}},{title:__("Description"),data:"description",searchable:!0,orderable:!0},{title:__("Type"),data:"type",searchable:!0,orderable:!0,render:function(t,n,a,i){return escape_str(e("av_license_types",a.type))}},{title:__("Status"),data:"status",searchable:!0,orderable:!0,render:function(t,n,a,i){return escape_str(e("av_license_statuses",a.status))}},{title:__("Started on"),data:"started_on",searchable:!0,orderable:!0,render:function(e,t,n,a){return $date(n.started_on)}},{title:__("Ended on"),data:"ended_on",searchable:!0,orderable:!0,render:function(e,t,n,a){return $date(n.ended_on)}}]}},props:{av_license_types:Array,av_license_statuses:Array},components:{Toolbar:oe,ToolbarButton:ot,KohaTable:oc},name:"LicensesList"},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("ToolbarButton"),l=(0,y.resolveComponent)("Toolbar"),s=(0,y.resolveComponent)("KohaTable");return e.initialized?((0,y.openBlock)(),(0,y.createElementBlock)("div",_B,[(0,y.createVNode)(l,null,{default:(0,y.withCtx)(()=>[(0,y.createVNode)(o,{to:{name:"LicensesFormAdd"},icon:"plus",title:e.$__("New license")},null,8,["title"])]),_:1}),e.license_count>0?((0,y.openBlock)(),(0,y.createElementBlock)("div",_P,[(0,y.createVNode)(s,(0,y.mergeProps)({ref:"table"},e.tableOptions,{searchable_additional_fields:e.searchable_additional_fields,searchable_av_options:e.searchable_av_options,onShow:r.doShow,onEdit:r.doEdit,onDelete:r.doDelete}),null,16,["searchable_additional_fields","searchable_av_options","onShow","onEdit","onDelete"])])):((0,y.openBlock)(),(0,y.createElementBlock)("div",_O,(0,y.toDisplayString)(e.$__("There are no licenses defined")),1))])):((0,y.openBlock)(),(0,y.createElementBlock)("div",_T,(0,y.toDisplayString)(e.$__("Loading")),1))}]]),_I={key:0},_M={key:1,id:"licenses_show"},_L={class:"rows"},_j={key:0},_q=["href"],_F={key:0},_U={key:1},_z={id:"license_documents"},_H={key:0},_Y={key:0},_J=["href"],_K=(e=>((0,y.pushScopeId)("data-v-79350a14"),e=e(),(0,y.popScopeId)(),e))(()=>(0,y.createElementVNode)("i",{class:"fa fa-download"},null,-1)),_Z={key:1},_W={key:2},_G={key:3},_Q={class:"action"};var _X=n("1701"),_0={};_0.styleTagTransform=iH(),_0.setAttributes=iq(),_0.insert=iL().bind(null,"head"),_0.domAPI=iI(),_0.insertStyleElement=iU(),iO()(_X.Z,_0),_X.Z&&_X.Z.locals&&_X.Z.locals;let _1=(0,iK.default)({setup(){let e=$date,t=$patron_to_html,{setConfirmationDialog:n,setMessage:a}=(0,y.inject)("mainStore"),{get_lib_from_av:i}=(0,y.inject)("AVStore");return{format_date:e,patron_to_html:t,get_lib_from_av:i,setConfirmationDialog:n,setMessage:a}},data:()=>({license:{license_id:null,name:"",vendor_id:null,vendor:null,description:"",type:"",status:"",user_roles:[],extended_attributes:[],_strings:[],started_on:void 0,ended_on:void 0},initialized:!1}),beforeRouteEnter(e,t,n){n(t=>{t.license=t.getLicense(e.params.license_id)})},methods:{async getLicense(e){rK.erm.licenses.get(e).then(e=>{this.license=e,this.initialized=!0},e=>{})},delete_license:function(e,t){this.setConfirmationDialog({title:this.$__("Are you sure you want to remove this license?"),message:t,accept_label:this.$__("Yes, delete"),cancel_label:this.$__("No, do not delete")},()=>{rK.erm.licenses.delete(e).then(e=>{this.setMessage(this.$__("License %s deleted").format(t),!0),this.$router.push({name:"LicensesList"})},e=>{})})}},components:{Toolbar:oe,ToolbarButton:ot,AdditionalFieldsDisplay:oF},name:"LicensesShow"},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("ToolbarButton"),l=(0,y.resolveComponent)("font-awesome-icon"),s=(0,y.resolveComponent)("Toolbar"),c=(0,y.resolveComponent)("AdditionalFieldsDisplay"),d=(0,y.resolveComponent)("router-link");return i.initialized?((0,y.openBlock)(),(0,y.createElementBlock)("div",_M,[(0,y.createVNode)(s,null,{default:(0,y.withCtx)(()=>[(0,y.createVNode)(o,{to:{name:"LicensesFormAddEdit",params:{license_id:i.license.license_id}},icon:"pencil",title:e.$__("Edit")},null,8,["to","title"]),(0,y.createElementVNode)("a",{onClick:t[0]||(t[0]=e=>r.delete_license(i.license.license_id,i.license.name)),class:"btn btn-default"},[(0,y.createVNode)(l,{icon:"trash"}),(0,y.createTextVNode)(" "+(0,y.toDisplayString)(e.$__("Delete")),1)])]),_:1}),(0,y.createElementVNode)("h2",null,(0,y.toDisplayString)(e.$__("License #%s").format(i.license.license_id)),1),(0,y.createElementVNode)("div",null,[(0,y.createElementVNode)("fieldset",_L,[(0,y.createElementVNode)("ol",null,[(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("License name"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.license.name),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Vendor"))+":",1),i.license.vendor_id?((0,y.openBlock)(),(0,y.createElementBlock)("span",_j,[(0,y.createElementVNode)("a",{href:`/cgi-bin/koha/acqui/booksellers.pl?booksellerid=${i.license.vendor_id}`},(0,y.toDisplayString)(i.license.vendor.name),9,_q)])):(0,y.createCommentVNode)("",!0)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Description"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.license.description),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Type"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(a.get_lib_from_av("av_license_types",i.license.type)),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Status"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(a.get_lib_from_av("av_license_statuses",i.license.status)),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Started on"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(a.format_date(i.license.started_on)),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Ended on"))+":",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(a.format_date(i.license.ended_on)),1)]),i.license.user_roles.length?((0,y.openBlock)(),(0,y.createElementBlock)("li",_F,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Users")),1),(0,y.createElementVNode)("table",null,[(0,y.createElementVNode)("thead",null,[(0,y.createElementVNode)("th",null,(0,y.toDisplayString)(e.$__("Name")),1),(0,y.createElementVNode)("th",null,(0,y.toDisplayString)(e.$__("Role")),1)]),(0,y.createElementVNode)("tbody",null,[((0,y.openBlock)(!0),(0,y.createElementBlock)(y.Fragment,null,(0,y.renderList)(i.license.user_roles,(e,t)=>((0,y.openBlock)(),(0,y.createElementBlock)("tr",{key:t},[(0,y.createElementVNode)("td",null,(0,y.toDisplayString)(a.patron_to_html(e.patron)),1),(0,y.createElementVNode)("td",null,(0,y.toDisplayString)(a.get_lib_from_av("av_user_roles",e.role)),1)]))),128))])])])):(0,y.createCommentVNode)("",!0),i.license.documents.length?((0,y.openBlock)(),(0,y.createElementBlock)("li",_U,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Documents")),1),(0,y.createElementVNode)("div",_z,[(0,y.createElementVNode)("ul",null,[((0,y.openBlock)(!0),(0,y.createElementBlock)(y.Fragment,null,(0,y.renderList)(i.license.documents,t=>((0,y.openBlock)(),(0,y.createElementBlock)("li",{key:t.document_id},[t.file_name?((0,y.openBlock)(),(0,y.createElementBlock)("div",_H,[t.file_description?((0,y.openBlock)(),(0,y.createElementBlock)("span",_Y,(0,y.toDisplayString)(t.file_description)+" - ",1)):(0,y.createCommentVNode)("",!0),(0,y.createElementVNode)("a",{download:"",href:`/api/v1/erm/documents/${t.document_id}/file/content`},[(0,y.createTextVNode)((0,y.toDisplayString)(t.file_name)+" ",1),_K],8,_J),(0,y.createTextVNode)(" ("+(0,y.toDisplayString)(t.file_type)+") "+(0,y.toDisplayString)(e.$__("Uploaded on"))+": "+(0,y.toDisplayString)(a.format_date(t.uploaded_on)),1)])):(0,y.createCommentVNode)("",!0),t.physical_location?((0,y.openBlock)(),(0,y.createElementBlock)("div",_Z,(0,y.toDisplayString)(e.$__("Physical location"))+": "+(0,y.toDisplayString)(t.physical_location),1)):(0,y.createCommentVNode)("",!0),t.uri?((0,y.openBlock)(),(0,y.createElementBlock)("div",_W,(0,y.toDisplayString)(e.$__("URI"))+": "+(0,y.toDisplayString)(t.uri),1)):(0,y.createCommentVNode)("",!0),t.notes?((0,y.openBlock)(),(0,y.createElementBlock)("div",_G,(0,y.toDisplayString)(e.$__("Notes"))+": "+(0,y.toDisplayString)(t.notes),1)):(0,y.createCommentVNode)("",!0)]))),128))])])])):(0,y.createCommentVNode)("",!0)])]),(0,y.createVNode)(c,{resource_type:"license",additional_field_values:i.license._strings.additional_field_values},null,8,["additional_field_values"]),(0,y.createElementVNode)("fieldset",_Q,[(0,y.createVNode)(d,{to:{name:"LicensesList"},role:"button",class:"cancel"},{default:(0,y.withCtx)(()=>[(0,y.createTextVNode)((0,y.toDisplayString)(e.$__("Close")),1)]),_:1})])])])):((0,y.openBlock)(),(0,y.createElementBlock)("div",_I,(0,y.toDisplayString)(e.$__("Loading")),1))}],["__scopeId","data-v-79350a14"]]),_2={key:0},_3={key:1,id:"licenses_add"},_4={key:0},_5={key:1},_8={class:"rows"},_6={class:"required",for:"license_name"},_7=["placeholder"],_9={class:"required"},me={for:"license_vendor_id"},mt={for:"license_description",class:"required"},mn=["placeholder"],ma={class:"required"},mi={for:"license_type",class:"required"},mr=["required"],mo={class:"required"},ml={for:"license_status",class:"required"},ms=["required"],mc={class:"required"},md={for:"started_on"},mu={for:"ended_on"},mp={class:"action"},m_=["value"],mm={setup(){let{av_license_types:e,av_license_statuses:t,av_user_roles:n}=tR((0,y.inject)("AVStore"));return{av_license_types:e,av_license_statuses:t,av_user_roles:n,max_allowed_packet}},data:()=>({fp_config:flatpickr_defaults,license:{license_id:null,name:"",vendor_id:null,description:"",type:"",status:"",started_on:void 0,ended_on:void 0,user_roles:[],documents:[],extended_attributes:[]},initialized:!1}),beforeRouteEnter(e,t,n){n(t=>{e.params.license_id?t.license=t.getLicense(e.params.license_id):t.initialized=!0})},methods:{async getLicense(e){rK.erm.licenses.get(e).then(e=>{this.license=e,this.initialized=!0})},checkForm(e){let t=[];return e.documents.filter(e=>void 0!==e.file_content).filter(e=>atob(e.file_content).length>=max_allowed_packet).length>=1&&t.push(this.$__("File size exceeds maximum allowed: %s MB").format((max_allowed_packet/1048576).toFixed(2))),e.user_roles.forEach((e,n)=>{""===e.patron_str&&t.push(this.$__("License user %s is missing a user").format(n+1))}),rO(t.join("<br>")),!t.length},onSubmit(e){e.preventDefault();let t=JSON.parse(JSON.stringify(this.license)),n=t.license_id;if(!this.checkForm(t))return!1;delete t.license_id,delete t.vendor,delete t._strings,""==t.vendor_id&&(t.vendor_id=null),t.user_roles=t.user_roles.map(({patron:e,patron_str:t,...n})=>n),t.documents=t.documents.map(({file_type:e,uploaded_on:t,...n})=>n);let a=rK.erm;n?a.licenses.update(t,n).then(e=>{rR(this.$__("License updated")),this.$router.push({name:"LicensesList"})},e=>{}):a.licenses.create(t).then(e=>{rR(this.$__("License created")),this.$router.push({name:"LicensesList"})},e=>{})},additionalFieldsChanged(e){this.license.extended_attributes=e}},components:{flatPickr:rV(),UserRoles:lN,Documents:sp,FormSelectVendors:sx,AdditionalFieldsEntry:sw},name:"LicensesFormAdd"},mf=(0,iK.default)(mm,[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("FormSelectVendors"),l=(0,y.resolveComponent)("v-select"),s=(0,y.resolveComponent)("flat-pickr"),c=(0,y.resolveComponent)("AdditionalFieldsEntry"),d=(0,y.resolveComponent)("UserRoles"),u=(0,y.resolveComponent)("Documents"),p=(0,y.resolveComponent)("router-link");return i.initialized?((0,y.openBlock)(),(0,y.createElementBlock)("div",_3,[i.license.license_id?((0,y.openBlock)(),(0,y.createElementBlock)("h2",_4,(0,y.toDisplayString)(e.$__("Edit license %s").format(i.license.license_id)),1)):((0,y.openBlock)(),(0,y.createElementBlock)("h2",_5,(0,y.toDisplayString)(e.$__("New license")),1)),(0,y.createElementVNode)("div",null,[(0,y.createElementVNode)("form",{onSubmit:t[7]||(t[7]=e=>r.onSubmit(e))},[(0,y.createElementVNode)("fieldset",_8,[(0,y.createElementVNode)("ol",null,[(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",_6,(0,y.toDisplayString)(e.$__("License name"))+":",1),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:"license_name","onUpdate:modelValue":t[0]||(t[0]=e=>i.license.name=e),placeholder:e.$__("License name"),required:""},null,8,_7),[[y.vModelText,i.license.name]]),(0,y.createElementVNode)("span",_9,(0,y.toDisplayString)(e.$__("Required")),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",me,(0,y.toDisplayString)(e.$__("Vendor"))+":",1),(0,y.createVNode)(o,{id:"license_vendor_id",modelValue:i.license.vendor_id,"onUpdate:modelValue":t[1]||(t[1]=e=>i.license.vendor_id=e)},null,8,["modelValue"])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",mt,(0,y.toDisplayString)(e.$__("Description"))+": ",1),(0,y.withDirectives)((0,y.createElementVNode)("textarea",{id:"license_description","onUpdate:modelValue":t[2]||(t[2]=e=>i.license.description=e),placeholder:e.$__("Description"),rows:"10",cols:"50",required:""},null,8,mn),[[y.vModelText,i.license.description]]),(0,y.createElementVNode)("span",ma,(0,y.toDisplayString)(e.$__("Required")),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",mi,(0,y.toDisplayString)(e.$__("Type"))+":",1),(0,y.createVNode)(l,{id:"license_type",modelValue:i.license.type,"onUpdate:modelValue":t[3]||(t[3]=e=>i.license.type=e),label:"description",reduce:e=>e.value,options:a.av_license_types},{search:(0,y.withCtx)(({attributes:e,events:t})=>[(0,y.createElementVNode)("input",(0,y.mergeProps)({required:!i.license.type,class:"vs__search"},e,(0,y.toHandlers)(t,!0)),null,16,mr)]),_:1},8,["modelValue","reduce","options"]),(0,y.createElementVNode)("span",mo,(0,y.toDisplayString)(e.$__("Required")),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",ml,(0,y.toDisplayString)(e.$__("Status"))+":",1),(0,y.createVNode)(l,{id:"license_status",modelValue:i.license.status,"onUpdate:modelValue":t[4]||(t[4]=e=>i.license.status=e),reduce:e=>e.value,options:a.av_license_statuses,label:"description"},{search:(0,y.withCtx)(({attributes:e,events:t})=>[(0,y.createElementVNode)("input",(0,y.mergeProps)({required:!i.license.status,class:"vs__search"},e,(0,y.toHandlers)(t,!0)),null,16,ms)]),_:1},8,["modelValue","reduce","options"]),(0,y.createElementVNode)("span",mc,(0,y.toDisplayString)(e.$__("Required")),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",md,(0,y.toDisplayString)(e.$__("Start date"))+":",1),(0,y.createVNode)(s,{id:"started_on",modelValue:i.license.started_on,"onUpdate:modelValue":t[5]||(t[5]=e=>i.license.started_on=e),config:i.fp_config,"data-date_to":"ended_on"},null,8,["modelValue","config"])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",mu,(0,y.toDisplayString)(e.$__("End date"))+":",1),(0,y.createVNode)(s,{id:"ended_on",modelValue:i.license.ended_on,"onUpdate:modelValue":t[6]||(t[6]=e=>i.license.ended_on=e),config:i.fp_config},null,8,["modelValue","config"])])])]),(0,y.createVNode)(c,{resource_type:"license",additional_field_values:i.license.extended_attributes,onAdditionalFieldsChanged:r.additionalFieldsChanged},null,8,["additional_field_values","onAdditionalFieldsChanged"]),(0,y.createVNode)(d,{user_type:e.$__("License user %s"),user_roles:i.license.user_roles,av_user_roles:a.av_user_roles},null,8,["user_type","user_roles","av_user_roles"]),(0,y.createVNode)(u,{documents:i.license.documents},null,8,["documents"]),(0,y.createElementVNode)("fieldset",mp,[(0,y.createElementVNode)("input",{type:"submit",class:"btn btn-primary",value:e.$__("Submit")},null,8,m_),(0,y.createVNode)(p,{to:{name:"LicensesList"},role:"button",class:"cancel"},{default:(0,y.withCtx)(()=>[(0,y.createTextVNode)((0,y.toDisplayString)(e.$__("Cancel")),1)]),_:1})])],32)])])):((0,y.openBlock)(),(0,y.createElementBlock)("div",_2,(0,y.toDisplayString)(e.$__("Loading")),1))}]]),mh={key:0},mg={key:1,id:"usage_data_providers_list"},mv={class:"toolbar_options"},mb={key:0,id:"toolbar",class:"btn-toolbar"},my=(e=>((0,y.pushScopeId)("data-v-4d706922"),e=e(),(0,y.popScopeId)(),e))(()=>(0,y.createElementVNode)("i",{class:"fa fa-list"},null,-1)),mk={key:0,class:"page-section"},mE={key:1,class:"alert alert-info"},mA={id:"toolbar",class:"btn-toolbar"},mw=(0,iK.default)({name:"UsageStatisticsDataProvidersToolbar"},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("font-awesome-icon"),l=(0,y.resolveComponent)("router-link");return(0,y.openBlock)(),(0,y.createElementBlock)("div",mA,[(0,y.createVNode)(l,{to:{name:"UsageStatisticsDataProvidersFormAdd"},class:"btn btn-default"},{default:(0,y.withCtx)(()=>[(0,y.createVNode)(o,{icon:"plus"}),(0,y.createTextVNode)(" "+(0,y.toDisplayString)(e.$__("New data provider")),1)]),_:1})])}]]);var mC=n("6025"),mS={};mS.styleTagTransform=iH(),mS.setAttributes=iq(),mS.insert=iL().bind(null,"head"),mS.domAPI=iI(),mS.insertStyleElement=iU(),iO()(mC.Z,mS),mC.Z&&mC.Z.locals&&mC.Z.locals;let mN=(0,iK.default)({setup(){let{get_lib_from_av:e,map_av_dt_filter:t}=(0,y.inject)("AVStore"),{setConfirmationDialog:n,setMessage:a,setWarning:i}=(0,y.inject)("mainStore");return{get_lib_from_av:e,map_av_dt_filter:t,setConfirmationDialog:n,setMessage:a,setWarning:i,table:(0,y.ref)()}},data:function(){return{usage_data_provider_count:0,initialized:!1,building_table:!1,tableOptions:{columns:this.getTableColumns(),options:{},url:()=>this.table_url(),table_settings:this.usage_data_provider_table_settings,add_filters:!0,actions:{0:["show"],"-1":[{run_now:{text:this.$__("Run now"),icon:"fa fa-play"}},{test_connection:{text:this.$__("Test"),icon:"fa fa-check"}},"edit","delete"]}}}},methods:{async getUsageDataProviderCount(){let e=rK.erm;await e.usage_data_providers.count().then(e=>{this.usage_data_provider_count=e,this.initialized=!0},e=>{})},table_url:()=>"/api/v1/erm/usage_data_providers",show_usage_data_provider(e,t,n){n.preventDefault(),this.$router.push({name:"UsageStatisticsDataProvidersShow",params:{usage_data_provider_id:e.erm_usage_data_provider_id}})},edit_usage_data_provider(e,t,n){this.$router.push({name:"UsageStatisticsDataProvidersFormAddEdit",params:{usage_data_provider_id:e.erm_usage_data_provider_id}})},delete_usage_data_provider(e,t,n){this.setConfirmationDialog({title:this.$__("Are you sure you want to remove this data provider?"),message:e.name,accept_label:this.$__("Yes, delete"),cancel_label:this.$__("No, do not delete")},()=>{rK.erm.usage_data_providers.delete(e.erm_usage_data_provider_id).then(n=>{this.setMessage(this.$__("Data provider %s deleted").format(e.name),!0),t.draw()},e=>{})})},run_harvester_now(e,t,n){let{erm_usage_data_provider_id:a,name:i}=e;if(e.active){let e=new Date;this.setConfirmationDialog({title:this.$__("Are you sure you want to run the harvester for this data provider?"),message:i,accept_label:this.$__("Yes, run"),cancel_label:this.$__("No, do not run"),inputs:[{id:"begin_date",type:"Date",value:null,required:!0,label:this.$__("Begin date")},{id:"end_date",type:"Date",value:$date_to_rfc3339($date(e.toString())),required:!0,label:this.$__("End date")}]},e=>{rK.erm.usage_data_providers.process_SUSHI_response(a,{begin_date:e.inputs.find(e=>"begin_date"==e.id).value,end_date:e.inputs.find(e=>"end_date"==e.id).value}).then(e=>{let t="";e.jobs.forEach((e,n)=>{t+="<li>"+this.$__("Job for report type <strong>%s</strong> has been queued").format(e.report_type)+'. <a href="/cgi-bin/koha/admin/background_jobs.pl?op=view&id='+e.job_id+'" target="_blank">'+this.$__("Check job progress")+".</a></li>"}),this.setMessage(t,!0)},e=>{})})}else this.setConfirmationDialog({title:this.$__("This data provider is set to 'Inactive', do you wish to update the status to 'Active'?"),message:i,accept_label:this.$__("Yes, update status"),cancel_label:this.$__("No, do not update status")},()=>{e.active=1,delete e.erm_usage_data_provider_id,delete e.earliest_platform,delete e.latest_platform,delete e.earliest_title,delete e.latest_title,delete e.earliest_database,delete e.latest_database,delete e.earliest_item,delete e.latest_item,rK.erm.usage_data_providers.update(e,a).then(e=>{this.setMessage(this.$__("Updated status for usage data provider %s").format(i),!0),t.draw()},e=>{})})},test_harvester_connection(e,t,n){let{erm_usage_data_provider_id:a,name:i}=e;e.active?rK.erm.usage_data_providers.test(a).then(e=>{e?this.setMessage(this.$__("Harvester connection was successful for usage data provider %s").format(i),!0):this.setMessage(this.$__("No connection for usage data provider %s, please check your credentials and try again.").format(i),!0)},e=>{}):this.setWarning(this.$__("This data provider is inactive - connection testing is not possible"),!0)},getTableColumns:()=>[{title:__("Name"),data:"me.erm_usage_data_provider_id:me.name",searchable:!0,orderable:!0,render:function(e,t,n,a){return'<a href="/cgi-bin/koha/erm/eusage/usage_data_providers/'+n.erm_usage_data_provider_id+'" class="show">'+escape_str(`${n.name} (#${n.erm_usage_data_provider_id})`)+"</a>"}},{title:__("Description"),data:"description",searchable:!0,orderable:!0},{title:__("Status"),render:function(e,t,n,a){return n.active?"Active":"Inactive"},searchable:!0,orderable:!0},{title:__("Last run"),data:"last_run",searchable:!0,orderable:!0}]},mounted(){!this.building_table&&(this.building_table=!0,this.getUsageDataProviderCount())},components:{Toolbar:mw,KohaTable:oc},name:"DataProvidersList"},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("Toolbar"),l=(0,y.resolveComponent)("router-link"),s=(0,y.resolveComponent)("KohaTable");return e.initialized?((0,y.openBlock)(),(0,y.createElementBlock)("div",mg,[(0,y.createElementVNode)("template",mv,[(0,y.createVNode)(o),e.usage_data_provider_count>0?((0,y.openBlock)(),(0,y.createElementBlock)("div",mb,[(0,y.createVNode)(l,{to:{name:"UsageStatisticsDataProvidersSummary"},class:"btn btn-default"},{default:(0,y.withCtx)(()=>[my,(0,y.createTextVNode)(" "+(0,y.toDisplayString)(e.$__("Data providers summary")),1)]),_:1})])):(0,y.createCommentVNode)("",!0)]),e.usage_data_provider_count>0?((0,y.openBlock)(),(0,y.createElementBlock)("div",mk,[(0,y.createVNode)(s,(0,y.mergeProps)({ref:"table"},e.tableOptions,{onShow:r.show_usage_data_provider,onEdit:r.edit_usage_data_provider,onDelete:r.delete_usage_data_provider,onRun_now:r.run_harvester_now,onTest_connection:r.test_harvester_connection}),null,16,["onShow","onEdit","onDelete","onRun_now","onTest_connection"])])):e.initialized?((0,y.openBlock)(),(0,y.createElementBlock)("div",mE,(0,y.toDisplayString)(e.$__("There are no usage data providers defined")),1)):(0,y.createCommentVNode)("",!0)])):((0,y.openBlock)(),(0,y.createElementBlock)("div",mh,(0,y.toDisplayString)(e.$__("Loading")),1))}],["__scopeId","data-v-4d706922"]]),mV={key:0},mx={key:1,id:"usage_data_providers_summary"},m$={id:"toolbar",class:"btn-toolbar"},mD=(e=>((0,y.pushScopeId)("data-v-2a340c9a"),e=e(),(0,y.popScopeId)(),e))(()=>(0,y.createElementVNode)("i",{class:"fa fa-list"},null,-1)),mT={key:0,class:"page-section hide-table",ref:"table_div"};var mB=n("6112"),mP={};mP.styleTagTransform=iH(),mP.setAttributes=iq(),mP.insert=iL().bind(null,"head"),mP.domAPI=iI(),mP.insertStyleElement=iU(),iO()(mB.Z,mP),mB.Z&&mB.Z.locals&&mB.Z.locals;let mO=(0,iK.default)({setup(){let{get_lib_from_av:e,map_av_dt_filter:t}=(0,y.inject)("AVStore"),{setConfirmationDialog:n,setMessage:a}=(0,y.inject)("mainStore");return{get_lib_from_av:e,map_av_dt_filter:t,setConfirmationDialog:n,setMessage:a,table:(0,y.ref)()}},data:function(){return{usage_data_providers:[],initialized:!1,building_table:!1,tableOptions:{columns:this.getTableColumns(),options:{embed:"counter_files"},url:()=>this.table_url(),table_settings:this.usage_data_provider_table_settings,actions:{}}}},methods:{async getUsageDataProviders(){let e=rK.erm;await e.usage_data_providers.getAll().then(e=>{this.usage_data_providers=e,this.initialized=!0},e=>{})},table_url:()=>"/api/v1/erm/usage_data_providers",getTableColumns(){let e=[{title:__("Provider"),data:"me.erm_usage_data_provider_id:me.name",searchable:!0,orderable:!0,render:function(e,t,n,a){return n.name}}];return["title","platform","database","item"].forEach(t=>{e.push({title:__("Start"),data:"description",searchable:!0,orderable:!0,render:function(e,n,a,i){return a[`earliest_${t}`]?a[`earliest_${t}`]:__("N/A")}},{title:__("End"),data:"description",searchable:!0,orderable:!0,render:function(e,n,a,i){return a[`latest_${t}`]?a[`latest_${t}`]:__("N/A")}})}),e},createTableHeader(){let e=this.$refs.table.$el.getElementsByTagName("table")[0].insertRow(0),[t,n,a,i,r]=Array.from("1".repeat(5)).map(t=>{let n=document.createElement("th");return e.appendChild(n),n});n.colSpan=2,n.innerHTML=this.$__("Title reports"),a.colSpan=2,a.innerHTML=this.$__("Platform reports"),i.colSpan=2,i.innerHTML=this.$__("Database reports"),r.colSpan=2,r.innerHTML=this.$__("Item reports"),this.$refs.table_div.classList.remove("hide-table")}},watch:{table(){this.createTableHeader()}},mounted(){!this.building_table&&(this.building_table=!0,this.getUsageDataProviders())},components:{Toolbar:mw,KohaTable:oc},name:"UsageStatisticsDataProvidersSummary"},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("router-link"),l=(0,y.resolveComponent)("KohaTable");return e.initialized?e.usage_data_providers.length?((0,y.openBlock)(),(0,y.createElementBlock)("div",mx,[(0,y.createElementVNode)("div",m$,[(0,y.createVNode)(o,{to:{name:"UsageStatisticsDataProvidersList"},class:"btn btn-default"},{default:(0,y.withCtx)(()=>[mD,(0,y.createTextVNode)(" "+(0,y.toDisplayString)(e.$__("Data providers list")),1)]),_:1})]),e.usage_data_providers.length?((0,y.openBlock)(),(0,y.createElementBlock)("div",mT,[(0,y.createVNode)(l,(0,y.mergeProps)({ref:"table"},e.tableOptions),null,16)],512)):(0,y.createCommentVNode)("",!0)])):(0,y.createCommentVNode)("",!0):((0,y.openBlock)(),(0,y.createElementBlock)("div",mV,(0,y.toDisplayString)(e.$__("Loading")),1))}],["__scopeId","data-v-2a340c9a"]]),mR={key:0},mI={key:1,id:"data_providers_add"},mM={key:0},mL={key:1},mj={class:"page-section"},mq={class:"rows"},mF={class:"required",for:"usage_data_provider_name"},mU=["placeholder"],mz=["required"],mH={class:"required"},mY={for:"usage_data_provider_description"},mJ=["placeholder","disabled"],mK={for:"usage_data_provider_status"},mZ={for:"usage_data_provider_service_type"},mW=["disabled"],mG={for:"usage_data_provider_service_platform"},mQ={class:"required",for:"usage_data_provider_report_types"},mX=["required"],m0={class:"required"},m1={class:"rows credentials"},m2={class:"credentials_form"},m3=["required","disabled"],m4={key:0,class:"required"},m5=["required","disabled"],m8={key:0,class:"required"},m6=["required","disabled"],m7={key:0,class:"required"},m9=["required","disabled"],fe={key:0,class:"required"},ft=["disabled","required"],fn={key:0,class:"required"},fa={for:"usage_data_provider_requestor_name"},fi=["disabled"],fr={for:"usage_data_provider_requestor_email"},fo=["disabled"],fl={key:0,class:"credentials_form"},fs={for:"customer_id_info"},fc={id:"customer_id_info"},fd={for:"requestor_id_info"},fu={id:"requestor_id_info"},fp={for:"api_key_info"},f_={id:"api_key_info"},fm={href:"https://registry.countermetrics.org/"},ff={class:"action"};var fh=n("9420"),fg={};fg.styleTagTransform=iH(),fg.setAttributes=iq(),fg.insert=iL().bind(null,"head"),fg.domAPI=iI(),fg.insertStyleElement=iU(),iO()(fh.Z,fg),fh.Z&&fh.Z.locals&&fh.Z.locals;let fv=(0,iK.default)({setup(){let{av_report_types:e}=tR((0,y.inject)("AVStore"));return{av_report_types:e}},data(){return{usage_data_provider:{erm_usage_data_provider_id:null,name:"",description:"",active:1,method:"",aggregator:"",service_type:"",service_url:"",report_release:"",customer_id:"",requestor_id:"",api_key:"",requestor_name:"",requestor_email:"",report_types:[]},initialized:!1,previous_route:"",statuses:[{description:this.$__("Active"),value:1},{description:this.$__("Inactive"),value:0}],registry_data:[],valid_report_types:[...this.av_report_types],selected_provider:null,manual_form:!1,required_fields:[],sushi_service:null,searching:!1}},beforeRouteEnter(e,t,n){n(n=>{e.params.usage_data_provider_id?n.getDataProvider(e.params.usage_data_provider_id):n.initialized=!0,t.params.usage_data_provider_id?n.previous_route="data_provider_show":n.previous_route="data_provider_list"})},methods:{async getDataProvider(e){rK.erm.usage_data_providers.get(e).then(e=>{this.usage_data_provider=e,this.usage_data_provider.report_types=this.formatReportTypes(e.report_types),this.getCounterRegistry(e.name,"edit")},e=>{})},async getCounterRegistry(e,t){rK.erm.counter_registry.getAll({name:e}).then(e=>{this.registry_data=e,"edit"===t&&e.length>0&&(this.selected_provider=e.find(e=>e.name===this.usage_data_provider.name),this.valid_report_types=this.valid_report_types.filter(e=>this.selected_provider.reports.some(t=>t.report_id===e.value))),"edit"===t&&0===e.length&&(this.manual_form=!0),this.searching=!1,this.initialized=!0},e=>{})},async getSushiService(e){rK.erm.sushi_service.getAll({url:e}).then(e=>{let{url:t,api_key_required:n,requestor_id_required:a}=e;this.usage_data_provider.service_url=t,this.required_fields=["URL","Release","Customer"],n&&this.required_fields.push("API"),a&&this.required_fields.push("Requestor"),this.sushi_service=e||{}},e=>{})},getPlatformData(e){e.target.value.length>1&&(this.searching=!0,this.getCounterRegistry(e.target.value,"search"))},async setPlatformData(e){let{sushi_services:t,reports:n,name:a}=e;this.valid_report_types=this.valid_report_types.filter(e=>n.some(t=>t.report_id===e.value)),0===this.valid_report_types.length&&rO(this.$__("This provider does not currently support any COUNTER 5 reports via SUSHI.")),this.selected_provider=e,this.usage_data_provider.name=a,await this.getSushiService(t[0].url),this.usage_data_provider.report_release=t[0].counter_release},createManualProvider(){this.manual_form=!0,this.selected_provider=null,this.sushi_service=null,this.required_fields=[]},createFromRegistry(){this.manual_form=!1,this.selected_provider=null,this.sushi_service=null,this.required_fields=[],this.usage_data_provider.report_types=[]},selectAll(){this.usage_data_provider.report_types=this.valid_report_types.map(e=>e.value)},unselectAll(){this.usage_data_provider.report_types=[]},formatReportTypes(e){let t="string"==typeof e?"string":"array";if("array"===t){let t="";return e.forEach(e=>{t+=e+";"}),t}if("string"===t){let t=e.split(";");return t.pop(),t}},onSubmit(e){e.preventDefault();let t=JSON.parse(JSON.stringify(this.usage_data_provider)),n=t.erm_usage_data_provider_id;t.report_types=this.formatReportTypes(t.report_types),delete t.erm_usage_data_provider_id;let a=rK.erm;n?a.usage_data_providers.update(t,n).then(e=>{rR(this.$__("Data provider updated")),this.$router.push({name:"UsageStatisticsDataProvidersShow",params:{usage_data_provider_id:n}})},e=>{}):a.usage_data_providers.create(t).then(e=>{n=e.erm_usage_data_provider_id,rR(this.$__("Data provider created")),this.$router.push({name:"UsageStatisticsDataProvidersShow",params:{usage_data_provider_id:n}})},e=>{})}},components:{ButtonSubmit:sN},name:"UsageStatisticsDataProvidersFormAdd"},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("v-select"),l=(0,y.resolveComponent)("ButtonSubmit"),s=(0,y.resolveComponent)("router-link");return i.initialized?((0,y.openBlock)(),(0,y.createElementBlock)("div",mI,[i.usage_data_provider.erm_usage_data_provider_id?((0,y.openBlock)(),(0,y.createElementBlock)("h2",mM,(0,y.toDisplayString)(e.$__("Edit usage data provider #%s").format(i.usage_data_provider.erm_usage_data_provider_id)),1)):((0,y.openBlock)(),(0,y.createElementBlock)("h2",mL,(0,y.toDisplayString)(e.$__("New usage data provider")),1)),(0,y.createElementVNode)("div",mj,[(0,y.createElementVNode)("form",{onSubmit:t[20]||(t[20]=e=>r.onSubmit(e))},[(0,y.createElementVNode)("legend",null,(0,y.toDisplayString)(e.$__("Data provider")),1),(0,y.createElementVNode)("fieldset",mq,[(0,y.createElementVNode)("ol",null,[(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",mF,(0,y.toDisplayString)(e.$__("Data provider name"))+":",1),i.manual_form?(0,y.withDirectives)(((0,y.openBlock)(),(0,y.createElementBlock)("input",{key:0,id:"usage_data_provider_name","onUpdate:modelValue":t[0]||(t[0]=e=>i.usage_data_provider.name=e),placeholder:e.$__("Data provider name"),required:""},null,8,mU)),[[y.vModelText,i.usage_data_provider.name]]):((0,y.openBlock)(),(0,y.createBlock)(o,{key:1,id:"usage_data_provider_name",modelValue:i.selected_provider,"onUpdate:modelValue":[t[1]||(t[1]=e=>i.selected_provider=e),t[3]||(t[3]=e=>r.setPlatformData(e))],label:"name",options:i.registry_data,onInput:t[2]||(t[2]=e=>r.getPlatformData(e)),required:!i.usage_data_provider.name,placeholder:e.$__("Type at least two characters to search")},(0,y.createSlots)({search:(0,y.withCtx)(({attributes:e,events:t})=>[(0,y.createElementVNode)("input",(0,y.mergeProps)({required:!i.usage_data_provider.name,class:"vs__search"},e,(0,y.toHandlers)(t,!0)),null,16,mz)]),_:2},[i.searching?{name:"no-options",fn:(0,y.withCtx)(()=>[(0,y.createTextVNode)((0,y.toDisplayString)(e.$__("Searching...")),1)]),key:"0"}:{name:"no-options",fn:(0,y.withCtx)(()=>[(0,y.createTextVNode)((0,y.toDisplayString)(e.$__("No results found")),1)]),key:"1"}]),1032,["modelValue","options","required","placeholder"])),(0,y.createElementVNode)("span",mH,(0,y.toDisplayString)(e.$__("Required")),1),i.manual_form||i.usage_data_provider.erm_usage_data_provider_id?(0,y.createCommentVNode)("",!0):((0,y.openBlock)(),(0,y.createElementBlock)("button",{key:2,type:"button",class:"btn btn-default",style:{"margin-left":"1em"},onClick:t[4]||(t[4]=e=>r.createManualProvider())},(0,y.toDisplayString)(e.$__("Create manually")),1)),i.manual_form&&!i.usage_data_provider.erm_usage_data_provider_id?((0,y.openBlock)(),(0,y.createElementBlock)("button",{key:3,type:"button",style:{"margin-left":"1em"},onClick:t[5]||(t[5]=e=>r.createFromRegistry())},(0,y.toDisplayString)(e.$__("Create from registry")),1)):(0,y.createCommentVNode)("",!0)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",mY,(0,y.toDisplayString)(e.$__("Description"))+": ",1),(0,y.withDirectives)((0,y.createElementVNode)("textarea",{id:"usage_data_provider_description","onUpdate:modelValue":t[6]||(t[6]=e=>i.usage_data_provider.description=e),placeholder:e.$__("Description"),rows:"10",cols:"50",disabled:!i.selected_provider&&!i.manual_form},null,8,mJ),[[y.vModelText,i.usage_data_provider.description]])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",mK,(0,y.toDisplayString)(e.$__("Harvester status"))+":",1),(0,y.createVNode)(o,{id:"harvester_status",modelValue:i.usage_data_provider.active,"onUpdate:modelValue":t[7]||(t[7]=e=>i.usage_data_provider.active=e),label:"description",reduce:e=>e.value,options:i.statuses,disabled:!i.selected_provider&&!i.manual_form},null,8,["modelValue","reduce","options","disabled"])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",mZ,(0,y.toDisplayString)(e.$__("Service type"))+": ",1),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:"usage_data_provider_service_type","onUpdate:modelValue":t[8]||(t[8]=e=>i.usage_data_provider.service_type=e),disabled:!i.selected_provider&&!i.manual_form},null,8,mW),[[y.vModelText,i.usage_data_provider.service_type]])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",mG,(0,y.toDisplayString)(e.$__("Service platform"))+": ",1),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:"usage_data_provider_service_platform","onUpdate:modelValue":t[9]||(t[9]=e=>i.usage_data_provider.service_platform=e)},null,512),[[y.vModelText,i.usage_data_provider.service_platform]])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",mQ,(0,y.toDisplayString)(e.$__("Report types"))+": ",1),(0,y.createVNode)(o,{id:"report_type",modelValue:i.usage_data_provider.report_types,"onUpdate:modelValue":t[12]||(t[12]=e=>i.usage_data_provider.report_types=e),label:"description",reduce:e=>e.value,options:i.valid_report_types,multiple:"",disabled:!i.selected_provider&&!i.manual_form,required:!i.usage_data_provider.report_types.length},{"list-header":(0,y.withCtx)(()=>[(0,y.createElementVNode)("button",{type:"button",onClick:t[10]||(t[10]=e=>r.selectAll()),class:"list-header-btns"},(0,y.toDisplayString)(e.$__("Select all")),1),(0,y.createElementVNode)("button",{class:"list-header-btns",type:"button",onClick:t[11]||(t[11]=e=>r.unselectAll())},(0,y.toDisplayString)(e.$__("Unselect all")),1)]),search:(0,y.withCtx)(({attributes:e,events:t})=>[(0,y.createElementVNode)("input",(0,y.mergeProps)({required:!i.usage_data_provider.report_types.length,class:"vs__search"},e,(0,y.toHandlers)(t,!0)),null,16,mX)]),_:1},8,["modelValue","reduce","options","disabled","required"]),(0,y.createElementVNode)("span",m0,(0,y.toDisplayString)(e.$__("Required")),1)])])]),(0,y.createElementVNode)("legend",null,(0,y.toDisplayString)(e.$__("SUSHI credentials")),1),(0,y.createElementVNode)("fieldset",m1,[(0,y.createElementVNode)("ol",m2,[(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",{class:(0,y.normalizeClass)(i.required_fields.includes("URL")?"required":""),for:"usage_data_provider_service_url"},(0,y.toDisplayString)(e.$__("Service URL"))+": ",3),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:"usage_data_provider_service_url",style:{"min-width":"60%"},"onUpdate:modelValue":t[13]||(t[13]=e=>i.usage_data_provider.service_url=e),required:i.required_fields.includes("URL"),disabled:!i.selected_provider&&!i.manual_form},null,8,m3),[[y.vModelText,i.usage_data_provider.service_url]]),i.required_fields.includes("URL")?((0,y.openBlock)(),(0,y.createElementBlock)("span",m4,(0,y.toDisplayString)(e.$__("Required")),1)):(0,y.createCommentVNode)("",!0)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",{class:(0,y.normalizeClass)(i.required_fields.includes("Release")?"required":""),for:"usage_data_provider_report_release"},(0,y.toDisplayString)(e.$__("Report release"))+": ",3),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:"usage_data_provider_report_release",style:{"min-width":"60%"},"onUpdate:modelValue":t[14]||(t[14]=e=>i.usage_data_provider.report_release=e),required:i.required_fields.includes("Release"),disabled:!i.selected_provider&&!i.manual_form},null,8,m5),[[y.vModelText,i.usage_data_provider.report_release]]),i.required_fields.includes("Release")?((0,y.openBlock)(),(0,y.createElementBlock)("span",m8,(0,y.toDisplayString)(e.$__("Required")),1)):(0,y.createCommentVNode)("",!0)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",{class:(0,y.normalizeClass)(i.required_fields.includes("Customer")?"required":""),for:"usage_data_provider_customer_id"},(0,y.toDisplayString)(e.$__("Customer ID"))+": ",3),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:"usage_data_provider_customer_id",style:{"min-width":"60%"},"onUpdate:modelValue":t[15]||(t[15]=e=>i.usage_data_provider.customer_id=e),required:i.required_fields.includes("Customer"),disabled:!i.selected_provider&&!i.manual_form},null,8,m6),[[y.vModelText,i.usage_data_provider.customer_id]]),i.required_fields.includes("Customer")?((0,y.openBlock)(),(0,y.createElementBlock)("span",m7,(0,y.toDisplayString)(e.$__("Required")),1)):(0,y.createCommentVNode)("",!0)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",{class:(0,y.normalizeClass)(i.required_fields.includes("Requestor")?"required":""),for:"usage_data_provider_requestor_id"},(0,y.toDisplayString)(e.$__("Requestor ID"))+": ",3),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:"usage_data_provider_requestor_id",style:{"min-width":"60%"},"onUpdate:modelValue":t[16]||(t[16]=e=>i.usage_data_provider.requestor_id=e),required:i.required_fields.includes("Requestor"),disabled:!i.selected_provider&&!i.manual_form},null,8,m9),[[y.vModelText,i.usage_data_provider.requestor_id]]),i.required_fields.includes("Requestor")?((0,y.openBlock)(),(0,y.createElementBlock)("span",fe,(0,y.toDisplayString)(e.$__("Required")),1)):(0,y.createCommentVNode)("",!0)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",{for:"usage_data_provider_api_key",class:(0,y.normalizeClass)(i.required_fields.includes("API")?"required":"")},(0,y.toDisplayString)(e.$__("API key"))+": ",3),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:"usage_data_provider_api_key",style:{"min-width":"60%"},"onUpdate:modelValue":t[17]||(t[17]=e=>i.usage_data_provider.api_key=e),disabled:!i.selected_provider&&!i.manual_form,required:i.required_fields.includes("API")},null,8,ft),[[y.vModelText,i.usage_data_provider.api_key]]),i.required_fields.includes("API")?((0,y.openBlock)(),(0,y.createElementBlock)("span",fn,(0,y.toDisplayString)(e.$__("Required")),1)):(0,y.createCommentVNode)("",!0)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",fa,(0,y.toDisplayString)(e.$__("Requestor name"))+": ",1),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:"usage_data_provider_requestor_name",style:{"min-width":"60%"},"onUpdate:modelValue":t[18]||(t[18]=e=>i.usage_data_provider.requestor_name=e),disabled:!i.selected_provider&&!i.manual_form},null,8,fi),[[y.vModelText,i.usage_data_provider.requestor_name]])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",fr,(0,y.toDisplayString)(e.$__("Requestor email"))+": ",1),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:"usage_data_provider_requestor_email",style:{"min-width":"60%"},"onUpdate:modelValue":t[19]||(t[19]=e=>i.usage_data_provider.requestor_email=e),disabled:!i.selected_provider&&!i.manual_form},null,8,fo),[[y.vModelText,i.usage_data_provider.requestor_email]])])]),i.sushi_service?((0,y.openBlock)(),(0,y.createElementBlock)("ol",fl,[(0,y.createElementVNode)("h3",null,(0,y.toDisplayString)(e.$__("Credentials information")),1),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",fs,(0,y.toDisplayString)(e.$__("Customer ID info"))+": ",1),(0,y.createElementVNode)("span",fc,(0,y.toDisplayString)(i.sushi_service.customer_id_info?i.sushi_service.customer_id_info:e.$__("No information provided")),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",fd,(0,y.toDisplayString)(e.$__("Requestor ID info"))+": ",1),(0,y.createElementVNode)("span",fu,(0,y.toDisplayString)(i.sushi_service.requestor_id_info?i.sushi_service.requestor_id_info:e.$__("No information provided")),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",fp,(0,y.toDisplayString)(e.$__("API key info"))+": ",1),(0,y.createElementVNode)("span",f_,(0,y.toDisplayString)(i.sushi_service.api_key_info?i.sushi_service.api_key_info:e.$__("No information provided")),1)]),(0,y.createElementVNode)("span",null,[(0,y.createTextVNode)((0,y.toDisplayString)(e.$__("Please refer to the "))+" ",1),(0,y.createElementVNode)("a",fm,(0,y.toDisplayString)(e.$__("COUNTER registry")),1),(0,y.createTextVNode)(" "+(0,y.toDisplayString)(e.$__("for more information.")),1)])])):(0,y.createCommentVNode)("",!0)]),(0,y.createElementVNode)("fieldset",ff,[(0,y.createVNode)(l),"data_provider_show"===i.previous_route?((0,y.openBlock)(),(0,y.createBlock)(s,{key:0,to:{name:"UsageStatisticsDataProvidersShow"},role:"button",class:"cancel"},{default:(0,y.withCtx)(()=>[(0,y.createTextVNode)((0,y.toDisplayString)(e.$__("Cancel")),1)]),_:1})):((0,y.openBlock)(),(0,y.createBlock)(s,{key:1,to:{name:"UsageStatisticsDataProvidersList"},role:"button",class:"cancel"},{default:(0,y.withCtx)(()=>[(0,y.createTextVNode)((0,y.toDisplayString)(e.$__("Cancel")),1)]),_:1}))])],32)])])):((0,y.openBlock)(),(0,y.createElementBlock)("div",mR,(0,y.toDisplayString)(e.$__("Loading")),1))}],["__scopeId","data-v-75dd3109"]]),fb={key:0},fy={key:1,id:"usage_data_providers_show"},fk={id:"usage_data_providerstabs",class:"toptabs numbered"},fE={class:"nav nav-tabs"},fA={class:"nav-item"},fw=["data-content"],fC={class:"nav-item"},fS={class:"nav-item"},fN={class:"tab-content"},fV={key:0,class:"usage_data_provider_detail"},fx={key:1},f$={key:2},fD={class:"action"},fT={class:"page-section",id:"files"},fB={class:"file_information"},fP={key:0},fO={class:"action"};var fR=n("5962"),fI={};fI.styleTagTransform=iH(),fI.setAttributes=iq(),fI.insert=iL().bind(null,"head"),fI.domAPI=iI(),fI.insertStyleElement=iU(),iO()(fR.Z,fI),fR.Z&&fR.Z.locals&&fR.Z.locals;let fM=(0,iK.default)({setup(){let{get_lib_from_av:e,map_av_dt_filter:t}=(0,y.inject)("AVStore"),{setMessage:n}=(0,y.inject)("mainStore");return{setMessage:n}},data:()=>({file:{filename:null,usage_data_provider_id:null,file_type:null,file_content:null,date:null,date_uploaded:null}}),methods:{selectFile(e){let t=e.target.files;if(!t)return;let n=t[0],a=new FileReader;a.onload=e=>this.loadFile(n.name,e.target.result),a.readAsBinaryString(n)},loadFile(e,t){this.file.filename=e,this.file.file_content=btoa(t),this.getDataProvider(this.$route.params.usage_data_provider_id)},addDocument(e){e.preventDefault(),rK.erm.usage_data_providers.process_COUNTER_file(this.file.usage_data_provider_id,{usage_data_provider_id:this.file.usage_data_provider_id,filename:this.file.filename,file_content:this.file.file_content}).then(e=>{let t="";e.jobs.forEach((e,n)=>{t+="<li>"+this.$__("Job for uploaded file has been queued")+'. <a href="/cgi-bin/koha/admin/background_jobs.pl?op=view&id='+e.job_id+'" target="_blank">'+this.$__("Check job progress")+".</a></li>"}),this.setMessage(t,!0)},e=>{})},clearForm(e){e.preventDefault(),this.file={filename:null,usage_data_provider_id:null,file_type:null,file_content:null,date:null,date_uploaded:null}},async getDataProvider(e){let t=rK.erm;await t.usage_data_providers.get(e).then(e=>{this.file.usage_data_provider_id=e.erm_usage_data_provider_id},e=>{})}},mounted(){this.getDataProvider(this.$route.params.usage_data_provider_id)},components:{ButtonSubmit:sN},name:"UsageStatisticsDataProvidersFileImport"},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("ButtonSubmit");return(0,y.openBlock)(),(0,y.createElementBlock)("div",fT,[(0,y.createElementVNode)("form",{onSubmit:t[2]||(t[2]=e=>r.addDocument(e)),class:"file_upload"},[(0,y.createElementVNode)("h2",null,(0,y.toDisplayString)(e.$__("Manual upload:")),1),(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("File"))+":",1),(0,y.createElementVNode)("div",fB,[i.file.filename?(0,y.createCommentVNode)("",!0):((0,y.openBlock)(),(0,y.createElementBlock)("span",fP,[(0,y.createTextVNode)((0,y.toDisplayString)(e.$__("Select a file"))+" ",1),(0,y.createElementVNode)("input",{type:"file",onChange:t[0]||(t[0]=e=>r.selectFile(e)),id:"import_file",name:"import_file"},null,32)])),(0,y.createElementVNode)("ol",null,[(0,y.withDirectives)((0,y.createElementVNode)("li",null,[(0,y.createTextVNode)((0,y.toDisplayString)(e.$__("File name"))+": ",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.file.filename),1)],512),[[y.vShow,i.file.filename]]),(0,y.withDirectives)((0,y.createElementVNode)("li",null,[(0,y.createTextVNode)((0,y.toDisplayString)(e.$__("File type"))+": ",1),(0,y.createElementVNode)("span",null,(0,y.toDisplayString)(i.file.file_type),1)],512),[[y.vShow,i.file.file_type]])])]),(0,y.createElementVNode)("fieldset",fO,[(0,y.createVNode)(o),(0,y.createElementVNode)("a",{onClick:t[1]||(t[1]=e=>r.clearForm(e)),role:"button",class:"cancel"},(0,y.toDisplayString)(e.$__("Clear form")),1)])],32)])}],["__scopeId","data-v-135cca20"]]),fL={key:0},fj={key:1,id:"counter_logs_list"},fq={key:0,class:"page-section"},fF={key:1,class:"alert alert-info"};var fU=n("6696"),fz={};fz.styleTagTransform=iH(),fz.setAttributes=iq(),fz.insert=iL().bind(null,"head"),fz.domAPI=iI(),fz.insertStyleElement=iU(),iO()(fU.Z,fz),fU.Z&&fU.Z.locals&&fU.Z.locals;let fH=(0,iK.default)({setup(){let{setConfirmationDialog:e,setMessage:t}=(0,y.inject)("mainStore");return{table:(0,y.ref)(),setConfirmationDialog:e,setMessage:t}},data:function(){return{counter_files_count:0,initialized:!1,before_route_entered:!1,building_table:!1,tableOptions:{columns:this.getTableColumns(),options:{embed:"patron"},url:()=>this.table_url(),table_settings:this.counter_log_table_settings,add_filters:!0,filters_options:{},actions:{0:["show"],"-1":[{download:{text:this.$__("Download"),icon:"fa fa-download"}},"delete"]}}}},methods:{async getCounterFiles(){let e=rK.erm;await e.counter_files.count({usage_data_provider_id:this.$route.params.usage_data_provider_id}).then(e=>{this.counter_files_count=e,this.initialized=!0},e=>{})},table_url(){return`/api/v1/erm/counter_logs?usage_data_provider_id=${this.$route.params.usage_data_provider_id}`},download_counter_file(e,t,n){window.location.href="/api/v1/erm/counter_files/"+e.counter_files_id+"/file/content"},delete_counter_file(e,t,n){this.setConfirmationDialog({title:this.$__("Are you sure you want to remove this file?"),message:e.filename,accept_label:this.$__("Yes, delete"),cancel_label:this.$__("No, do not delete")},()=>{rK.erm.counter_files.delete(e.counter_files_id).then(n=>{this.setMessage(this.$__("File %s deleted").format(e.filename),!0),t.draw()},e=>{})})},getTableColumns:()=>[{title:__("Filename"),data:"filename",searchable:!0,orderable:!0},{data:"importdate",title:__("Import date"),render:function(e,t,n,a){let i=n.importdate.substr(0,10),r=n.importdate.substr(11,8);return`${i} ${r}`},searchable:!0,orderable:!0},{title:__("Imported by"),render:function(e,t,n,a){let{patron:i}=n;return i?'<a href="/cgi-bin/koha/members/moremember.pl?borrowernumber='+i.patron_id+'">'+$patron_to_html(i)+"</a>":this.$__("Cronjob")},searchable:!0,orderable:!0}]},mounted(){!this.building_table&&(this.building_table=!0,this.getCounterFiles())},components:{KohaTable:oc},name:"UsageStatisticsTitlesList"},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("KohaTable");return e.initialized?((0,y.openBlock)(),(0,y.createElementBlock)("div",fj,[e.counter_files_count>0?((0,y.openBlock)(),(0,y.createElementBlock)("div",fq,[(0,y.createVNode)(o,(0,y.mergeProps)({ref:"table"},e.tableOptions,{onDelete:r.delete_counter_file,onDownload:r.download_counter_file}),null,16,["onDelete","onDownload"])])):e.initialized?((0,y.openBlock)(),(0,y.createElementBlock)("div",fF,(0,y.toDisplayString)(e.$__("There are no import logs defined")),1)):(0,y.createCommentVNode)("",!0)])):((0,y.openBlock)(),(0,y.createElementBlock)("div",fL,(0,y.toDisplayString)(e.$__("Loading")),1))}],["__scopeId","data-v-7b0f2525"]]),fY={class:"rows"},fJ={id:"usage_data_provider_name"},fK={id:"usage_data_provider_description"},fZ={id:"harvester_status"},fW={id:"usage_data_provider_service_type"},fG={id:"report_type"},fQ={id:"service_platform"},fX={class:"rows"},f0={id:"usage_data_provider_service_url"},f1={id:"usage_data_provider_report_release"},f2={id:"usage_data_provider_customer_id"},f3={id:"usage_data_provider_requestor_id"},f4={id:"usage_data_provider_api_key"},f5={id:"usage_data_provider_requestor_name"},f8={id:"usage_data_provider_requestor_email"};var f6=n("7990"),f7={};f7.styleTagTransform=iH(),f7.setAttributes=iq(),f7.insert=iL().bind(null,"head"),f7.domAPI=iI(),f7.insertStyleElement=iU(),iO()(f6.Z,f7),f6.Z&&f6.Z.locals&&f6.Z.locals;let f9=(0,iK.default)({props:["usage_data_provider"],name:"UsageStatisticsDataProviderDetails"},[["render",function(e,t,n,a,i,r){return(0,y.openBlock)(),(0,y.createElementBlock)(y.Fragment,null,[(0,y.createElementVNode)("legend",null,(0,y.toDisplayString)(e.$__("Data provider")),1),(0,y.createElementVNode)("fieldset",fY,[(0,y.createElementVNode)("ol",null,[(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Data provider name"))+":",1),(0,y.createElementVNode)("span",fJ,(0,y.toDisplayString)(n.usage_data_provider.name),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Description"))+":",1),(0,y.createElementVNode)("span",fK,(0,y.toDisplayString)(n.usage_data_provider.description),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Status"))+":",1),(0,y.createElementVNode)("span",fZ,(0,y.toDisplayString)(n.usage_data_provider.active?e.$__("Active"):e.$__("Inactive")),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Service type"))+":",1),(0,y.createElementVNode)("span",fW,(0,y.toDisplayString)(n.usage_data_provider.service_type),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Report types"))+":",1),(0,y.createElementVNode)("span",fG,(0,y.toDisplayString)(n.usage_data_provider.report_types),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Service platform"))+":",1),(0,y.createElementVNode)("span",fQ,(0,y.toDisplayString)(n.usage_data_provider.service_platform),1)])])]),(0,y.createElementVNode)("legend",null,(0,y.toDisplayString)(e.$__("SUSHI credentials")),1),(0,y.createElementVNode)("fieldset",fX,[(0,y.createElementVNode)("ol",null,[(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Service URL"))+":",1),(0,y.createElementVNode)("span",f0,(0,y.toDisplayString)(n.usage_data_provider.service_url),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Report release"))+":",1),(0,y.createElementVNode)("span",f1,(0,y.toDisplayString)(n.usage_data_provider.report_release),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Customer ID"))+":",1),(0,y.createElementVNode)("span",f2,(0,y.toDisplayString)(n.usage_data_provider.customer_id),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Requestor ID"))+":",1),(0,y.createElementVNode)("span",f3,(0,y.toDisplayString)(n.usage_data_provider.requestor_id),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("API key"))+":",1),(0,y.createElementVNode)("span",f4,(0,y.toDisplayString)(n.usage_data_provider.api_key),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Requestor name"))+":",1),(0,y.createElementVNode)("span",f5,(0,y.toDisplayString)(n.usage_data_provider.requestor_name),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",null,(0,y.toDisplayString)(e.$__("Requestor email"))+":",1),(0,y.createElementVNode)("span",f8,(0,y.toDisplayString)(n.usage_data_provider.requestor_email),1)])])])],64)}],["__scopeId","data-v-18ef65d9"]]),he={key:0},ht={key:1,id:"data_list"},hn={key:0,class:"page-section"},ha={key:1,class:"alert alert-info"};var hi=n("6096"),hr={};hr.styleTagTransform=iH(),hr.setAttributes=iq(),hr.insert=iL().bind(null,"head"),hr.domAPI=iI(),hr.insertStyleElement=iU(),iO()(hi.Z,hr),hi.Z&&hi.Z.locals&&hi.Z.locals;let ho=(0,iK.default)({setup:()=>({table:(0,y.ref)()}),data(){return{data_count:0,initialized:!1,before_route_entered:!1,building_table:!1,tableOptions:{columns:this.getTableColumns(),options:{},url:()=>this.table_url(),table_settings:this.title_table_settings,add_filters:!0}}},methods:{async getData(){let e=rK.erm;await e[`usage_${this.data_type}s`].count({usage_data_provider_id:this.$route.params.usage_data_provider_id}).then(e=>{this.data_count=e,this.initialized=!0},e=>{})},table_url(){return"/api/v1/erm/usage_%ss?usage_data_provider_id=%s".format(this.data_type,this.$route.params.usage_data_provider_id)},getTableColumns(){return[{used_by:["title","platform","item","database"],column:{title:this.data_type.charAt(0).toUpperCase()+this.data_type.slice(1),data:this.data_type,searchable:!0,orderable:!0}},{used_by:["item","database","platforms"],column:{title:__("Platform"),data:"platform",searchable:!0,orderable:!0}},{used_by:["title","item","database"],column:{title:__("Publisher"),data:"publisher",searchable:!0,orderable:!0}},{used_by:["title","database"],column:{title:__("Publisher ID"),data:"publisher_id",searchable:!0,orderable:!0}},{used_by:["title"],column:{title:__("DOI"),data:"title_doi",searchable:!0,orderable:!0}},{used_by:["title"],column:{title:__("Print ISSN"),data:"print_issn",searchable:!0,orderable:!0}},{used_by:["title"],column:{title:__("Online ISSN"),data:"online_issn",searchable:!0,orderable:!0}},{used_by:["title"],column:{title:__("URI"),data:"title_uri",searchable:!0,orderable:!0}}].filter(e=>e.used_by.includes(this.data_type)).map(e=>e.column)}},mounted(){!this.building_table&&(this.building_table=!0,this.getData())},props:["data_type"],components:{KohaTable:oc},name:"UsageStatisticsProviderDataList"},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("KohaTable");return i.initialized?((0,y.openBlock)(),(0,y.createElementBlock)("div",ht,[i.data_count>0?((0,y.openBlock)(),(0,y.createElementBlock)("div",hn,[(0,y.createVNode)(o,(0,y.mergeProps)({ref:"table"},i.tableOptions),null,16)])):i.initialized?((0,y.openBlock)(),(0,y.createElementBlock)("div",ha,(0,y.toDisplayString)(e.$__("No %s data has been harvested for this provider").format(n.data_type)),1)):(0,y.createCommentVNode)("",!0)])):((0,y.openBlock)(),(0,y.createElementBlock)("div",he,(0,y.toDisplayString)(e.$__("Loading")),1))}],["__scopeId","data-v-780409a4"]]);var hl=n("7042"),hs={};hs.styleTagTransform=iH(),hs.setAttributes=iq(),hs.insert=iL().bind(null,"head"),hs.domAPI=iI(),hs.insertStyleElement=iU(),iO()(hl.Z,hs),hl.Z&&hl.Z.locals&&hl.Z.locals;let hc=(0,iK.default)({setup(){let{get_lib_from_av:e}=(0,y.inject)("AVStore"),{setConfirmationDialog:t,setMessage:n}=(0,y.inject)("mainStore");return{get_lib_from_av:e,setConfirmationDialog:t,setMessage:n}},data(){return{usage_data_provider:{erm_usage_data_provider_id:null,name:"",description:"",active:1,method:"",aggregator:"",service_type:"",service_url:"",report_release:"",customer_id:"",requestor_id:"",api_key:"",requestor_name:"",requestor_email:"",report_types:[]},initialized:!1,tab_content:"detail",available_data_types:[{test:"TR",data_type:"title",tab_name:this.$__("Titles")},{test:"PR",data_type:"platform",tab_name:this.$__("Platforms")},{test:"IR",data_type:"item",tab_name:this.$__("Items")},{test:"DR",data_type:"database",tab_name:this.$__("Databases")}]}},beforeRouteEnter(e,t,n){n(t=>{t.getUsageDataProvider(e.params.usage_data_provider_id)})},methods:{async getUsageDataProvider(e){rK.erm.usage_data_providers.get(e).then(e=>{this.usage_data_provider=e,this.initialized=!0},e=>{})},change_tab_content(e){this.tab_content=e.target.getAttribute("data-content")},delete_usage_data_provider:function(e,t){this.setConfirmationDialog({title:this.$__("Are you sure you want to remove this data provider?"),message:t,accept_label:this.$__("Yes, delete"),cancel_label:this.$__("No, do not delete")},()=>{rK.erm.usage_data_providers.delete(e).then(e=>{this.setMessage(this.$__("Usage data provider %s deleted").format(t),!0),this.$router.push({name:"UsageStatisticsDataProvidersList"})},e=>{})})}},name:"UsageStatisticsDataProvidersShow",components:{UsageStatisticsDataProvidersFileImport:fM,UsageStatisticsDataProvidersCounterLogs:fH,UsageStatisticsDataProviderDetails:f9,UsageStatisticsProviderDataList:ho,Toolbar:oe,ToolbarButton:ot}},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("ToolbarButton"),l=(0,y.resolveComponent)("font-awesome-icon"),s=(0,y.resolveComponent)("Toolbar"),c=(0,y.resolveComponent)("UsageStatisticsDataProviderDetails"),d=(0,y.resolveComponent)("UsageStatisticsProviderDataList"),u=(0,y.resolveComponent)("UsageStatisticsDataProvidersFileImport"),p=(0,y.resolveComponent)("UsageStatisticsDataProvidersCounterLogs"),_=(0,y.resolveComponent)("router-link");return i.initialized?((0,y.openBlock)(),(0,y.createElementBlock)("div",fy,[(0,y.createVNode)(s,null,{default:(0,y.withCtx)(()=>[(0,y.createVNode)(o,{to:{name:"UsageStatisticsDataProvidersFormAddEdit",params:{usage_data_provider_id:i.usage_data_provider.erm_usage_data_provider_id}},icon:"pencil",title:e.$__("Edit")},null,8,["to","title"]),(0,y.createElementVNode)("a",{onClick:t[0]||(t[0]=e=>r.delete_usage_data_provider(i.usage_data_provider.erm_usage_data_provider_id,i.usage_data_provider.name)),class:"btn btn-default"},[(0,y.createVNode)(l,{icon:"trash"}),(0,y.createTextVNode)(" "+(0,y.toDisplayString)(e.$__("Delete")),1)])]),_:1}),(0,y.createElementVNode)("h2",null,(0,y.toDisplayString)(e.$__("Data provider #%s").format(i.usage_data_provider.erm_usage_data_provider_id)),1),(0,y.createElementVNode)("div",fk,[(0,y.createElementVNode)("ul",fE,[(0,y.createElementVNode)("li",fA,[(0,y.createElementVNode)("a",{href:"#",class:(0,y.normalizeClass)(["nav-link","detail"===i.tab_content?"active":""]),"data-content":"detail",onClick:t[1]||(t[1]=(...e)=>r.change_tab_content&&r.change_tab_content(...e))},(0,y.toDisplayString)(e.$__("Detail")),3)]),((0,y.openBlock)(!0),(0,y.createElementBlock)(y.Fragment,null,(0,y.renderList)(i.available_data_types,(e,n)=>((0,y.openBlock)(),(0,y.createElementBlock)("li",{class:"nav-item",key:n},[(0,y.createElementVNode)("a",{href:"#",class:(0,y.normalizeClass)(["nav-link",i.tab_content===e.data_type?"active":""]),"data-content":e.data_type,onClick:t[2]||(t[2]=(...e)=>r.change_tab_content&&r.change_tab_content(...e))},(0,y.toDisplayString)(e.tab_name),11,fw)]))),128)),(0,y.createElementVNode)("li",fC,[(0,y.createElementVNode)("a",{href:"#",class:(0,y.normalizeClass)(["nav-link","upload"===i.tab_content?"active":""]),"data-content":"upload",onClick:t[3]||(t[3]=(...e)=>r.change_tab_content&&r.change_tab_content(...e))},(0,y.toDisplayString)(e.$__("Manual upload")),3)]),(0,y.createElementVNode)("li",fS,[(0,y.createElementVNode)("a",{href:"#",class:(0,y.normalizeClass)(["nav-link","imports"===i.tab_content?"active":""]),"data-content":"imports",onClick:t[4]||(t[4]=(...e)=>r.change_tab_content&&r.change_tab_content(...e))},(0,y.toDisplayString)(e.$__("Import logs")),3)])])]),(0,y.createElementVNode)("div",fN,["detail"===i.tab_content?((0,y.openBlock)(),(0,y.createElementBlock)("div",fV,[(0,y.createVNode)(c,{usage_data_provider:i.usage_data_provider},null,8,["usage_data_provider"])])):(0,y.createCommentVNode)("",!0),((0,y.openBlock)(!0),(0,y.createElementBlock)(y.Fragment,null,(0,y.renderList)(i.available_data_types,(e,t)=>((0,y.openBlock)(),(0,y.createElementBlock)(y.Fragment,null,[i.tab_content===e.data_type?((0,y.openBlock)(),(0,y.createElementBlock)("div",{key:t},[(0,y.createVNode)(d,{data_type:e.data_type},null,8,["data_type"])])):(0,y.createCommentVNode)("",!0)],64))),256)),"upload"===i.tab_content?((0,y.openBlock)(),(0,y.createElementBlock)("div",fx,[(0,y.createVNode)(u)])):(0,y.createCommentVNode)("",!0),"imports"===i.tab_content?((0,y.openBlock)(),(0,y.createElementBlock)("div",f$,[(0,y.createVNode)(p)])):(0,y.createCommentVNode)("",!0)]),(0,y.createElementVNode)("fieldset",fD,[(0,y.createVNode)(_,{to:{name:"UsageStatisticsDataProvidersList"},role:"button",class:"cancel"},{default:(0,y.withCtx)(()=>[(0,y.createTextVNode)((0,y.toDisplayString)(e.$__("Close")),1)]),_:1})])])):((0,y.openBlock)(),(0,y.createElementBlock)("div",fb,(0,y.toDisplayString)(e.$__("Loading")),1))}],["__scopeId","data-v-1f44bada"]]),hd={key:0},hu={key:1,id:"report_builder"},hp={id:"usage_data_providerstabs",class:"toptabs numbered"},h_={class:"nav nav-tabs",role:"tablist"},hm={class:"nav-item",role:"presentation"},hf={class:"nav-item",role:"presentation"},hh={class:"tab-content"},hg={key:0},hv={key:1},hb={id:"report-builder"},hy={class:"rows custom_report_builder"},hk={class:""},hE={for:"interval"},hA=["required"],hw={class:"required"},hC={for:"usage_data_provider"},hS={for:"report_types"},hN=["required"],hV={class:"required"},hx={for:"metric_types"},h$={for:"access_types"},hD={for:"start_year"},hT=["placeholder"],hB={class:"required"},hP={for:"start_month"},hO={for:"end_year"},hR=["placeholder"],hI={class:"required"},hM={for:"end_month"},hL={for:"keyword"},hj={class:""},hq={class:"checkbox_options"},hF=["for"],hU=["name","id","onUpdate:modelValue","disabled"],hz={key:0},hH={class:"date_display"},hY={for:"yearly_filter_required",class:"date_display_title"},hJ={for:"yearly_filter_required_yes",class:"date_display_radio"},hK=["checked"],hZ={for:"yearly_filter_required_no",class:"date_display_radio"},hW=["checked"],hG={key:1},hQ=["for"],hX={for:"month",class:"month_labels"},h0=["name","id","onChange"],h1={class:"action"},h2={class:"save_report"},h3=["placeholder"];var h4=n("8719"),h5={};h5.styleTagTransform=iH(),h5.setAttributes=iq(),h5.insert=iL().bind(null,"head"),h5.domAPI=iI(),h5.insertStyleElement=iU(),iO()(h4.Z,h5),h4.Z&&h4.Z.locals&&h4.Z.locals;let h8=(0,iK.default)({setup(){let{av_report_types:e,av_platform_reports_metrics:t,av_database_reports_metrics:n,av_title_reports_metrics:a,av_item_reports_metrics:i}=tR((0,y.inject)("AVStore")),{setConfirmationDialog:r,setMessage:o,setError:l}=(0,y.inject)("mainStore"),{getMonthsData:s,getColumnOptions:c}=(0,y.inject)("reportsStore"),d=s();return{av_report_types:e,av_platform_reports_metrics:t,av_database_reports_metrics:n,av_title_reports_metrics:a,av_item_reports_metrics:i,setConfirmationDialog:r,setMessage:o,setError:l,months_data:d,title_property_column_options:c()}},data(){return{query:{data_display:"monthly",report_type:null,metric_types:null,access_types:null,usage_data_providers:null,keywords:null,start_month:null,start_year:null,end_month:null,end_year:null},yearly_filter_required:!0,metric_types_matrix:{Searches_Platform:["PR","PR_P1"],Searches_Automated:["DR","DR_D1"],Searches_Federated:["DR","DR_D1"],Searches_Regular:["DR","DR_D1"],Total_Item_Investigations:["PR","DR","DR_D1","TR","TR_B3","TR_J3","IR"],Total_Item_Requests:["PR","PR_P1","DR","DR_D1","TR","TR_B1","TR_B3","TR_J1","TR_J3","TR_J4","IR","IR_A1","IR_M1"],Unique_Item_Investigations:["PR","DR","TR","TR_B3","TR_J3","IR"],Unique_Item_Requests:["PR","PR_P1","DR","TR","TR_B3","TR_J1","TR_J3","TR_J4","IR","IR_A1"],Unique_Title_Investigations:["PR","DR","TR","TR_B3"],Unique_Title_Requests:["PR","PR_P1","DR","TR","TR_B1","TR_B3"],Limit_Exceeded:["DR","DR_D2","TR","TR_B2","TR_J2","IR"],No_License:["DR","DR_D2","TR","TR_B2","TR_J2","IR"]},metric_types_options:[],access_types_options:[],report_types_options:[...this.av_report_types],filter_data:[],usage_data_provider_list:[...this.usage_data_providers],time_period_columns_builder:null,request_url:null,report_name:"",data_type:null}},methods:{async getData(e,t){let n=rK.erm;await n[`usage_${t}s`].getAll(e).then(e=>{let n=[...new Map([...this.filter_data,...e].map(e=>[e[`${t}_id`],e])).values()];this.filter_data=n},e=>{})},dataSearchFilter(e){let t=this.query.report_type,n=this.data_type;if(!t&&alert("Please select a report type"),e.target.value.length>1){let t=this.query.usage_data_providers?this.query.usage_data_providers:[],a={};a[n]={"-like":`${e.target.value}%`},t.length&&(a.usage_data_provider_id=t),this.getData(a,this.data_type)}},validateYear:e=>!!/^\d{4}$/.test(e),clearForm(e){e.preventDefault(),this.query={data_display:"monthly",report_type:null,metric_types:null,access_types:null,usage_data_providers:null,keywords:null,start_month:null,start_year:null,end_month:null,end_year:null},this.yearly_filter_required=!0},buildCustomReport(e){e.preventDefault();let t=this.validateFormAndCreateUrlParams();this.$router.push({name:"UsageStatisticsReportsViewer",query:{data:JSON.stringify(t)}})},monthSelector(e){if(!this.query.start_year||!this.query.end_year){alert("Please select a start and end year before choosing this option");return}if("yearly_filter_required_no"===e.target.id){let e=[];for(let t=parseInt(this.query.start_year);t<=parseInt(this.query.end_year);t++)e.push(t);let t=this.determineMonths(this.query,e,this.months_data);this.time_period_columns_builder=t,this.yearly_filter_required=!1}else this.time_period_columns_builder=null,this.yearly_filter_required=!0},determineMonths(e,t,n){let{start_month:a,end_month:i}=e,r={},o=t.length;return t.forEach((e,t)=>{if(!a&&!i||t>0&&t+1<o){let t=n.map(e=>({...e}));r[e]=t;return}if(0===t&&1===o){let t=[],o=a?parseInt(a):1,l=i?parseInt(i):12;for(let e=o;e<=l;e++)t.push(n[e-1]);r[e]=t;return}if(0===t&&o>1){let t=[],i=a?parseInt(a):1;for(let e=i;e<=12;e++)t.push(n[e-1]);r[e]=t;return}if(t+1===o&&o>1){let t=[],a=i?parseInt(i):12;for(let e=1;e<=a;e++)t.push(n[e-1]);r[e]=t;return}}),r},updateMonthsRequired(e,t,n,a){let i=e.target.checked;a[t][n].active=i,this.time_period_columns_builder=a},buildMonthlyUrlQuery(e,t,n,a){let i,r;switch(n){case"monthly":case"monthly_with_totals":i=`/api/v1/erm/eUsage/monthly_report/${a}`,r="erm_usage_muses";break;case"metric_type":i=`/api/v1/erm/eUsage/metric_types_report/${a}`,r="erm_usage_muses";break;case"usage_data_provider":i=`/api/v1/erm/eUsage/provider_rollup_report/${a}`,r=`erm_usage_${a}s.erm_usage_muses`}let o=[],{start_year:l,end_year:s,metric_types:c,access_types:d,usage_data_providers:u,keywords:p,report_type:_}=e;for(let e=parseInt(l);e<=parseInt(s);e++)o.push(e);let m=t||this.determineMonths(e,o,this.months_data);this.time_period_columns_builder=m;let f=o.map(e=>{let t={};t[`${r}.year`]=e,t[`${r}.report_type`]=_;let n=m[e].filter(e=>e.active).map(e=>e.value);if(t[`${r}.month`]=n,p){let e=p.map(e=>e[`${a}_id`]);t[`${r}.${a}_id`]=e}return c&&(t[`${r}.metric_type`]=c),d&&(t[`${r}.access_type`]=d),u&&(t[`${r}.usage_data_provider_id`]=u),t});return i+=`?q=${JSON.stringify(f)}`},buildYearlyUrlQuery(e,t){let n=`/api/v1/erm/eUsage/yearly_report/${t}`,{start_year:a,end_year:i,metric_types:r,access_types:o,usage_data_providers:l,keywords:s,report_type:c}=e,d={},u=[];for(let e=parseInt(a);e<=parseInt(i);e++)u.push(e);if(d["erm_usage_yuses.year"]=u,this.time_period_columns_builder=u,d["erm_usage_yuses.report_type"]=c,r&&(d["erm_usage_yuses.metric_type"]=r),o&&(d["erm_usage_yuses.access_type"]=o),s){let e=s.map(e=>e[`${t}_id`]);d[`erm_usage_yuses.${t}_id`]=e}return l&&(d["erm_usage_yuses.usage_data_provider_id"]=l),n+=`?q=${JSON.stringify(d)}`},setMetricTypesAndProviderList(e){let t;let n=[];if(this.filter_data.length=0,this.query.keywords=null,e){switch(e.substring(0,1)){case"P":t=this.av_platform_reports_metrics,this.data_type="platform";break;case"T":t=this.av_title_reports_metrics,this.data_type="title";break;case"I":t=this.av_item_reports_metrics,this.data_type="item";break;case"D":t=this.av_database_reports_metrics,this.data_type="database"}for(let a in"TR_J3"===e||"TR_B3"===e?this.access_types_options=["Controlled","OA_Gold"]:this.access_types_options=[],this.metric_types_matrix)if(this.metric_types_matrix[a].includes(e,!1)){let e=t.find(e=>a===e.value);n.push(e)}this.metric_types_options=n,this.usage_data_provider_list=this.usage_data_providers.filter(t=>{let n=t.report_types.split(";");return n.pop(),n.includes(e)});let a=Object.keys(this.title_property_column_options);a.shift(),a.forEach(e=>{!this.title_property_column_options[e].used_by.includes(this.data_type)&&(this.title_property_column_options[e].active=!1)})}else this.metric_types_options=[],this.query.metric_types=null,this.usage_data_provider_list=[...this.usage_data_providers]},setReportTypesAndResetFilterData(e){let t=[];if(0===e.length){this.report_types_options=this.av_report_types,this.query.keywords=null,this.filter_data.length=0;return}e.forEach(e=>{let n=this.usage_data_providers.find(t=>t.erm_usage_data_provider_id===e).report_types.split(";");n.pop(),n.forEach(e=>{let n=this.av_report_types.find(t=>t.value===e);t.push(n)});let a=this.filter_data.filter(t=>t.erm_usage_data_provider_id!==e);this.filter_data=a}),this.report_types_options=t},defineColumns(e){let t=[];return Object.keys(e).forEach(n=>{e[n].active&&t.push(e[n].id)}),t},async saveToDefaultReports(e){if(e.preventDefault(),!this.report_name){alert("Please provide a report name");return}let t=this.validateFormAndCreateUrlParams(),n={report_name:this.report_name,report_url_params:JSON.stringify(t)},a=rK.erm;await a.default_usage_reports.create(n).then(e=>{this.setMessage(this.$__("Report saved successfully"))},e=>{})},validateFormAndCreateUrlParams(){let e={...this.query},{start_year:t,end_year:n,data_display:a,report_type:i,metric_types:r,access_types:o}=e;if(!i||!t||!n){alert("You have not filled in all the required fields, please try again");return}let l=this.validateYear(t),s=this.validateYear(n);if(!l||!s){this.setError(this.$__("Please enter a year with the format YYYY"));return}if(!r||r&&0===r.length){let t=this.metric_types_options.map(e=>e.value);e.metric_types=t}if(("TR_J3"===i||"TR_B3"===i)&&(!o||o&&0===o.length)){let t=this.access_types_options.map(e=>e);e.access_types=t}let c=a.includes("yearly")?this.buildYearlyUrlQuery(e,this.data_type):this.buildMonthlyUrlQuery(e,this.time_period_columns_builder,a,this.data_type),d="usage_data_provider"===a?[]:this.defineColumns(this.title_property_column_options);return{url:c,columns:d,queryObject:e,yearly_filter:!!a.includes("monthly")&&this.yearly_filter_required,type:a,tp_columns:this.time_period_columns_builder}}},props:["usage_data_providers"],components:{ButtonSubmit:sN}},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("v-select"),l=(0,y.resolveComponent)("ButtonSubmit");return(0,y.openBlock)(),(0,y.createElementBlock)("div",hb,[(0,y.createElementVNode)("h2",null,(0,y.toDisplayString)(e.$__("Build a custom report")),1),(0,y.createElementVNode)("form",{onSubmit:t[18]||(t[18]=e=>r.buildCustomReport(e)),class:"custom_usage_report"},[(0,y.createElementVNode)("fieldset",hy,[(0,y.createElementVNode)("div",hk,[(0,y.createElementVNode)("h3",null,(0,y.toDisplayString)(e.$__("Select report data")),1),(0,y.createElementVNode)("ol",null,[(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",hE,(0,y.toDisplayString)(e.$__("Data display"))+":",1),(0,y.createVNode)(o,{id:"interval",modelValue:i.query.data_display,"onUpdate:modelValue":t[0]||(t[0]=e=>i.query.data_display=e),label:"description",reduce:e=>e.value,options:[{value:"monthly",description:e.$__("By month")},{value:"monthly_with_totals",description:e.$__("By month with period total")},{value:"yearly",description:e.$__("By year")},{value:"metric_type",description:e.$__("By metric type")},{value:"usage_data_provider",description:e.$__("By data provider totals")}],required:!i.query.data_display},{search:(0,y.withCtx)(({attributes:e,events:t})=>[(0,y.createElementVNode)("input",(0,y.mergeProps)({required:!i.query.data_display,class:"vs__search"},e,(0,y.toHandlers)(t,!0)),null,16,hA)]),_:1},8,["modelValue","reduce","options","required"]),(0,y.createElementVNode)("span",hw,(0,y.toDisplayString)(e.$__("Required")),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",hC,(0,y.toDisplayString)(e.$__("Choose data provider"))+":",1),(0,y.createVNode)(o,{id:"usage_data_provider",modelValue:i.query.usage_data_providers,"onUpdate:modelValue":[t[1]||(t[1]=e=>i.query.usage_data_providers=e),t[2]||(t[2]=e=>r.setReportTypesAndResetFilterData(e))],label:"name",reduce:e=>e.erm_usage_data_provider_id,options:i.usage_data_provider_list,multiple:""},null,8,["modelValue","reduce","options"])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",hS,(0,y.toDisplayString)(e.$__("Choose report"))+":",1),(0,y.createVNode)(o,{id:"report_type",modelValue:i.query.report_type,"onUpdate:modelValue":[t[3]||(t[3]=e=>i.query.report_type=e),t[4]||(t[4]=e=>r.setMetricTypesAndProviderList(e))],label:"description",reduce:e=>e.value,options:i.report_types_options,required:!i.query.report_type},{search:(0,y.withCtx)(({attributes:e,events:t})=>[(0,y.createElementVNode)("input",(0,y.mergeProps)({required:!i.query.report_type,class:"vs__search"},e,(0,y.toHandlers)(t,!0)),null,16,hN)]),_:1},8,["modelValue","reduce","options","required"]),(0,y.createElementVNode)("span",hV,(0,y.toDisplayString)(e.$__("Required")),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",hx,(0,y.toDisplayString)(e.$__("Choose metric type"))+":",1),(0,y.createVNode)(o,{id:"metric_types",modelValue:i.query.metric_types,"onUpdate:modelValue":t[5]||(t[5]=e=>i.query.metric_types=e),label:"description",reduce:e=>e.value,options:i.metric_types_options,multiple:"",disabled:0===this.metric_types_options.length},null,8,["modelValue","reduce","options","disabled"])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",h$,(0,y.toDisplayString)(e.$__("Choose access type"))+":",1),(0,y.createVNode)(o,{id:"access_types",modelValue:i.query.access_types,"onUpdate:modelValue":t[6]||(t[6]=e=>i.query.access_types=e),label:"description",options:i.access_types_options,multiple:"",disabled:0===this.access_types_options.length},null,8,["modelValue","options","disabled"])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",hD,(0,y.toDisplayString)(e.$__("Start year"))+":",1),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:"start_year",class:"year_input","onUpdate:modelValue":t[7]||(t[7]=e=>i.query.start_year=e),placeholder:e.$__("Please enter year in format YYYY"),required:""},null,8,hT),[[y.vModelText,i.query.start_year]]),(0,y.createElementVNode)("span",hB,(0,y.toDisplayString)(e.$__("Required")),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",hP,(0,y.toDisplayString)(e.$__("Start month"))+":",1),(0,y.createVNode)(o,{id:"start-month",modelValue:i.query.start_month,"onUpdate:modelValue":t[8]||(t[8]=e=>i.query.start_month=e),label:"description",reduce:e=>e.value,options:a.months_data,disabled:i.query.data_display&&i.query.data_display.includes("yearly")||!i.query.data_display},null,8,["modelValue","reduce","options","disabled"])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",hO,(0,y.toDisplayString)(e.$__("End year"))+":",1),(0,y.withDirectives)((0,y.createElementVNode)("input",{id:"end_year",class:"year_input","onUpdate:modelValue":t[9]||(t[9]=e=>i.query.end_year=e),placeholder:e.$__("Please enter year in format YYYY"),required:""},null,8,hR),[[y.vModelText,i.query.end_year]]),(0,y.createElementVNode)("span",hI,(0,y.toDisplayString)(e.$__("Required")),1)]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",hM,(0,y.toDisplayString)(e.$__("End month"))+":",1),(0,y.createVNode)(o,{id:"end_month",modelValue:i.query.end_month,"onUpdate:modelValue":t[10]||(t[10]=e=>i.query.end_month=e),label:"description",reduce:e=>e.value,options:a.months_data,disabled:i.query.data_display&&i.query.data_display.includes("yearly")||!i.query.data_display},null,8,["modelValue","reduce","options","disabled"])]),(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",hL,(0,y.toDisplayString)(e.$__("Keyword"))+":",1),(0,y.createVNode)(o,{id:"keyword",modelValue:i.query.keywords,"onUpdate:modelValue":t[11]||(t[11]=e=>i.query.keywords=e),label:i.data_type,options:i.filter_data,multiple:"",onInput:t[12]||(t[12]=e=>r.dataSearchFilter(e)),placeholder:e.$__("Type at least two characters to search")},null,8,["modelValue","label","options","placeholder"])])])]),(0,y.createElementVNode)("div",hj,[(0,y.createElementVNode)("h3",null,(0,y.toDisplayString)(e.$__("Select report columns")),1),(0,y.createElementVNode)("ol",hq,[((0,y.openBlock)(!0),(0,y.createElementBlock)(y.Fragment,null,(0,y.renderList)(a.title_property_column_options,(e,t,n)=>((0,y.openBlock)(),(0,y.createElementBlock)("li",{key:n,class:"checkbox_options"},[(0,y.createElementVNode)("label",{for:e.name,class:"checkbox"},(0,y.toDisplayString)(e.name)+":",9,hF),(0,y.withDirectives)((0,y.createElementVNode)("input",{type:"checkbox",name:e.name,id:e.name,checked:!0,"onUpdate:modelValue":e=>a.title_property_column_options[t].active=e,disabled:!e.used_by.includes(this.data_type)},null,8,hU),[[y.vModelCheckbox,a.title_property_column_options[t].active]])]))),128))])]),i.query.data_display&&i.query.data_display.includes("monthly")?((0,y.openBlock)(),(0,y.createElementBlock)("div",hz,[(0,y.createElementVNode)("h3",null,(0,y.toDisplayString)(e.$__("Select date display method")),1),(0,y.createElementVNode)("div",hH,[(0,y.createElementVNode)("label",hY,(0,y.toDisplayString)(e.$__("Display data filtered by year"))+":",1),(0,y.createElementVNode)("label",hJ,[(0,y.createElementVNode)("input",{type:"radio",name:"yearly_or_monthly",id:"yearly_filter_required_yes",onChange:t[13]||(t[13]=e=>r.monthSelector(e)),checked:!!i.yearly_filter_required},null,40,hK),(0,y.createTextVNode)(" "+(0,y.toDisplayString)(e.$__("Yes - Table will be limited to 12 columns (Jan-Dec) with the option to switch between years")),1)]),(0,y.createElementVNode)("label",hZ,[(0,y.createElementVNode)("input",{type:"radio",name:"yearly_or_monthly",id:"yearly_filter_required_no",onChange:t[14]||(t[14]=e=>r.monthSelector(e)),checked:!i.yearly_filter_required},null,40,hW),(0,y.createTextVNode)(" "+(0,y.toDisplayString)(e.$__("No - Table will include one column for every month of data selected")),1)])])])):(0,y.createCommentVNode)("",!0),i.yearly_filter_required?(0,y.createCommentVNode)("",!0):((0,y.openBlock)(),(0,y.createElementBlock)("div",hG,[(0,y.createElementVNode)("h3",null,(0,y.toDisplayString)(e.$__("Select which months to display")),1),(0,y.createElementVNode)("ol",null,[((0,y.openBlock)(!0),(0,y.createElementBlock)(y.Fragment,null,(0,y.renderList)(i.time_period_columns_builder,(t,n,a)=>((0,y.openBlock)(),(0,y.createElementBlock)("li",{key:n+a,class:"checkbox_options"},[(0,y.createElementVNode)("label",{for:n},(0,y.toDisplayString)(e.$__(n))+": ",9,hQ),((0,y.openBlock)(!0),(0,y.createElementBlock)(y.Fragment,null,(0,y.renderList)(t,(e,t)=>((0,y.openBlock)(),(0,y.createElementBlock)("div",{key:n+t,class:"month_selectors"},[(0,y.createElementVNode)("label",hX,(0,y.toDisplayString)(e.short),1),((0,y.openBlock)(),(0,y.createElementBlock)("input",{type:"checkbox",name:e.short,id:e.short+n,key:e+n+t,checked:!0,onChange:e=>r.updateMonthsRequired(e,n,t,this.time_period_columns_builder)},null,40,h0))]))),128))]))),128))])]))]),(0,y.createElementVNode)("fieldset",h1,[(0,y.createVNode)(l),(0,y.createElementVNode)("button",{onClick:t[15]||(t[15]=e=>r.clearForm(e)),class:"btn btn-default"},(0,y.toDisplayString)(e.$__("Clear")),1)]),(0,y.createElementVNode)("div",h2,[(0,y.withDirectives)((0,y.createElementVNode)("input",{id:"report_name","onUpdate:modelValue":t[16]||(t[16]=e=>i.report_name=e),placeholder:e.$__("Enter report name"),class:"year_input"},null,8,h3),[[y.vModelText,i.report_name]]),(0,y.createElementVNode)("button",{onClick:t[17]||(t[17]=e=>r.saveToDefaultReports(e)),class:"btn btn-default"},(0,y.toDisplayString)(e.$__("Save report")),1)])],32)])}],["__scopeId","data-v-771263ae"]]),h6={key:0},h7={key:1},h9={key:0},ge={class:"rows"},gt={for:"default_usage_reports"},gn=["required"],ga={class:"required"},gi={class:"action"},gr=(0,iK.default)({setup(){let{setMessage:e,setError:t}=(0,y.inject)("mainStore");return{setMessage:e,setError:t}},data:()=>({initialized:!1,default_usage_report:null,default_usage_reports:[]}),mounted(){this.getDefaultUsageReports()},methods:{async getDefaultUsageReports(){let e=rK.erm;await e.default_usage_reports.getAll().then(e=>{this.default_usage_reports=e,this.initialized=!0},e=>{})},async deleteSavedReport(e){e.preventDefault();let t=this.default_usage_report.erm_default_usage_report_id;if(t){let e=rK.erm;await e.default_usage_reports.delete(t).then(e=>{this.setMessage(this.$__("Report deleted successfully")),this.default_usage_reports=this.default_usage_reports.filter(e=>e.erm_default_usage_report_id!==t),this.default_usage_report=null},e=>{})}else this.setError(this.$__("No report was selected - could not delete"))},displayDefaultReport(e){e.preventDefault(),this.$router.push({name:"UsageStatisticsReportsViewer",query:{data:this.default_usage_report.report_url_params}})}},components:{ButtonSubmit:sN},name:"UsageStatisticsSaveReports"},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("v-select"),l=(0,y.resolveComponent)("ButtonSubmit");return i.initialized?((0,y.openBlock)(),(0,y.createElementBlock)("div",h7,[this.default_usage_reports.length?((0,y.openBlock)(),(0,y.createElementBlock)("form",{key:1,class:"default-report",onSubmit:t[2]||(t[2]=e=>r.displayDefaultReport(e))},[(0,y.createElementVNode)("h2",null,(0,y.toDisplayString)(e.$__("Select saved report")),1),(0,y.createElementVNode)("fieldset",ge,[(0,y.createElementVNode)("ol",null,[(0,y.createElementVNode)("li",null,[(0,y.createElementVNode)("label",gt,(0,y.toDisplayString)(e.$__("Choose report"))+":",1),(0,y.createVNode)(o,{id:"default_usage_reports",modelValue:i.default_usage_report,"onUpdate:modelValue":t[0]||(t[0]=e=>i.default_usage_report=e),label:"report_name",reduce:e=>e,options:i.default_usage_reports,required:!i.default_usage_report},{search:(0,y.withCtx)(({attributes:e,events:t})=>[(0,y.createElementVNode)("input",(0,y.mergeProps)({required:!i.default_usage_report,class:"vs__search"},e,(0,y.toHandlers)(t,!0)),null,16,gn)]),_:1},8,["modelValue","reduce","options","required"]),(0,y.createElementVNode)("span",ga,(0,y.toDisplayString)(e.$__("Required")),1)])])]),(0,y.createElementVNode)("fieldset",gi,[(0,y.createVNode)(l),i.default_usage_report?((0,y.openBlock)(),(0,y.createElementBlock)("button",{key:0,onClick:t[1]||(t[1]=e=>r.deleteSavedReport(e)),class:"btn btn-default"},(0,y.toDisplayString)(e.$__("Delete report")),1)):(0,y.createCommentVNode)("",!0)])],32)):((0,y.openBlock)(),(0,y.createElementBlock)("div",h9,(0,y.toDisplayString)(e.$__("You have not saved any reports yet, please create a report.")),1))])):((0,y.openBlock)(),(0,y.createElementBlock)("div",h6,(0,y.toDisplayString)(e.$__("Loading")),1))}]]);var go=n("1024"),gl={};gl.styleTagTransform=iH(),gl.setAttributes=iq(),gl.insert=iL().bind(null,"head"),gl.domAPI=iI(),gl.insertStyleElement=iU(),iO()(go.Z,gl),go.Z&&go.Z.locals&&go.Z.locals;let gs=(0,iK.default)({setup(){let{setConfirmationDialog:e,setMessage:t,setError:n}=(0,y.inject)("mainStore");return{setConfirmationDialog:e,setMessage:t,setError:n}},data:()=>({initialized:!1,custom_or_default:"default",default_usage_report:null,default_usage_reports:[],usage_data_providers:[]}),beforeRouteEnter(e,t,n){n(e=>{e.getUsageDataProviders()})},methods:{async getUsageDataProviders(){let e=rK.erm;await e.usage_data_providers.getAll().then(e=>{0===e.length&&this.setError(this.$__("No data providers have been created -  no report data will be available")),this.usage_data_providers=e,this.initialized=!0},e=>{})},changeCustomOrDefault(e){this.custom_or_default=e.target.getAttribute("data-content")}},components:{ButtonSubmit:sN,UsageStatisticsReportBuilder:h8,UsageStatisticsSavedReports:gr},name:"UsageStatisticsReportsHome"},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("UsageStatisticsSavedReports"),l=(0,y.resolveComponent)("UsageStatisticsReportBuilder");return i.initialized?((0,y.openBlock)(),(0,y.createElementBlock)("div",hu,[(0,y.createElementVNode)("h2",null,(0,y.toDisplayString)(e.$__("Usage statistics reports")),1),(0,y.createElementVNode)("div",hp,[(0,y.createElementVNode)("ul",h_,[(0,y.createElementVNode)("li",hm,[(0,y.createElementVNode)("a",{href:"#",class:(0,y.normalizeClass)(["nav-link","default"===i.custom_or_default?"active":""]),"data-content":"default",onClick:t[0]||(t[0]=(...e)=>r.changeCustomOrDefault&&r.changeCustomOrDefault(...e))},(0,y.toDisplayString)(e.$__("Saved reports")),3)]),(0,y.createElementVNode)("li",hf,[(0,y.createElementVNode)("a",{href:"#",class:(0,y.normalizeClass)(["nav-link","custom"===i.custom_or_default?"active":""]),"data-content":"custom",onClick:t[1]||(t[1]=(...e)=>r.changeCustomOrDefault&&r.changeCustomOrDefault(...e))},(0,y.toDisplayString)(e.$__("Create report")),3)])])]),(0,y.createElementVNode)("div",hh,["default"===i.custom_or_default?((0,y.openBlock)(),(0,y.createElementBlock)("div",hg,[(0,y.createVNode)(o)])):(0,y.createCommentVNode)("",!0),"custom"===i.custom_or_default?((0,y.openBlock)(),(0,y.createElementBlock)("div",hv,[(0,y.createVNode)(l,{usage_data_providers:i.usage_data_providers},null,8,["usage_data_providers"])])):(0,y.createCommentVNode)("",!0)])])):((0,y.openBlock)(),(0,y.createElementBlock)("div",hd,(0,y.toDisplayString)(e.$__("Loading")),1))}],["__scopeId","data-v-cb441022"]]),gc={key:0},gd={key:1,id:"usage_list"},gu={key:0,class:"yearly_filter"},gp={for:"year_filter"},g_=["value"],gm={class:"page-section hide-table",ref:"table_div"};var gf=n("1236"),gh={};gh.styleTagTransform=iH(),gh.setAttributes=iq(),gh.insert=iL().bind(null,"head"),gh.domAPI=iI(),gh.insertStyleElement=iU(),iO()(gf.Z,gh),gf.Z&&gf.Z.locals&&gf.Z.locals;let gg=(0,iK.default)({setup(){let e=(0,y.ref)(),{getMonthsData:t,getColumnOptions:n,checkReportColumns:a}=(0,y.inject)("reportsStore");return{getMonthsData:t,getColumnOptions:n,checkReportColumns:a,table:e}},beforeCreate(){let e;let t=JSON.parse(this.$route.query.data);switch(this.params=t,this.report_type=this.params.type,this.params.queryObject.report_type.substring(0,1)){case"P":e="platform";break;case"T":e="title";break;case"I":e="item";break;case"D":e="database"}switch(this.data_type=e,this.embed="yearly"===this.report_type?["erm_usage_yuses"]:["erm_usage_muses"],this.report_type){case"monthly":case"monthly_with_totals":case"metric_type":this.embed="erm_usage_muses";break;case"yearly":this.embed="erm_usage_yuses";break;case"usage_data_provider":this.embed=`erm_usage_${e}s.erm_usage_muses`}this.years=Object.keys(this.params.tp_columns),this.year=this.years[this.years.length-1]},data(){return{building_table:!1,initialized:!1,tableOptions:{columns:this.buildColumnArray(this.report_type,this.params,this.data_type),options:{embed:this.embed},url:()=>this.tableURL(this.year,this.params),table_settings:this.report_type.includes("monthly")?this.monthly_usage_table_settings:this.yearly_usage_table_settings,add_filters:!0},yearly_filter:null,params:this.params,year:this.year,years:this.years}},methods:{buildColumnArray(e,t,n){let a=t.columns,i=this.getMonthsData(),r=this.getColumnOptions(),o=t.tp_columns,l=t.yearly_filter,s=t.queryObject,c=t.queryObject.report_type,d=[];if(a.forEach(e=>{d.push(r[e].column),1!==e&&(r[e].active=!1)}),"usage_data_provider"!==e&&d.unshift({title:__(n.charAt(0).toUpperCase()+n.slice(1)),data:n,searchable:!0,orderable:!0}),"metric_type"!==e&&(this.checkReportColumns(c,"YOP")&&d.push({title:__("YOP"),data:"yop",searchable:!0,orderable:!0}),this.checkReportColumns(c,"Access_Type")&&d.push({title:__("Access type"),data:"access_type",searchable:!0,orderable:!0}),d.push({title:__("Metric"),render:function(e,t,n,a){return n.metric_type},searchable:!0,orderable:!0})),"usage_data_provider"===e)return d.unshift({title:__("Data provider"),data:"name",searchable:!0,orderable:!0}),d.push({title:__("Period total"),data:"provider_rollup_total",searchable:!0,orderable:!0}),d;if(l)i.forEach(e=>{d.push({title:__(e.short),render:function(t,n,a,i){let r=a.erm_usage_muses.filter(t=>t.month===e.value);return r.length?r[0].usage_count:"-"},searchable:!0,orderable:!0})});else if(e.includes("monthly")&&Object.keys(o).forEach(e=>{let t=e.substring(2);o[e].forEach(n=>{if(n.active){let a=`${n.short}${t}`;d.push({title:__(a),render:function(t,a,i,r){let o=i.erm_usage_muses.filter(t=>t.year===parseInt(e)).filter(e=>e.month===n.value);return o.length?o[0].usage_count:"-"},searchable:!0,orderable:!0})}})}),"yearly"===e&&o.forEach(e=>{let t=String(e);d.push({title:__(t),render:function(t,n,a,i){let r=a.erm_usage_yuses.find(t=>t.year===e);return r?r.totalcount:"-"},searchable:!0,orderable:!0})}),"metric_type"===e){let e=s.metric_types,t=s.access_types;this.checkReportColumns(c,"YOP")&&d.push({title:__("YOP"),data:"yop",searchable:!0,orderable:!0}),e.forEach(e=>{t&&t.length>0?t.forEach(t=>{d.push({title:__(t),render:function(n,a,i,r){return i.erm_usage_muses.filter(e=>e.access_type===t).filter(t=>t.metric_type===e).reduce((e,t)=>e+t.usage_count,0)},searchable:!1,orderable:!1})}):d.push({title:__(e),render:function(t,n,a,i){return a.erm_usage_muses.filter(t=>t.metric_type===e).reduce((e,t)=>e+t.usage_count,0)},searchable:!1,orderable:!1})})}return"monthly_with_totals"===e&&d.push({title:__("Period total"),data:"usage_total",searchable:!0,orderable:!0}),d},async update_table(){this.$refs.table.redraw(this.tableURL(this.year,this.params))},buildFilteredQuery(e,t,n){let a;let i={},{metric_types:r,access_types:o,usage_data_providers:l,keywords:s,report_type:c}=e;switch(c.substring(0,1)){case"P":a="platform";break;case"T":a="title";break;case"I":a="item";break;case"D":a="database"}let d=`/api/v1/erm/eUsage/monthly_report/${a}`;i["erm_usage_muses.year"]=n,i["erm_usage_muses.report_type"]=c;let u=t[n].map(e=>e.value);if(i["erm_usage_muses.month"]=u,s){let e=s.map(e=>e[`${a}_id`]);i[`erm_usage_muses.${a}_id`]=e}return r&&(i["erm_usage_muses.metric_type"]=r),o&&(i["erm_usage_muses.access_type"]=o),l&&(i["erm_usage_muses.usage_data_provider_id"]=l),d+=`?q=[${JSON.stringify(i)}]`},tableURL(e,t){if(!t.yearly_filter)return t.url;{let n=t.queryObject,a=t.tp_columns;return this.buildFilteredQuery(n,a,e)}},mergeTitleDataIntoOneLine(e,t){let n=this.$refs.table.useTableObject();n.on("draw",()=>{let a=n.rows().nodes().to$(),i=t?e*t:e,r=[];for(let e=0;e<a.length;e+=i)r.push([a.slice(e,e+i)]);r.map(e=>e[0]).forEach(e=>{Array.from(e).forEach((e,t)=>{let n=e.cells;0===t?(n[0].rowSpan=i,n[0].style.textAlign="center",n[0].style.verticalAlign="middle",n[0].style.borderRight="1px solid #BCBCBC"):n[0].remove()})})}),this.$refs.table_div.classList.remove("hide-table")},createMetricReportTableHeader(e,t){let n=this.$refs.table.$el.getElementsByTagName("table")[0],a=n.rows[0].cells.length,i=a-e.length*t,r=i+e.length,o=n.insertRow(0),l=Array.from("1".repeat(r)).map(e=>{let t=document.createElement("th");return o.appendChild(t),t}).splice(i);e.forEach((e,n)=>{let a=l[n];a.colSpan=t,a.innerHTML=e}),this.$refs.table_div.classList.remove("hide-table")}},watch:{table(){let e=this.params.queryObject.access_types?this.params.queryObject.access_types.length:0;"metric_type"===this.report_type?e?this.createMetricReportTableHeader(this.params.queryObject.metric_types,e):this.$refs.table_div.classList.remove("hide-table"):this.mergeTitleDataIntoOneLine(this.params.queryObject.metric_types.length,e)}},mounted(){!this.building_table&&(this.yearly_filter=this.params.yearly_filter,this.building_table=!0,this.initialized=!0)},components:{KohaTable:oc},name:"UsageStatisticsReportsViewer"},[["render",function(e,t,n,a,i,r){let o=(0,y.resolveComponent)("v-select"),l=(0,y.resolveComponent)("KohaTable");return(0,y.openBlock)(),(0,y.createElementBlock)(y.Fragment,null,[i.initialized?(0,y.createCommentVNode)("",!0):((0,y.openBlock)(),(0,y.createElementBlock)("div",gc,(0,y.toDisplayString)(e.$__("Loading")),1)),i.initialized?((0,y.openBlock)(),(0,y.createElementBlock)("div",gd,[i.yearly_filter?((0,y.openBlock)(),(0,y.createElementBlock)("fieldset",gu,[(0,y.createElementVNode)("label",gp,(0,y.toDisplayString)(e.$__("Display by year"))+":",1),(0,y.createVNode)(o,{id:"year_select",modelValue:i.year,"onUpdate:modelValue":t[0]||(t[0]=e=>i.year=e),reduce:e=>e,label:"description",options:i.years},null,8,["modelValue","reduce","options"]),(0,y.createElementVNode)("input",{onClick:t[1]||(t[1]=e=>r.update_table()),id:"filter_table",type:"button",value:e.$__("Update table")},null,8,g_)])):(0,y.createCommentVNode)("",!0),(0,y.createElementVNode)("div",gm,[(0,y.createVNode)(l,(0,y.mergeProps)({ref:"table"},i.tableOptions),null,16)],512)])):(0,y.createCommentVNode)("",!0)],64)}],["__scopeId","data-v-43cec692"]]),gv=e=>window.__(e),gb=[{path:"/cgi-bin/koha/erm/erm.pl",is_default:!0,is_base:!0,title:gv("E-resource management"),children:[{path:"",name:"Home",component:(0,y.markRaw)(r0),is_navigation_item:!1},{path:"/cgi-bin/koha/erm/agreements",title:gv("Agreements"),icon:"fa fa-check-circle",is_end_node:!0,children:[{path:"",name:"AgreementsList",component:(0,y.markRaw)(o_)},{path:":agreement_id",name:"AgreementsShow",component:(0,y.markRaw)(oH),title:gv("Show agreement")},{path:"add",name:"AgreementsFormAdd",component:(0,y.markRaw)(s$),title:gv("Add agreement")},{path:"edit/:agreement_id",name:"AgreementsFormAddEdit",component:(0,y.markRaw)(s$),title:gv("Edit agreement")}]},{path:"/cgi-bin/koha/erm/licenses",title:gv("Licenses"),icon:"fa fa-gavel",is_end_node:!0,children:[{path:"",name:"LicensesList",component:(0,y.markRaw)(_R)},{path:":license_id",name:"LicensesShow",component:(0,y.markRaw)(_1),title:gv("Show license")},{path:"add",name:"LicensesFormAdd",component:(0,y.markRaw)(mf),title:gv("Add license")},{path:"edit/:license_id",name:"LicensesFormAddEdit",component:(0,y.markRaw)(mf),title:gv("Edit license")}]},{path:"/cgi-bin/koha/erm/eholdings",title:gv("eHoldings"),icon:"fa fa-crosshairs",disabled:!0,children:[{path:"local",title:gv("Local"),icon:"fa-solid fa-location-dot",disabled:!0,children:[{path:"packages",title:gv("Packages"),icon:"fa fa-archive",is_end_node:!0,children:[{path:"",name:"EHoldingsLocalPackagesList",component:(0,y.markRaw)(dx)},{path:":package_id",name:"EHoldingsLocalPackagesShow",component:(0,y.markRaw)(dU),title:gv("Show package")},{path:"add",name:"EHoldingsLocalPackagesFormAdd",component:(0,y.markRaw)(s1),title:gv("Add package")},{path:"edit/:package_id",name:"EHoldingsLocalPackagesFormAddEdit",component:(0,y.markRaw)(s1),title:gv("Edit package")}]},{path:"titles",title:gv("Titles"),icon:"fa-solid fa-arrow-down-a-z",is_end_node:!0,children:[{path:"",name:"EHoldingsLocalTitlesList",component:(0,y.markRaw)(d7)},{path:":title_id",name:"EHoldingsLocalTitlesShow",component:(0,y.markRaw)(uI),title:gv("Show title")},{path:"add",name:"EHoldingsLocalTitlesFormAdd",component:(0,y.markRaw)(da),title:gv("Add title")},{path:"edit/:title_id",name:"EHoldingsLocalTitlesFormAddEdit",component:(0,y.markRaw)(da),title:gv("Edit title")},{path:"import",name:"EHoldingsLocalTitlesFormImport",component:(0,y.markRaw)(dp),title:gv("Import from a list")},{path:"kbart-import",name:"EHoldingsLocalTitlesKBARTImport",component:(0,y.markRaw)(dw),title:gv("Import from a KBART file")},{path:"/cgi-bin/koha/erm/eholdings/local/resources/:resource_id",name:"EHoldingsLocalResourcesShow",component:(0,y.markRaw)(d3),title:gv("Resource")}]}]},{path:"ebsco",title:gv("EBSCO"),icon:"fa fa-globe",disabled:!0,children:[{path:"packages",title:gv("Packages"),icon:"fa fa-archive",is_end_node:!0,children:[{path:"",name:"EHoldingsEBSCOPackagesList",component:(0,y.markRaw)(uY)},{path:":package_id",name:"EHoldingsEBSCOPackagesShow",component:(0,y.markRaw)(pA),title:gv("Show package")}]},{path:"titles",title:gv("Titles"),icon:"fa-solid fa-arrow-down-a-z",is_end_node:!0,children:[{path:"",name:"EHoldingsEBSCOTitlesList",component:(0,y.markRaw)(pZ)},{path:":title_id",name:"EHoldingsEBSCOTitlesShow",component:(0,y.markRaw)(_D),title:gv("Show title")},{path:"/cgi-bin/koha/erm/eholdings/ebsco/resources/:resource_id",name:"EHoldingsEBSCOResourcesShow",component:(0,y.markRaw)(pL),title:gv("Resource"),is_navigation_item:!1}]}]}]},{path:"/cgi-bin/koha/erm/eusage",title:gv("eUsage"),icon:"fa fa-tasks",disabled:!0,children:[{path:"usage_data_providers",title:gv("Data providers"),icon:"fa fa-exchange",is_end_node:!0,children:[{path:"",name:"UsageStatisticsDataProvidersList",component:(0,y.markRaw)(mN)},{path:":usage_data_provider_id",name:"UsageStatisticsDataProvidersShow",component:(0,y.markRaw)(hc),title:gv("Show provider")},{path:"add",name:"UsageStatisticsDataProvidersFormAdd",component:(0,y.markRaw)(fv),title:gv("Add data provider")},{path:"edit/:usage_data_provider_id",name:"UsageStatisticsDataProvidersFormAddEdit",component:(0,y.markRaw)(fv),title:gv("Edit data provider")},{path:"summary",name:"UsageStatisticsDataProvidersSummary",component:(0,y.markRaw)(mO),title:gv("Data providers summary")}]},{path:"reports",title:"Reports",icon:"fa fa-bar-chart",is_end_node:!0,children:[{path:"",name:"UsageStatisticsReportsHome",component:(0,y.markRaw)(gs)},{path:"viewer",name:"UsageStatisticsReportsViewer",component:(0,y.markRaw)(gg),title:gv("View report")}]}]}]}],gy=tP("vendors",{state:()=>({vendors:[]})}),gk=tP("authorised_values",{state:()=>({av_agreement_statuses:[],av_agreement_closure_reasons:[],av_agreement_renewal_priorities:[],av_user_roles:[],av_license_types:[],av_license_statuses:[],av_agreement_license_statuses:[],av_agreement_license_location:[],av_agreement_relationships:[{value:"supersedes",description:__("supersedes")},{value:"is-superseded-by",description:__("is superseded by")},{value:"provides_post-cancellation_access_for",description:__("provides post-cancellation access for")},{value:"has-post-cancellation-access-in",description:__("has post-cancellation access in")},{value:"tracks_demand-driven_acquisitions_for",description:__("tracks demand-driven acquisitions for")},{value:"has-demand-driven-acquisitions-in",description:__("has demand-driven acquisitions in")},{value:"has_backfile_in",description:__("has backfile in")},{value:"has_frontfile_in",description:__("has frontfile in")},{value:"related_to",description:__("related to")}],av_package_types:[],av_package_content_types:[],av_title_publication_types:[],av_notforloan:[],av_report_types:[],av_platform_reports_metrics:[],av_database_reports_metrics:[],av_title_reports_metrics:[],av_item_reports_metrics:[]}),actions:{get_lib_from_av(e,t){if(void 0===this[e]){console.warn("The authorised value category for '%s' is not defined.".format(e));return}let n=this[e].find(e=>e.value==t);return n?n.description:t},map_av_dt_filter(e){return this[e].map(e=>(e._id=e.value,e._str=e.description,e))}}}),gE=tP("erm",{state:()=>({config:{settings:{ERMModule:!1,ERMProviders:[]}}})}),gA=tP("navigation",{state:()=>({routeState:{alt:"Home",href:"/cgi-bin/koha/mainpage.pl",is_navigation_item:!1,is_base:!0,children:[]},current:null,params:{}}),actions:{setRoutes(e){return!Array.isArray(e)&&(e=[e]),this.routeState.children=e,function e(n){gC(n)&&n.children.forEach(a=>{(function(e,n){n.parent=e,gw(n)&&function(e){!e.meta&&(e.meta={}),e.meta.self=e}(n),1===e.children.length&&e.is_base?t(n,{is_base:!0,is_navigation_item:!1}):t(n,{is_base:!1,is_navigation_item:!0})})(n,a),e(a)})}(this.routeState),this.navigationRoutes;function t(e,{is_base:t,is_navigation_item:n}){e.is_base=void 0!==e.is_base?e.is_base:t,e.is_navigation_item=void 0!==e.is_navigation_item?e.is_navigation_item:n}}},getters:{breadcrumbs(){return this.current?function(e,t,n){return[{...t,icon:null,children:null},...function(e,t){return e.filter(e=>{var t;return(t=e.meta.self).is_base||t.path&&""!==t.path}).filter(e=>!e.meta.self.is_empty).map(e=>{var n,a;let i=(n=e,a=t,!n.name&&n.path&&a?n.path.replaceAll(/(:[^/]+)/g,e=>a[e.substr(1)]):n.path);return{...e.meta.self,icon:null,path:i,children:null}})}(e,n)]}(this.current,this.routeState,this.params):function e(t){if(!t.is_base)return[];let n={};return gC(t)&&(n=function(e){return e.children.find(e=>e.is_default)||e.children[0]}(t)),[{...t,children:null},...e(n)]}(this.routeState)},leftNavigation(){return e(this.routeState);function e(n,a=""){if(function(e){return e.is_base&&(!e.children||!e.children.length)}(n))return[];if(n.is_base)return t(n).flat(1/0);let i=function(e,t){let n;return gw(t)&&function(e){return/^\//.test(e)}(t.path)?n=t.path:(e&&(n=""+e+function(e){return/\/$/.test(e)?"":"/"}(e)),gw(t)&&(n=""+n+t.path)),n}(a,n),r=[];return!n.is_end_node&&gC(n)&&(r=t(n,i)),{...n,path:i||n.path,children:r}}function t(t,n){return t.children.filter(e=>e.is_base||e.is_navigation_item).map(t=>e(t,n))}},navigationRoutes(){let e=t(this.routeState);return Array.isArray(e)?e:[e];function t(e){return gw(e)?e:function(e){return e.children.map(e=>t(e)).flat(1/0)}(e)}}}});function gw(e){return void 0!==e.path||void 0!==e.name}function gC(e){return e.children&&e.children.length}let gS=tP("reports",{state:()=>({months_data:[{short:"Jan",description:"January",value:1,active:!0},{short:"Feb",description:"February",value:2,active:!0},{short:"Mar",description:"March",value:3,active:!0},{short:"Apr",description:"April",value:4,active:!0},{short:"May",description:"May",value:5,active:!0},{short:"Jun",description:"June",value:6,active:!0},{short:"Jul",description:"July",value:7,active:!0},{short:"Aug",description:"August",value:8,active:!0},{short:"Sep",description:"September",value:9,active:!0},{short:"Oct",description:"October",value:10,active:!0},{short:"Nov",description:"November",value:11,active:!0},{short:"Dec",description:"December",value:12,active:!0}],query:null,title_property_column_options:{1:{id:1,name:"Provider name",active:!0,used_by:["title","item","database","platform"],column:{title:__("Data provider"),data:"provider_name",searchable:!0,orderable:!0}},2:{id:2,name:"Publisher",active:!1,used_by:["title","item","database"],column:{title:__("Publisher"),data:"publisher",searchable:!0,orderable:!0}},3:{id:3,name:"Platform",active:!1,used_by:["item","database","platform"],column:{title:__("Platform"),data:"platform",searchable:!0,orderable:!0}},4:{id:4,name:"Publisher ID",active:!1,used_by:["title","database"],column:{title:__("Publisher ID"),data:"publisher_id",searchable:!0,orderable:!0}},5:{id:5,name:"Online ISSN",active:!1,used_by:["title"],column:{title:__("Online ISSN"),data:"online_issn",searchable:!0,orderable:!0}},6:{id:6,name:"Print ISSN",active:!1,used_by:["title"],column:{title:__("Print ISSN"),data:"print_issn",searchable:!0,orderable:!0}},7:{id:7,name:"DOI",active:!1,used_by:["title"],column:{title:__("DOI"),data:"title_doi",searchable:!0,orderable:!0}},8:{id:8,name:"URI",active:!1,used_by:["title"],column:{title:__("URI"),data:"title_uri",searchable:!0,orderable:!0}}},report_type_map:{TR_B1:["YOP","ISBN"],TR_B2:["YOP","ISBN"],TR_B3:["YOP","Access_Type","ISBN"],TR_J3:["Access_Type"],TR_J4:["YOP"]}}),actions:{getMonthsData(){return this.months_data},getColumnOptions(){return this.title_property_column_options},checkReportColumns(e,t){return!!this.report_type_map.hasOwnProperty(e)&&this.report_type_map[e].includes(t)}}});a4.add({prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"]},{prefix:"fas",iconName:"minus",icon:[448,512,[8211,8722,10134,"subtract"],"f068","M432 256c0 17.7-14.3 32-32 32L48 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l352 0c17.7 0 32 14.3 32 32z"]},{prefix:"fas",iconName:"pencil",icon:[512,512,[9999,61504,"pencil-alt"],"f303","M421.7 220.3l-11.3 11.3-22.6 22.6-205 205c-6.6 6.6-14.8 11.5-23.8 14.1L30.8 511c-8.4 2.5-17.5 .2-23.7-6.1S-1.5 489.7 1 481.2L38.7 353.1c2.6-9 7.5-17.2 14.1-23.8l205-205 22.6-22.6 11.3-11.3 33.9 33.9 62.1 62.1 33.9 33.9zM96 353.9l-9.3 9.3c-.9 .9-1.6 2.1-2 3.4l-25.3 86 86-25.3c1.3-.4 2.5-1.1 3.4-2l9.3-9.3H112c-8.8 0-16-7.2-16-16V353.9zM453.3 19.3l39.4 39.4c25 25 25 65.5 0 90.5l-14.5 14.5-22.6 22.6-11.3 11.3-33.9-33.9-62.1-62.1L314.3 67.7l11.3-11.3 22.6-22.6 14.5-14.5c25-25 65.5-25 90.5 0z"]},{prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"]},{prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9z"]});var gN=function(){let e=(0,y.effectScope)(!0),t=e.run(()=>(0,y.ref)({})),n=[],a=[],i=(0,y.markRaw)({install(e){var t,r,o,l,s,c,d,u,p,_,m,f,h,g,b,y,k,E;e5(i);i._a=e,e.provide(e8,i),e.config.globalProperties.$pinia=i;a.forEach(e=>n.push(e)),a=[]},use(e){return this._a?n.push(e):a.push(e),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return i}(),gV=rB(gN),gx=gk(gN),g$=gA(gN),gD=g$.setRoutes(gb),gT=function(e){let t,n,a;let i=function(e,t){let n=[],a=new Map;t=er({strict:!1,end:!0,sensitive:!1},t);function i(e,o,l){let s,c;let d=!l,u=function(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:function(e){let t={},n=e.props||!1;if("component"in e)t.default=n;else for(let a in e.components)t[a]="boolean"==typeof n?n:n[a];return t}(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}(e);u.aliasOf=l&&l.record;let p=er(t,e),_=[u];if("alias"in e)for(let t of"string"==typeof e.alias?[e.alias]:e.alias)_.push(A({},u,{components:l?l.record.components:u.components,path:t,aliasOf:l?l.record:u}));for(let t of _){let{path:_}=t;if(o&&"/"!==_[0]){let e=o.record.path,n="/"===e[e.length-1]?"":"/";t.path=o.record.path+(_&&n+_)}s=function(e,t,n){let a=function(e,t){let n=A({},Q,t),a=[],i=n.start?"^":"",r=[];for(let t of e){let e=t.length?[]:[90];n.strict&&!t.length&&(i+="/");for(let a=0;a<t.length;a++){let o=t[a],l=40+(n.sensitive?.25:0);if(0===o.type)!a&&(i+="/"),i+=o.value.replace(X,"\\$&"),l+=40;else if(1===o.type){let{value:e,repeatable:n,optional:s,regexp:c}=o;r.push({name:e,repeatable:n,optional:s});let d=c||G;if(d!==G){l+=10;try{RegExp(`(${d})`)}catch(t){throw Error(`Invalid custom RegExp for param "${e}" (${d}): `+t.message)}}let u=n?`((?:${d})(?:/(?:${d}))*)`:`(${d})`;!a&&(u=s&&t.length<2?`(?:/${u})`:"/"+u),s&&(u+="?"),i+=u,l+=20,s&&(l+=-8),n&&(l+=-20),".*"===d&&(l+=-50)}e.push(l)}a.push(e)}if(n.strict&&n.end){let e=a.length-1;a[e][a[e].length-1]+=.7000000000000001}!n.strict&&(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");let o=new RegExp(i,n.sensitive?"":"i");return{re:o,score:a,keys:r,parse:function(e){let t=e.match(o),n={};if(!t)return null;for(let e=1;e<t.length;e++){let a=t[e]||"",i=r[e-1];n[i.name]=a&&i.repeatable?a.split("/"):a}return n},stringify:function(t){let n="",a=!1;for(let i of e)for(let e of((!a||!n.endsWith("/"))&&(n+="/"),a=!1,i))if(0===e.type)n+=e.value;else if(1===e.type){let{value:r,repeatable:o,optional:l}=e,s=r in t?t[r]:"";if(S(s)&&!o)throw Error(`Provided param "${r}" is an array but it is not repeatable (* or + modifiers)`);let c=S(s)?s.join("/"):s;if(!c){if(l)i.length<2&&(n.endsWith("/")?n=n.slice(0,-1):a=!0);else throw Error(`Missing required param "${r}"`)}n+=c}return n||"/"}}}(function(e){let t,n;if(!e)return[[]];if("/"===e)return[[et]];if(!e.startsWith("/"))throw Error(`Invalid path "${e}"`);function a(e){throw Error(`ERR (${i})/"${c}": ${e}`)}let i=0,r=0,o=[];function l(){t&&o.push(t),t=[]}let s=0,c="",d="";function u(){c&&(0===i?t.push({type:0,value:c}):1===i||2===i||3===i?(t.length>1&&("*"===n||"+"===n)&&a(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),t.push({type:1,value:c,regexp:d,repeatable:"*"===n||"+"===n,optional:"*"===n||"?"===n})):a("Invalid state to consume buffer"),c="")}function p(){c+=n}for(;s<e.length;){if("\\"===(n=e[s++])&&2!==i){r=i,i=4;continue}switch(i){case 0:"/"===n?(c&&u(),l()):":"===n?(u(),i=1):c+=n;break;case 4:c+=n,i=r;break;case 1:"("===n?i=2:en.test(n)?c+=n:(u(),i=0,"*"!==n&&"?"!==n&&"+"!==n&&s--);break;case 2:")"===n?"\\"==d[d.length-1]?d=d.slice(0,-1)+n:i=3:d+=n;break;case 3:u(),i=0,"*"!==n&&"?"!==n&&"+"!==n&&s--,d="";break;default:a("Unknown state")}}return 2===i&&a(`Unfinished custom RegExp for param "${c}"`),u(),l(),o}(e.path),n),i=A(a,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}(t,o,p);if(l?l.alias.push(s):((c=c||s)!==s&&c.alias.push(s),d&&e.name&&!ei(s)&&r(e.name)),u.children){let e=u.children;for(let t=0;t<e.length;t++)i(e[t],s,l&&l.children[t])}l=l||s,function(e){let t=0;for(;t<n.length&&function(e,t){let n=0,a=e.score,i=t.score;for(;n<a.length&&n<i.length;){let e=function(e,t){let n=0;for(;n<e.length&&n<t.length;){let a=t[n]-e[n];if(a)return a;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}(a[n],i[n]);if(e)return e;n++}if(1===Math.abs(i.length-a.length)){if(ee(a))return 1;if(ee(i))return -1}return i.length-a.length}(e,n[t])>=0&&(e.record.path!==n[t].record.path||!function e(t,n){return n.children.some(n=>n===t||e(t,n))}(e,n[t]));)t++;n.splice(t,0,e),e.record.name&&!ei(e)&&a.set(e.record.name,e)}(s)}return c?()=>{r(c)}:C}function r(e){if(Y(e)){let t=a.get(e);t&&(a.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(r),t.alias.forEach(r))}else{let t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&a.delete(e.record.name),e.children.forEach(r),e.alias.forEach(r))}}return e.forEach(e=>i(e)),{addRoute:i,resolve:function(e,t){let i,r,o;let l={};if("name"in e&&e.name){if(!(i=a.get(e.name)))throw Z(1,{location:e});o=i.record.name,l=A(ea(t.params,i.keys.filter(e=>!e.optional).map(e=>e.name)),e.params&&ea(e.params,i.keys.map(e=>e.name))),r=i.stringify(l)}else if("path"in e){r=e.path;(i=n.find(e=>e.re.test(r)))&&(l=i.parse(r),o=i.record.name)}else{if(!(i=t.name?a.get(t.name):n.find(e=>e.re.test(t.path))))throw Z(1,{location:e,currentLocation:t});o=i.record.name,l=A({},t.params,e.params),r=i.stringify(l)}let s=[],c=i;for(;c;)s.unshift(c.record),c=c.parent;return{name:o,path:r,params:l,matched:s,meta:function(e){return e.reduce((e,t)=>A(e,t.meta),{})}(s)}},removeRoute:r,getRoutes:function(){return n},getRecordMatcher:function(e){return a.get(e)}}}(e.routes,e),r=e.parseQuery||eC,l=e.stringifyQuery||eS,s=e.history,c=eT(),d=eT(),u=eT(),p=(0,y.shallowRef)(J),_=J;k&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");let m=w.bind(null,e=>""+e),f=w.bind(null,eA),h=w.bind(null,ew);function g(e,t){let n;if(t=A({},t||p.value),"string"==typeof e){let n=D(r,e,t.path),a=i.resolve({path:n.path},t),o=s.createHref(n.fullPath);return A(n,a,{params:h(a.params),hash:ew(n.hash),redirectedFrom:void 0,href:o})}if("path"in e)n=A({},e,{path:D(r,e.path,t.path).path});else{let a=A({},e.params);for(let e in a)null==a[e]&&delete a[e];n=A({},e,{params:f(e.params)}),t.params=f(t.params)}let a=i.resolve(n,t),o=e.hash||"";a.params=m(h(a.params));let c=function(e,t){let n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}(l,A({},e,{hash:ek(o).replace(eg,"{").replace(eb,"}").replace(ef,"^"),path:a.path})),d=s.createHref(c);return A({fullPath:c,hash:o,query:l===eS?function(e){let t={};for(let n in e){let a=e[n];void 0!==a&&(t[n]=S(a)?a.map(e=>null==e?null:""+e):null==a?a:""+a)}return t}(e.query):e.query||{}},a,{redirectedFrom:void 0,href:d})}function b(e){return"string"==typeof e?D(r,e,p.value.path):A({},e)}function E(e,t){if(_!==e)return Z(8,{from:t,to:e})}function N(e){return x(e)}function V(e){let t=e.matched[e.matched.length-1];if(t&&t.redirect){let{redirect:n}=t,a="function"==typeof n?n(e):n;return"string"==typeof a&&((a=a.includes("?")||a.includes("#")?a=b(a):{path:a}).params={}),A({query:e.query,hash:e.hash,params:"path"in a?{}:e.params},a)}}function x(e,t){let n;let a=_=g(e),i=p.value,r=e.state,o=e.force,s=!0===e.replace,c=V(a);return c?x(A(b(c),{state:"object"==typeof c?A({},r,c.state):r,force:o,replace:s}),t||a):(a.redirectedFrom=t,!o&&function(e,t,n){let a=t.matched.length-1,i=n.matched.length-1;return a>-1&&a===i&&B(t.matched[a],n.matched[i])&&P(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}(l,i,a)&&(n=Z(16,{to:a,from:i}),H(i,i,!0,!1)),(n?Promise.resolve(n):O(a,i)).catch(e=>W(e)?W(e,2)?e:z(e):U(e,a,i)).then(e=>{if(e){if(W(e,2))return x(A({replace:s},b(e.to),{state:"object"==typeof e.to?A({},r,e.to.state):r,force:o}),t||a)}else e=I(a,i,!0,s,r);return R(a,i,e),e}))}function T(e,t){let n=E(e,t);return n?Promise.reject(n):Promise.resolve()}function O(e,t){let n;let[a,i,r]=function(e,t){let n=[],a=[],i=[],r=Math.max(t.matched.length,e.matched.length);for(let o=0;o<r;o++){let r=t.matched[o];r&&(e.matched.find(e=>B(e,r))?a.push(r):n.push(r));let l=e.matched[o];l&&!t.matched.find(e=>B(e,l))&&i.push(l)}return[n,a,i]}(e,t);for(let i of(n=eO(a.reverse(),"beforeRouteLeave",e,t),a))i.leaveGuards.forEach(a=>{n.push(eP(a,e,t))});let o=T.bind(null,e,t);return n.push(o),eX(n).then(()=>{for(let a of(n=[],c.list()))n.push(eP(a,e,t));return n.push(o),eX(n)}).then(()=>{for(let a of(n=eO(i,"beforeRouteUpdate",e,t),i))a.updateGuards.forEach(a=>{n.push(eP(a,e,t))});return n.push(o),eX(n)}).then(()=>{for(let a of(n=[],e.matched))if(a.beforeEnter&&!t.matched.includes(a)){if(S(a.beforeEnter))for(let i of a.beforeEnter)n.push(eP(i,e,t));else n.push(eP(a.beforeEnter,e,t))}return n.push(o),eX(n)}).then(()=>(e.matched.forEach(e=>e.enterCallbacks={}),(n=eO(r,"beforeRouteEnter",e,t)).push(o),eX(n))).then(()=>{for(let a of(n=[],d.list()))n.push(eP(a,e,t));return n.push(o),eX(n)}).catch(e=>W(e,8)?e:Promise.reject(e))}function R(e,t,n){for(let a of u.list())a(e,t,n)}function I(e,t,n,a,i){let r=E(e,t);if(r)return r;let o=t===J,l=k?history.state:{};n&&(a||o?s.replace(e.fullPath,A({scroll:o&&l&&l.scroll},i)):s.push(e.fullPath,i)),p.value=e,H(e,t,n,o),z()}let M=eT(),F=eT();function U(e,t,n){z(e);let a=F.list();return a.length?a.forEach(a=>a(e,t,n)):console.error(e),Promise.reject(e)}function z(e){return!n&&(n=!e,t||(t=s.listen((e,t,n)=>{if(!el.listening)return;let a=g(e),i=V(a);if(i){x(A(i,{replace:!0}),a).catch(C);return}_=a;let r=p.value;if(k){var l,c;l=j(r.fullPath,n.delta),c=L(),q.set(l,c)}O(a,r).catch(e=>W(e,12)?e:W(e,2)?(x(e.to,a).then(e=>{W(e,20)&&!n.delta&&n.type===o.pop&&s.go(-1,!1)}).catch(C),Promise.reject()):(n.delta&&s.go(-n.delta,!1),U(e,a,r))).then(e=>{(e=e||I(a,r,!1))&&(n.delta&&!W(e,8)?s.go(-n.delta,!1):n.type===o.pop&&W(e,20)&&s.go(-1,!1)),R(a,r,e)}).catch(C)})),M.list().forEach(([t,n])=>e?n(e):t()),M.reset()),e}function H(t,n,a,i){let{scrollBehavior:r}=e;if(!k||!r)return Promise.resolve();let o=!a&&function(e){let t=q.get(e);return q.delete(e),t}(j(t.fullPath,0))||(i||!a)&&history.state&&history.state.scroll||null;return(0,y.nextTick)().then(()=>r(t,n,o)).then(e=>e&&function(e){let t;if("el"in e){let n=e.el,a="string"==typeof n&&n.startsWith("#"),i="string"==typeof n?a?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=function(e,t){let n=document.documentElement.getBoundingClientRect(),a=e.getBoundingClientRect();return{behavior:t.behavior,left:a.left-n.left-(t.left||0),top:a.top-n.top-(t.top||0)}}(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.pageXOffset,null!=t.top?t.top:window.pageYOffset)}(e)).catch(e=>U(e,t,n))}let K=e=>s.go(e),eo=new Set,el={currentRoute:p,listening:!0,addRoute:function(e,t){let n,a;return Y(e)?(n=i.getRecordMatcher(e),a=t):a=e,i.addRoute(a,n)},removeRoute:function(e){let t=i.getRecordMatcher(e);t&&i.removeRoute(t)},hasRoute:function(e){return!!i.getRecordMatcher(e)},getRoutes:function(){return i.getRoutes().map(e=>e.record)},resolve:g,options:e,push:N,replace:function(e){return x(A(b(e),{replace:!0}))},go:K,back:()=>K(-1),forward:()=>K(1),beforeEach:c.add,beforeResolve:d.add,afterEach:u.add,onError:F.add,isReady:function(){return n&&p.value!==J?Promise.resolve():new Promise((e,t)=>{M.add([e,t])})},install(e){if(e.component("RouterLink",eI),e.component("RouterView",ej),e.config.globalProperties.$router=this,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>(0,y.unref)(p)}),k&&!a&&p.value===J)a=!0,x(s.location).catch(e=>{});let i={};for(let e in J)i[e]=(0,y.computed)(()=>p.value[e]);e.provide(ex,this),e.provide(e$,(0,y.reactive)(i)),e.provide(eD,p);let r=e.unmount;eo.add(e),e.unmount=function(){eo.delete(e),eo.size<1&&(_=J,t&&t(),t=null,p.value=J,a=!1,n=!1),r()}}};return el}({history:H(),linkActiveClass:"current",routes:gD}),gB=(0,y.createApp)(rX);gB.use({install:(e,t)=>{e.config.globalProperties.$__=gv}}).use(gN).use(gT).component("font-awesome-icon",i_).component("v-select",ih()),gB.config.unwrapInjectedRef=!0,gB.provide("vendorStore",gy(gN)),gB.provide("mainStore",gV),gB.provide("AVStore",gx),gB.provide("navigationStore",g$);var gP=gE(gN);gB.provide("ERMStore",gP);var gO=gS(gN);gB.provide("reportsStore",gO),gB.mount("#erm");var gR=gV.removeMessages;gT.beforeEach(function(e,t){g$.$patch({current:e.matched,params:e.params||{}}),gR()}),gT.afterEach(function(e,t){var n="agreement";e.path.match(/\/erm\/licenses/)?n="license":e.path.match(/\/erm\/eholdings\/local\/packages/)?n="package":e.path.match(/\/erm\/eholdings\/local\/titles/)&&(n="title");var a=document.getElementById("".concat(n,"_search-tab"));a&&a.click()})})()})();
//# sourceMappingURL=erm.js.map