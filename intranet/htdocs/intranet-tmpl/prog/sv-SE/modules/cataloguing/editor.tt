[% USE raw %]
[% USE Asset %]
[% PROCESS 'i18n.inc' %]
[% USE Koha %]
[% INCLUDE 'doc-head-open.inc' %]
<title>[% FILTER collapse %]
 [% t("Editor") | html %] &rsaquo;
 [% t("Cataloging") | html %] &rsaquo;
 [% t("Koha") | html %]
[% END %]</title>
[% INCLUDE 'doc-head-close.inc' %]
[% Asset.css("css/cateditor.css") | $raw %]
[% Asset.css("lib/codemirror/codemirror.min.css") | $raw %]
[% Asset.css("css/humanmsg.css") | $raw %]
[% Asset.js("js/cataloging.js") | $raw %]
[% Asset.js("lib/jquery/plugins/humanmsg.js") | $raw %]
</head>
<body id="cat_addbiblio" class="cat">

 <div id="loading">
 <div>Laddar, var vänlig vänta...</div>
 </div>

[% WRAPPER 'header.inc' %]
 [% INCLUDE 'cat-search.inc' %]
[% END %]
[% PROCESS 'keyboard_shortcuts.inc' %]

[% WRAPPER 'sub-header.inc' %]
 [% WRAPPER breadcrumbs %]
 [% WRAPPER breadcrumb_item %]
 <a href="/cgi-bin/koha/cataloguing/cataloging-home.pl">Katalogisering</a>
 [% END %]
 [% WRAPPER breadcrumb_item bc_active= 1 %]
 <span>Redaktör</span>
 [% END %]
 [% END #/ WRAPPER breadcrumbs %]
[% END #/ WRAPPER sub-header.inc %]

<div class="main container-fluid">
 <div class="row">
 <div class="col-md-10 order-md-2 order-sm-1">
 <main>
 [% INCLUDE 'messages.inc' %]

[% IF Koha.Preference('EnableAdvancedCatalogingEditor') %]
 <div id="toggle-editor">
 <label for="toggle-editor">Avancerad redigerare: </label>
 <label class="switch">
 <input id="toggleEditor" type="checkbox" checked="checked">
 <span class="slider"></span>
 </label>
 </div>
[% END %]

<h1 id="title">Katalogredigerare</h1>


<div id="editor">
 <input id="import-records-input" type="file" style="display: none">
 <div id="toolbar" class="btn-toolbar">
 <button class="btn btn-default" id="new-record" title="Öppna ny post"><i class="fa fa-plus"></i> <span>Ny post</span></button>
 <div class="btn-group">
 <button class="btn btn-default" id="save-record" title="Spara aktuell post (Ctrl-S)"><i class="fa-solid fa-hard-drive"></i> <span>Spara</span></button>
 <button class="btn btn-default dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">

 </button>
 <ul class="dropdown-menu" id="save-dropdown">
 </ul>
 </div>
 <button class="btn btn-default" id="import-records" title="Importera en MARC- (ISO 2709) eller en MARCXML-post"><i class="fa fa-download"></i> <span>Importera post...</span></button>
 <button class="btn btn-default" id="open-macros" title="Köra och redigera makron"><i class="fa fa-play"></i> <span>Makron...</span></button>
 <div class="btn-group">
 <button class="btn btn-default dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false"><i class="fa fa-cog"></i> Inställningar</button>
 <ul id="prefs-menu" class="dropdown-menu">
 <li><a class="dropdown-item" id="switch-editor" href="#">Gå till grundläggande redigerare</a></li>
 <li><a class="dropdown-item" id="set-field-widgets" href="#"></a></li>
 <li><h6 class="dropdown-header">Ändra ramverk</li>
 <li>
 <a class="change-framework dropdown-item" data-frameworkcode="">
 <i class="fa fa-fw unselected">&nbsp;</i>
 <i class="fa fa-fw fa-check selected">&nbsp;</i>
 Standard </a>
 </li>
 [% FOREACH framework IN frameworks %]
 <li>
 <a class="change-framework dropdown-item" data-frameworkcode="[% framework.frameworkcode | html %]">
 <i class="fa fa-fw fa-check selected"></i>
 <i class="fa fa-fw unselected">&nbsp;</i>
 [% framework.frameworktext | html %]
 </a>
 </li>
 [% END %]
 <li><hr class="dropdown-divider" /></li>
 <li><a class="set-fontSize dropdown-item" style="font-size: .92em" href="#">Liten text</a></li>
 <li><a class="set-fontSize dropdown-item" style="font-size: 1em" href="#">Normal text</a></li>
 <li><a class="set-fontSize dropdown-item" style="font-size: 1.08em" href="#">Stor text</a></li>
 <li><a class="set-fontSize dropdown-item" style="font-size: 1.18em" href="#">Stor text</a></li>
 <li><hr class="dropdown-divider" /></li>
 <li><a class="set-font dropdown-item" style="font-family: monospace" href="#">Standardteckensnitt</a></li>
 <li><a class="set-font dropdown-item" style="font-family: Consolas" href="#">Consolas</a></li>
 <li><a class="set-font dropdown-item" style="font-family: 'Courier New'" href="#">Courier New</a></li>
 <li><a class="set-font dropdown-item" style="font-family: 'DejaVu Sans Mono'" href="#">DejaVu Sans Mono</a></li>
 <li><a class="set-font dropdown-item" style="font-family: 'Lucida Console'" href="#">Lucida Console</a></li>
 <li><a class="set-font dropdown-item" style="font-family: Monaco" href="#">Monaco</a></li>
 </ul>
 </div>
 <button class="btn btn-default" id="show-alerts" title="Föregående notifieringar"><i class="fa fa-bell"></i> Notifikationer</button>
 <button class="btn btn-default" id="show-shortcuts" title="Tangentbordsgenvägar som stöds"><i class="fa-solid fa-keyboard"></i> Tangentbordsgenvägar</button>
 <button class="btn btn-default hide" data-bs-target="#keyboard-layout" data-bs-toggle="modal" id="set-keyboard-layout" title="Ange layout för virtuellt tangentbord"><i class="fa-solid fa-keyboard"></i> Tangentbordslayout </button>
 </div>
 [%# CodeMirror instance will be inserted here %]
 <div id="statusbar">
 <div id="status-tag-info">
 </div>
 <div id="status-subfield-info">
 </div>
 </div>
</div>
 </main>
 </div> <!-- /.col-md-10.order-md-2 -->

 <div class="col-md-2 order-sm-2 order-md-1">
 <aside>
 <h3>Sök</h3>
 <form method="get" id="quicksearch">
 <fieldset class="brief">
 <ol>
 <li><label for="search-by-keywords">Nyckelord:</label></li>
 <li><input class="search-box" data-qualifier="term" id="search-by-keywords" placeholder="(Ctrl-Alt-K)" /></li>
 <li><label for="search-by-author">Författare:</label></li>
 <li><input class="search-box" data-qualifier="author" id="search-by-author" placeholder="(Ctrl-Alt-A)" /></li>
 <li><label for="search-by-isbn">ISBN:</label></li>
 <li><input class="search-box" data-qualifier="isbn" id="search-by-isbn" placeholder="(Ctrl-Alt-I)" /></li>
 <li><label for="search-by-title">Titel:</label></li>
 <li><input class="search-box" data-qualifier="title" id="search-by-title" placeholder="(Ctrl-Alt-T)" /></li>
 <li><a href="#" id="show-advanced-search" title="Visa avancerad sökning (Ctrl-Alt-S)">Avancerad &raquo;</a></li>
 </fieldset>
 </form>
 <h3>Kopiera till urklipp</h3>
 <fieldset class="brief">
 <select id="clipboard" name="clipboard" size=10>
 </select>
 </fieldset>
 </aside>
 </div> <!-- /.col-md-2.order-md-1 -->
 </div> <!-- /.row -->

</div>

<div id="advanced-search-ui" class="modal modal-full" tabindex="-1" role="dialog" aria-labelledby="advanced-search-title" aria-hidden="true">
 <div class="modal-dialog modal-xl">
 <div class="modal-content">
 <form method="get" id="advanced-search">
 <div class="modal-header">
 <h1 class="modal-title" id="advanced-search-title">Avancerad sökning</h1>
 <button aria-label="Stäng" class="btn-close" data-bs-dismiss="modal" type="button"></button>
 </div>
 <div class="modal-body">
 <div class="row">
 <div class="col-md-3">
 <div id="search-facets">
 <ul>
 <li>Servrar:<ul id="advanced-search-servers"></ul></li>
 </ul>
 </div>
 </div>
 <div class="col-md-9">
 <ul id="advanced-search-fields">
 <li>
 <label for="advanced-search-by-isbn">ISBN:</label>
 <input class="search-box" data-qualifier="isbn" id="advanced-search-by-isbn" />
 </li>
 <li>
 <label for="advanced-search-by-issn">ISSN:</label>
 <input class="search-box" data-qualifier="issn" id="advanced-search-by-issn" />
 </li>
 <li>
 <label for="advanced-search-by-title">Titel:</label>
 <input class="search-box" data-qualifier="title" id="advanced-search-by-title" />
 </li>
 <li>
 <label for="advanced-search-by-author">Författare:</label>
 <input class="search-box" data-qualifier="author" id="advanced-search-by-author" />
 </li>
 <li>
 <label for="advanced-search-by-subject">Ämne:</label>
 <input class="search-box" data-qualifier="subject" id="advanced-search-by-subject" />
 </li>
 <li>
 <label for="advanced-search-by-lc-number">LC hyllsignatur:</label>
 <input class="search-box" data-qualifier="cn_lc" id="advanced-search-by-lc-number" />
 </li>
 <li>
 <label for="advanced-search-by-lccn">LCCN:</label>
 <input class="search-box" data-qualifier="lccn" id="advanced-search-by-lccn" />
 </li>
 <li>
 <label for="advanced-search-by-control-number">Kontrollnummer:</label>
 <input class="search-box" data-qualifier="local_number" id="advanced-search-by-control-number" />
 </li>
 <li>
 <label for="advanced-search-by-dewey">Dewey-nummer:</label>
 <input class="search-box" data-qualifier="cn_dewey" id="advanced-search-by-dewey" />
 </li>
 <li>
 <label for="advanced-search-by-standard-number">Standardnummer:</label>
 <input class="search-box" data-qualifier="standard_identifier" id="advanced-search-by-standard-number" />
 </li>
 <li>
 <label for="advanced-search-by-publisher-number">Förläggarnummer:</label>
 <input class="search-box" data-qualifier="music_identifier" id="advanced-search-by-publisher-number" />
 </li>
 <li>
 <label for="advanced-search-by-publication-date">Utgivningsdatum:</label>
 <input class="search-box" data-qualifier="date" id="advanced-search-by-publication-date" />
 </li>
 </ul>
 </div> <!-- /.col-md-9 -->
 </div> <!-- /.row -->
 </div>
 <div class="modal-footer">
 <button class="btn btn-primary" type="submit"><i class="fa fa-search"></i> <span>Sök</span></button>
 <button class="btn btn-default" type="reset"><i class="fa fa-trash-can"></i> <span>Rensa</span></button>
 <button type="button" class="btn btn-default" data-bs-dismiss="modal">Stäng</button>
 </div>
 </form>
 </div>
 </div>
</div>

<div id="search-results-ui" class="modal modal-full" tabindex="-1" role="dialog" aria-labelledby="search-results-title" aria-hidden="true">
 <div class="modal-dialog modal-xl">
 <div class="modal-content">
 <div class="modal-header">
 <h1 class="modal-title" id="search-results-title">Resultat</h1>
 <button aria-label="Stäng" class="btn-close" data-bs-dismiss="modal" type="button"></button>
 </div>
 <div class="modal-body">
 <div class="row">
 <div class="col-md-3">
 <div id="search-facets">
 <ul>
 <li>Servrar:<ul id="search-serversinfo"></ul></li>
 </ul>
 </div>
 </div>
 <div class="col-md-9">
 <!-- tabindex attribute allows JS-controlled focus -->
 <div id="searchresults" tabindex="-1">
 <div id="search-top-pages">
 <nav aria-label="Navigera sökresultat">
 </nav>
 </div>

 <table class="dataTable"> <!-- This is not a real dataTable but we want to inherit the CSS rules -->
 <thead>
 <tr></tr>
 </thead>
 <tbody></tbody>
 </table>

 <div id="search-bottom-pages">
 <nav aria-label="Navigera sökresultat">
 </nav>
 </div>
 </div>
 </div>
 </div>
 <div id="search-overlay"><span>Laddar...</span><div class="progress"><div class="progress-bar progress-bar-striped progress-bar-animated" style="width: 100%"></div></div></div>
 </div>
 <div class="modal-footer">
 <button type="button" class="btn btn-default" data-bs-dismiss="modal">Stäng</button>
 </div>
 </div>
 </div>
</div>

<div id="macro-ui" class="modal" tabindex="-1" role="dialog" aria-labelledby="macro-title" aria-hidden="true">
 <div class="modal-dialog modal-lg">
 <div class="modal-content">
 <div class="modal-header">
 <h1 class="modal-title" id="macro-title">Makron</h1>
 <button aria-label="Stäng" class="btn-close" data-bs-dismiss="modal" type="button"></button>
 </div>
 <div class="modal-body">
 <div class="row">
 <div class="col-md-3"><ul id="macro-list"></ul></div>
 <div class="col-md-9" id="macro-editor">
 <div id="macro-toolbar" class="btn-toolbar">
 <button class="btn btn-default" id="run-macro" title="Köra och redigera makron"><i class="fa fa-play"></i> Kör makro</button>
 <button class="btn btn-default" id="delete-macro" title="Ta bort makro"><i class="fa fa-trash-can"></i> Ta bort makro</button>
 <label class="macro_shared" for="public" style="display:none;">Offentligt makro:</label>
 [% IF CAN_user_editcatalogue_create_shared_macros %]
 <input class="macro_shared" type="checkbox" name="public" style="display:none;"/>
 [% ELSE %]
 <input class="macro_shared" type="checkbox" name="public" style="display:none;" disabled/>
 [% END %]
 <div id="macro-save-message"></div>
 </div>
 </div>
 </div>
 </div>
 <div class="modal-footer">
 <button type="button" class="btn btn-default" data-bs-dismiss="modal">Stäng</button>
 </div>
 </div>
 </div>
</div>

<div id="keyboard-layout" class="modal" role="dialog">
 <div class="modal-dialog modal-xl">
 <div class="modal-content">
 <div class="modal-header">
 <h1 class="modal-title">Ange layout för virtuellt tangentbord</h1>
 <button aria-label="Stäng" class="btn-close" data-bs-dismiss="modal" type="button"></button>
 </div>
 <div class="modal-body">
 <div class="form-group">
 <label for="exampleInputEmail1">Filterera layouter</label>
 <input type="search" class="form-control filter"/>
 </div>
 <hr/>
 <div class="layouts"></div>
 </div>
 <div class="modal-footer">
 <button type="button" class="btn btn-default" data-bs-dismiss="modal">Stäng</button>
 </div>
 </div>
 </div>
</div>

<div id="shortcuts-contents" style="display: none">
[% IF ( CAN_user_parameters_manage_keyboard_shortcuts ) %]
 <a id="redefine_shortcuts" href="/cgi-bin/koha/admin/adveditorshortcuts.pl">Omdefiniera genvägar</a>
[% END %]
<table class="table table-condensed">
 <thead>
 <tr>
 <th>Genväg</th>
 <th>Beteende</th>
 </tr>
 </thead>
 <tbody>
 [% FOREACH shortcut IN shortcuts %]
 <tr>
 <td>[% shortcut.shortcut_keys | html %]</td>
 <td>[% PROCESS keyboard_shortcut_descriptions shortcut_name=shortcut.shortcut_name %]</td>
 </tr>
 [% END %]
 <tr>
 <td>Ctrl-S</td>
 <td>Spara post (kan inte mappas om)</td>
 </tr>
 </tbody>
</table>
</div>

[% PROCESS 'cateditor-ui.inc' %]

[% INCLUDE 'intranet-bottom.inc' %]
